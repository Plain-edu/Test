(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();var yd={exports:{}},yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function q1(){if(l_)return yl;l_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var g in l)g!=="key"&&(h[g]=l[g])}else h=l;return l=h.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:h}}return yl.Fragment=t,yl.jsx=i,yl.jsxs=i,yl}var u_;function H1(){return u_||(u_=1,yd.exports=q1()),yd.exports}var A=H1(),_d={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function G1(){if(c_)return wt;c_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.iterator;function O(x){return x===null||typeof x!="object"?null:(x=C&&x[C]||x["@@iterator"],typeof x=="function"?x:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,it={};function J(x,$,et){this.props=x,this.context=$,this.refs=it,this.updater=et||F}J.prototype.isReactComponent={},J.prototype.setState=function(x,$){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,$,"setState")},J.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function _t(){}_t.prototype=J.prototype;function dt(x,$,et){this.props=x,this.context=$,this.refs=it,this.updater=et||F}var ct=dt.prototype=new _t;ct.constructor=dt,Z(ct,J.prototype),ct.isPureReactComponent=!0;var Lt=Array.isArray,Tt={H:null,A:null,T:null,S:null,V:null},jt=Object.prototype.hasOwnProperty;function V(x,$,et,W,lt,St){return et=St.ref,{$$typeof:s,type:x,key:$,ref:et!==void 0?et:null,props:St}}function S(x,$){return V(x.type,$,void 0,void 0,void 0,x.props)}function I(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function D(x){var $={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(et){return $[et]})}var M=/\/+/g;function P(x,$){return typeof x=="object"&&x!==null&&x.key!=null?D(""+x.key):$.toString(36)}function R(){}function Oe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(R,R):(x.status="pending",x.then(function($){x.status==="pending"&&(x.status="fulfilled",x.value=$)},function($){x.status==="pending"&&(x.status="rejected",x.reason=$)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function le(x,$,et,W,lt){var St=typeof x;(St==="undefined"||St==="boolean")&&(x=null);var mt=!1;if(x===null)mt=!0;else switch(St){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(x.$$typeof){case s:case t:mt=!0;break;case b:return mt=x._init,le(mt(x._payload),$,et,W,lt)}}if(mt)return lt=lt(x),mt=W===""?"."+P(x,0):W,Lt(lt)?(et="",mt!=null&&(et=mt.replace(M,"$&/")+"/"),le(lt,$,et,"",function(An){return An})):lt!=null&&(I(lt)&&(lt=S(lt,et+(lt.key==null||x&&x.key===lt.key?"":(""+lt.key).replace(M,"$&/")+"/")+mt)),$.push(lt)),1;mt=0;var de=W===""?".":W+":";if(Lt(x))for(var Ft=0;Ft<x.length;Ft++)W=x[Ft],St=de+P(W,Ft),mt+=le(W,$,et,St,lt);else if(Ft=O(x),typeof Ft=="function")for(x=Ft.call(x),Ft=0;!(W=x.next()).done;)W=W.value,St=de+P(W,Ft++),mt+=le(W,$,et,St,lt);else if(St==="object"){if(typeof x.then=="function")return le(Oe(x),$,et,W,lt);throw $=String(x),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return mt}function H(x,$,et){if(x==null)return x;var W=[],lt=0;return le(x,W,"","",function(St){return $.call(et,St,lt++)}),W}function nt(x){if(x._status===-1){var $=x._result;$=$(),$.then(function(et){(x._status===0||x._status===-1)&&(x._status=1,x._result=et)},function(et){(x._status===0||x._status===-1)&&(x._status=2,x._result=et)}),x._status===-1&&(x._status=0,x._result=$)}if(x._status===1)return x._result.default;throw x._result}var ot=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function zt(){}return wt.Children={map:H,forEach:function(x,$,et){H(x,function(){$.apply(this,arguments)},et)},count:function(x){var $=0;return H(x,function(){$++}),$},toArray:function(x){return H(x,function($){return $})||[]},only:function(x){if(!I(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},wt.Component=J,wt.Fragment=i,wt.Profiler=l,wt.PureComponent=dt,wt.StrictMode=r,wt.Suspense=y,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt,wt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return Tt.H.useMemoCache(x)}},wt.cache=function(x){return function(){return x.apply(null,arguments)}},wt.cloneElement=function(x,$,et){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var W=Z({},x.props),lt=x.key,St=void 0;if($!=null)for(mt in $.ref!==void 0&&(St=void 0),$.key!==void 0&&(lt=""+$.key),$)!jt.call($,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&$.ref===void 0||(W[mt]=$[mt]);var mt=arguments.length-2;if(mt===1)W.children=et;else if(1<mt){for(var de=Array(mt),Ft=0;Ft<mt;Ft++)de[Ft]=arguments[Ft+2];W.children=de}return V(x.type,lt,void 0,void 0,St,W)},wt.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:h,_context:x},x},wt.createElement=function(x,$,et){var W,lt={},St=null;if($!=null)for(W in $.key!==void 0&&(St=""+$.key),$)jt.call($,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(lt[W]=$[W]);var mt=arguments.length-2;if(mt===1)lt.children=et;else if(1<mt){for(var de=Array(mt),Ft=0;Ft<mt;Ft++)de[Ft]=arguments[Ft+2];lt.children=de}if(x&&x.defaultProps)for(W in mt=x.defaultProps,mt)lt[W]===void 0&&(lt[W]=mt[W]);return V(x,St,void 0,void 0,null,lt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(x){return{$$typeof:g,render:x}},wt.isValidElement=I,wt.lazy=function(x){return{$$typeof:b,_payload:{_status:-1,_result:x},_init:nt}},wt.memo=function(x,$){return{$$typeof:v,type:x,compare:$===void 0?null:$}},wt.startTransition=function(x){var $=Tt.T,et={};Tt.T=et;try{var W=x(),lt=Tt.S;lt!==null&&lt(et,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(zt,ot)}catch(St){ot(St)}finally{Tt.T=$}},wt.unstable_useCacheRefresh=function(){return Tt.H.useCacheRefresh()},wt.use=function(x){return Tt.H.use(x)},wt.useActionState=function(x,$,et){return Tt.H.useActionState(x,$,et)},wt.useCallback=function(x,$){return Tt.H.useCallback(x,$)},wt.useContext=function(x){return Tt.H.useContext(x)},wt.useDebugValue=function(){},wt.useDeferredValue=function(x,$){return Tt.H.useDeferredValue(x,$)},wt.useEffect=function(x,$,et){var W=Tt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(x,$)},wt.useId=function(){return Tt.H.useId()},wt.useImperativeHandle=function(x,$,et){return Tt.H.useImperativeHandle(x,$,et)},wt.useInsertionEffect=function(x,$){return Tt.H.useInsertionEffect(x,$)},wt.useLayoutEffect=function(x,$){return Tt.H.useLayoutEffect(x,$)},wt.useMemo=function(x,$){return Tt.H.useMemo(x,$)},wt.useOptimistic=function(x,$){return Tt.H.useOptimistic(x,$)},wt.useReducer=function(x,$,et){return Tt.H.useReducer(x,$,et)},wt.useRef=function(x){return Tt.H.useRef(x)},wt.useState=function(x){return Tt.H.useState(x)},wt.useSyncExternalStore=function(x,$,et){return Tt.H.useSyncExternalStore(x,$,et)},wt.useTransition=function(){return Tt.H.useTransition()},wt.version="19.1.0",wt}var h_;function um(){return h_||(h_=1,_d.exports=G1()),_d.exports}var Kt=um(),vd={exports:{}},_l={},Ed={exports:{}},Td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function F1(){return f_||(f_=1,function(s){function t(H,nt){var ot=H.length;H.push(nt);t:for(;0<ot;){var zt=ot-1>>>1,x=H[zt];if(0<l(x,nt))H[zt]=nt,H[ot]=x,ot=zt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var nt=H[0],ot=H.pop();if(ot!==nt){H[0]=ot;t:for(var zt=0,x=H.length,$=x>>>1;zt<$;){var et=2*(zt+1)-1,W=H[et],lt=et+1,St=H[lt];if(0>l(W,ot))lt<x&&0>l(St,W)?(H[zt]=St,H[lt]=ot,zt=lt):(H[zt]=W,H[et]=ot,zt=et);else if(lt<x&&0>l(St,ot))H[zt]=St,H[lt]=ot,zt=lt;else break t}}return nt}function l(H,nt){var ot=H.sortIndex-nt.sortIndex;return ot!==0?ot:H.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],v=[],b=1,C=null,O=3,F=!1,Z=!1,it=!1,J=!1,_t=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function Lt(H){for(var nt=i(v);nt!==null;){if(nt.callback===null)r(v);else if(nt.startTime<=H)r(v),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=i(v)}}function Tt(H){if(it=!1,Lt(H),!Z)if(i(y)!==null)Z=!0,jt||(jt=!0,P());else{var nt=i(v);nt!==null&&le(Tt,nt.startTime-H)}}var jt=!1,V=-1,S=5,I=-1;function D(){return J?!0:!(s.unstable_now()-I<S)}function M(){if(J=!1,jt){var H=s.unstable_now();I=H;var nt=!0;try{t:{Z=!1,it&&(it=!1,dt(V),V=-1),F=!0;var ot=O;try{e:{for(Lt(H),C=i(y);C!==null&&!(C.expirationTime>H&&D());){var zt=C.callback;if(typeof zt=="function"){C.callback=null,O=C.priorityLevel;var x=zt(C.expirationTime<=H);if(H=s.unstable_now(),typeof x=="function"){C.callback=x,Lt(H),nt=!0;break e}C===i(y)&&r(y),Lt(H)}else r(y);C=i(y)}if(C!==null)nt=!0;else{var $=i(v);$!==null&&le(Tt,$.startTime-H),nt=!1}}break t}finally{C=null,O=ot,F=!1}nt=void 0}}finally{nt?P():jt=!1}}}var P;if(typeof ct=="function")P=function(){ct(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Oe=R.port2;R.port1.onmessage=M,P=function(){Oe.postMessage(null)}}else P=function(){_t(M,0)};function le(H,nt){V=_t(function(){H(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(H){switch(O){case 1:case 2:case 3:var nt=3;break;default:nt=O}var ot=O;O=nt;try{return H()}finally{O=ot}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=O;O=H;try{return nt()}finally{O=ot}},s.unstable_scheduleCallback=function(H,nt,ot){var zt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?zt+ot:zt):ot=zt,H){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ot+x,H={id:b++,callback:nt,priorityLevel:H,startTime:ot,expirationTime:x,sortIndex:-1},ot>zt?(H.sortIndex=ot,t(v,H),i(y)===null&&H===i(v)&&(it?(dt(V),V=-1):it=!0,le(Tt,ot-zt))):(H.sortIndex=x,t(y,H),Z||F||(Z=!0,jt||(jt=!0,P()))),H},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(H){var nt=O;return function(){var ot=O;O=nt;try{return H.apply(this,arguments)}finally{O=ot}}}}(Td)),Td}var d_;function Q1(){return d_||(d_=1,Ed.exports=F1()),Ed.exports}var bd={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function Y1(){if(m_)return Ze;m_=1;var s=um();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,v,b){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:y,containerInfo:v,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ze.createPortal=function(y,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return h(y,v,null,b)},Ze.flushSync=function(y){var v=d.T,b=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=v,r.p=b,r.d.f()}},Ze.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(y,v))},Ze.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Ze.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var b=v.as,C=g(b,v.crossOrigin),O=typeof v.integrity=="string"?v.integrity:void 0,F=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?r.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:O,fetchPriority:F}):b==="script"&&r.d.X(y,{crossOrigin:C,integrity:O,fetchPriority:F,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ze.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=g(v.as,v.crossOrigin);r.d.M(y,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(y)},Ze.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,C=g(b,v.crossOrigin);r.d.L(y,b,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ze.preloadModule=function(y,v){if(typeof y=="string")if(v){var b=g(v.as,v.crossOrigin);r.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(y)},Ze.requestFormReset=function(y){r.d.r(y)},Ze.unstable_batchedUpdates=function(y,v){return y(v)},Ze.useFormState=function(y,v,b){return d.H.useFormState(y,v,b)},Ze.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ze.version="19.1.0",Ze}var g_;function K1(){if(g_)return bd.exports;g_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),bd.exports=Y1(),bd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function X1(){if(p_)return _l;p_=1;var s=Q1(),t=um(),i=K1();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){a=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return g(c),e;if(f===o)return g(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=c,o=f;else{for(var _=!1,E=c.child;E;){if(E===a){_=!0,a=c,o=f;break}if(E===o){_=!0,o=c,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,o=c;break}if(E===o){_=!0,o=f,a=c;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,C=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),_t=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),jt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case J:return"Profiler";case it:return"StrictMode";case Tt:return"Suspense";case jt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case F:return"Portal";case ct:return(e.displayName||"Context")+".Provider";case dt:return(e._context.displayName||"Context")+".Consumer";case Lt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return n=e.displayName||null,n!==null?n:Oe(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Oe(e(n))}catch{}}return null}var le=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},zt=[],x=-1;function $(e){return{current:e}}function et(e){0>x||(e.current=zt[x],zt[x]=null,x--)}function W(e,n){x++,zt[x]=e.current,e.current=n}var lt=$(null),St=$(null),mt=$(null),de=$(null);function Ft(e,n){switch(W(mt,n),W(St,e),W(lt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Py(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Py(n),e=Uy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(lt),W(lt,e)}function An(){et(lt),et(St),et(mt)}function Xn(e){e.memoizedState!==null&&W(de,e);var n=lt.current,a=Uy(n,e.type);n!==a&&(W(St,e),W(lt,a))}function Sn(e){St.current===e&&(et(lt),et(St)),de.current===e&&(et(de),fl._currentValue=ot)}var Ti=Object.prototype.hasOwnProperty,$n=s.unstable_scheduleCallback,Me=s.unstable_cancelCallback,ze=s.unstable_shouldYield,bi=s.unstable_requestPaint,nn=s.unstable_now,co=s.unstable_getCurrentPriorityLevel,Jr=s.unstable_ImmediatePriority,te=s.unstable_UserBlockingPriority,ft=s.unstable_NormalPriority,ie=s.unstable_LowPriority,ar=s.unstable_IdlePriority,Wr=s.log,mn=s.unstable_setDisableYieldValue,re=null,Mt=null;function rn(e){if(typeof Wr=="function"&&mn(e),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(re,e)}catch{}}var Xe=Math.clz32?Math.clz32:ts,$l=Math.log,_h=Math.LN2;function ts(e){return e>>>=0,e===0?32:31-($l(e)/_h|0)|0}var es=256,ns=4194304;function zn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qs(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=zn(o):(_&=E,_!==0?c=zn(_):a||(a=E&~e,a!==0&&(c=zn(a))))):(E=o&~f,E!==0?c=zn(E):_!==0?c=zn(_):a||(a=o&~e,a!==0&&(c=zn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function is(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ho(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fo(){var e=es;return es<<=1,(es&4194048)===0&&(es=256),e}function mo(){var e=ns;return ns<<=1,(ns&62914560)===0&&(ns=4194304),e}function Ai(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Si(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function go(e,n,a,o,c,f){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,j=e.hiddenUpdates;for(a=_&~a;0<a;){var G=31-Xe(a),Y=1<<G;E[G]=0,w[G]=-1;var z=j[G];if(z!==null)for(j[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}a&=~Y}o!==0&&Zn(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~n))}function Zn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Xe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function po(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Xe(a),c=1<<o;c&n|e[o]&n&&(e[o]|=n),a&=~c}}function or(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ys(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lr(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:n_(e.type))}function Zl(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var ae=Math.random().toString(36).slice(2),Re="__reactFiber$"+ae,_e="__reactProps$"+ae,wn="__reactContainer$"+ae,yo="__reactEvents$"+ae,vh="__reactListeners$"+ae,ur="__reactHandles$"+ae,Jl="__reactResources$"+ae,rs="__reactMarker$"+ae;function cr(e){delete e[Re],delete e[_e],delete e[yo],delete e[vh],delete e[ur]}function wi(e){var n=e[Re];if(n)return n;for(var a=e.parentNode;a;){if(n=a[wn]||a[Re]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=By(e);e!==null;){if(a=e[Re])return a;e=By(e)}return n}e=a,a=e.parentNode}return null}function Jn(e){if(e=e[Re]||e[wn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Wn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function sn(e){var n=e[Jl];return n||(n=e[Jl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function me(e){e[rs]=!0}var _o=new Set,Ks={};function Bn(e,n){Ri(e,n),Ri(e+"Capture",n)}function Ri(e,n){for(Ks[e]=n,e=0;e<n.length;e++)_o.add(n[e])}var Wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tu={},ss={};function eu(e){return Ti.call(ss,e)?!0:Ti.call(tu,e)?!1:Wl.test(e)?ss[e]=!0:(tu[e]=!0,!1)}function hr(e,n,a){if(eu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function ti(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Be(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}var as,nu;function Ii(e){if(as===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);as=n&&n[1]||"",nu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+as+e+nu}var Xs=!1;function $s(e,n){if(!e||Xs)return"";Xs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var z=B}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(B){z=B}e.call(Y.prototype)}}else{try{throw Error()}catch(B){z=B}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var w=_.split(`
`),j=E.split(`
`);for(c=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;if(o===w.length||c===j.length)for(o=w.length-1,c=j.length-1;1<=o&&0<=c&&w[o]!==j[c];)c--;for(;1<=o&&0<=c;o--,c--)if(w[o]!==j[c]){if(o!==1||c!==1)do if(o--,c--,0>c||w[o]!==j[c]){var G=`
`+w[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=c);break}}}finally{Xs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ii(a):""}function vo(e){switch(e.tag){case 26:case 27:case 5:return Ii(e.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return $s(e.type,!1);case 11:return $s(e.type.render,!1);case 1:return $s(e.type,!0);case 31:return Ii("Activity");default:return""}}function Zs(e){try{var n="";do n+=vo(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Eo(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Eh(e){var n=Eo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(_){o=""+_,f.call(this,_)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Js(e){e._valueTracker||(e._valueTracker=Eh(e))}function To(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Eo(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function os(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Th=/[\n"\\]/g;function ve(e){return e.replace(Th,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function gn(e,n,a,o,c,f,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+an(n)):e.value!==""+an(n)&&(e.value=""+an(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?fr(e,_,an(n)):a!=null?fr(e,_,an(a)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+an(E):e.removeAttribute("name")}function ls(e,n,a,o,c,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+an(a):"",n=n!=null?""+an(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function fr(e,n,a){n==="number"&&os(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function xi(e,n,a,o){if(e=e.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=n.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&o&&(e[a].defaultSelected=!0)}else{for(a=""+an(a),n=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Xt(e,n,a){if(n!=null&&(n=""+an(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+an(a):""}function us(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(le(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=an(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function Rn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var cs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function iu(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||cs.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function bo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&a[c]!==o&&iu(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&iu(e,f,n[f])}function Ao(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ah=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ws(e){return Ah.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ci=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ni=null,Di=null;function So(e){var n=Jn(e);if(n&&(e=n.stateNode)){var a=e[_e]||null;t:switch(e=n.stateNode,n.type){case"input":if(gn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ve(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var c=o[_e]||null;if(!c)throw Error(r(90));gn(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&To(o)}break t;case"textarea":Xt(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&xi(e,!!a.multiple,n,!1)}}}var ei=!1;function ru(e,n,a){if(ei)return e(n,a);ei=!0;try{var o=e(n);return o}finally{if(ei=!1,(Ni!==null||Di!==null)&&(Zu(),Ni&&(n=Ni,e=Di,Di=Ni=null,So(n),e)))for(n=0;n<e.length;n++)So(e[n])}}function hs(e,n){var a=e.stateNode;if(a===null)return null;var o=a[_e]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if(qn)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){xn=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{xn=!1}var ni=null,dr=null,Oi=null;function wo(){if(Oi)return Oi;var e,n=dr,a=n.length,o,c="value"in ni?ni.value:ni.textContent,f=c.length;for(e=0;e<a&&n[e]===c[e];e++);var _=a-e;for(o=1;o<=_&&n[a-o]===c[f-o];o++);return Oi=c.slice(e,1<o?1-o:void 0)}function ii(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ri(){return!0}function Ro(){return!1}function Ve(e){function n(a,o,c,f,_){this._reactName=a,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ri:Ro,this.isPropagationStopped=Ro,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ta=Ve(Ht),ds=b({},Ht,{view:0,detail:0}),su=Ve(ds),ea,na,si,ms=b({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(ea=e.screenX-si.screenX,na=e.screenY-si.screenY):na=ea=0,si=e),ea)},movementY:function(e){return"movementY"in e?e.movementY:na}}),Cn=Ve(ms),au=b({},ms,{dataTransfer:0}),Sh=Ve(au),gs=b({},ds,{relatedTarget:0}),ia=Ve(gs),Io=b({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),ra=Ve(Io),ou=b({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sa=Ve(ou),wh=b({},Ht,{data:0}),xo=Ve(wh),ps={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Co(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=uu[e])?!!n[e]:!1}function ys(){return Co}var cu=b({},ds,{key:function(e){if(e.key){var n=ps[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),aa=Ve(cu),hu=b({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),No=Ve(hu),Mi=b({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),fu=Ve(Mi),du=b({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),mu=Ve(du),gu=b({},ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oa=Ve(gu),on=b({},Ht,{newState:0,oldState:0}),pu=Ve(on),yu=[9,13,27,32],ai=qn&&"CompositionEvent"in window,u=null;qn&&"documentMode"in document&&(u=document.documentMode);var m=qn&&"TextEvent"in window&&!u,p=qn&&(!ai||u&&8<u&&11>=u),T=" ",U=!1;function q(e,n){switch(e){case"keyup":return yu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vt=!1;function Ie(e,n){switch(e){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return e=n.data,e===T&&U?null:e;default:return null}}function kt(e,n){if(Vt)return e==="compositionend"||!ai&&q(e,n)?(e=wo(),Oi=dr=ni=null,Vt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var ke={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xe(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ke[e.type]:n==="textarea"}function Vi(e,n,a,o){Ni?Di?Di.push(o):Di=[o]:Ni=o,n=ic(n,"onChange"),0<n.length&&(a=new ta("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var qe=null,oi=null;function Do(e){Dy(e,0)}function _u(e){var n=Wn(e);if(To(n))return e}function Jm(e,n){if(e==="change")return n}var Wm=!1;if(qn){var Rh;if(qn){var Ih="oninput"in document;if(!Ih){var tg=document.createElement("div");tg.setAttribute("oninput","return;"),Ih=typeof tg.oninput=="function"}Rh=Ih}else Rh=!1;Wm=Rh&&(!document.documentMode||9<document.documentMode)}function eg(){qe&&(qe.detachEvent("onpropertychange",ng),oi=qe=null)}function ng(e){if(e.propertyName==="value"&&_u(oi)){var n=[];Vi(n,oi,e,In(e)),ru(Do,n)}}function _T(e,n,a){e==="focusin"?(eg(),qe=n,oi=a,qe.attachEvent("onpropertychange",ng)):e==="focusout"&&eg()}function vT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _u(oi)}function ET(e,n){if(e==="click")return _u(n)}function TT(e,n){if(e==="input"||e==="change")return _u(n)}function bT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:bT;function Oo(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var c=a[o];if(!Ti.call(n,c)||!pn(e[c],n[c]))return!1}return!0}function ig(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rg(e,n){var a=ig(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ig(a)}}function sg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?sg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ag(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=os(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=os(e.document)}return n}function xh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var AT=qn&&"documentMode"in document&&11>=document.documentMode,la=null,Ch=null,Mo=null,Nh=!1;function og(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nh||la==null||la!==os(o)||(o=la,"selectionStart"in o&&xh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Mo&&Oo(Mo,o)||(Mo=o,o=ic(Ch,"onSelect"),0<o.length&&(n=new ta("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=la)))}function _s(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ua={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},Dh={},lg={};qn&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function vs(e){if(Dh[e])return Dh[e];if(!ua[e])return e;var n=ua[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in lg)return Dh[e]=n[a];return e}var ug=vs("animationend"),cg=vs("animationiteration"),hg=vs("animationstart"),ST=vs("transitionrun"),wT=vs("transitionstart"),RT=vs("transitioncancel"),fg=vs("transitionend"),dg=new Map,Oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oh.push("scrollEnd");function Hn(e,n){dg.set(e,n),Bn(n,[e])}var mg=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var a=mg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Zs(n)},mg.set(e,n),n)}return{value:e,source:n,stack:Zs(n)}}var Dn=[],ca=0,Mh=0;function vu(){for(var e=ca,n=Mh=ca=0;n<e;){var a=Dn[n];Dn[n++]=null;var o=Dn[n];Dn[n++]=null;var c=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,o!==null&&c!==null){var _=o.pending;_===null?c.next=c:(c.next=_.next,_.next=c),o.pending=c}f!==0&&gg(a,c,f)}}function Eu(e,n,a,o){Dn[ca++]=e,Dn[ca++]=n,Dn[ca++]=a,Dn[ca++]=o,Mh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Vh(e,n,a,o){return Eu(e,n,a,o),Tu(e)}function ha(e,n){return Eu(e,null,null,n),Tu(e)}function gg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var c=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-Xe(a),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=a|536870912),f):null}function Tu(e){if(50<rl)throw rl=0,Bf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fa={};function IT(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,n,a,o){return new IT(e,n,a,o)}function kh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,n){var a=e.alternate;return a===null?(a=yn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function pg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function bu(e,n,a,o,c,f){var _=0;if(o=e,typeof e=="function")kh(e)&&(_=1);else if(typeof e=="string")_=C1(e,a,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=yn(31,a,n,c),e.elementType=I,e.lanes=f,e;case Z:return Es(a.children,c,f,n);case it:_=8,c|=24;break;case J:return e=yn(12,a,n,c|2),e.elementType=J,e.lanes=f,e;case Tt:return e=yn(13,a,n,c),e.elementType=Tt,e.lanes=f,e;case jt:return e=yn(19,a,n,c),e.elementType=jt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:case ct:_=10;break t;case dt:_=9;break t;case Lt:_=11;break t;case V:_=14;break t;case S:_=16,o=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=yn(_,a,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function Es(e,n,a,o){return e=yn(7,e,o,n),e.lanes=a,e}function Ph(e,n,a){return e=yn(6,e,null,n),e.lanes=a,e}function Uh(e,n,a){return n=yn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var da=[],ma=0,Au=null,Su=0,On=[],Mn=0,Ts=null,Pi=1,Ui="";function bs(e,n){da[ma++]=Su,da[ma++]=Au,Au=e,Su=n}function yg(e,n,a){On[Mn++]=Pi,On[Mn++]=Ui,On[Mn++]=Ts,Ts=e;var o=Pi;e=Ui;var c=32-Xe(o)-1;o&=~(1<<c),a+=1;var f=32-Xe(n)+c;if(30<f){var _=c-c%5;f=(o&(1<<_)-1).toString(32),o>>=_,c-=_,Pi=1<<32-Xe(n)+c|a<<c|o,Ui=f+e}else Pi=1<<f|a<<c|o,Ui=e}function Lh(e){e.return!==null&&(bs(e,1),yg(e,1,0))}function jh(e){for(;e===Au;)Au=da[--ma],da[ma]=null,Su=da[--ma],da[ma]=null;for(;e===Ts;)Ts=On[--Mn],On[Mn]=null,Ui=On[--Mn],On[Mn]=null,Pi=On[--Mn],On[Mn]=null}var ln=null,he=null,qt=!1,As=null,li=!1,zh=Error(r(519));function Ss(e){var n=Error(r(418,""));throw Po(Nn(n,e)),zh}function _g(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Re]=e,n[_e]=o,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<al.length;a++)Ct(al[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),ls(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Js(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),us(n,o.value,o.defaultValue,o.children),Js(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||ky(n.textContent,a)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=rc),n=!0):n=!1,n||Ss(e)}function vg(e){for(ln=e.return;ln;)switch(ln.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:ln=ln.return}}function Vo(e){if(e!==ln)return!1;if(!qt)return vg(e),qt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||id(e.type,e.memoizedProps)),a=!a),a&&he&&Ss(e),vg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){he=Fn(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}he=null}}else n===27?(n=he,Cr(e.type)?(e=od,od=null,he=e):he=n):he=ln?Fn(e.stateNode.nextSibling):null;return!0}function ko(){he=ln=null,qt=!1}function Eg(){var e=As;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),As=null),e}function Po(e){As===null?As=[e]:As.push(e)}var Bh=$(null),ws=null,Li=null;function mr(e,n,a){W(Bh,n._currentValue),n._currentValue=a}function ji(e){e._currentValue=Bh.current,et(Bh)}function qh(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function Hh(e,n,a,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var _=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),qh(f.return,a,e),o||(_=null);break t}f=E.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),qh(_,a,e),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===e){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function Uo(e,n,a,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=c.type;pn(c.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(c===de.current){if(_=c.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}c=c.return}e!==null&&Hh(n,e,a,o),n.flags|=262144}function wu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rs(e){ws=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return Tg(ws,e)}function Ru(e,n){return ws===null&&Rs(e),Tg(e,n)}function Tg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Li===null){if(e===null)throw Error(r(308));Li=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Li=Li.next=n;return a}var xT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},CT=s.unstable_scheduleCallback,NT=s.unstable_NormalPriority,Ce={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gh(){return{controller:new xT,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&CT(NT,function(){e.controller.abort()})}var jo=null,Fh=0,ga=0,pa=null;function DT(e,n){if(jo===null){var a=jo=[];Fh=0,ga=Kf(),pa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Fh++,n.then(bg,bg),n}function bg(){if(--Fh===0&&jo!==null){pa!==null&&(pa.status="fulfilled");var e=jo;jo=null,ga=0,pa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function OT(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),o}var Ag=H.S;H.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&DT(e,n),Ag!==null&&Ag(e,n)};var Is=$(null);function Qh(){var e=Is.current;return e!==null?e:ee.pooledCache}function Iu(e,n){n===null?W(Is,Is.current):W(Is,n.pool)}function Sg(){var e=Qh();return e===null?null:{parent:Ce._currentValue,pool:e}}var zo=Error(r(460)),wg=Error(r(474)),xu=Error(r(542)),Yh={then:function(){}};function Rg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Cu(){}function Ig(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Cu,Cu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Cg(e),e;default:if(typeof n.status=="string")n.then(Cu,Cu);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Cg(e),e}throw Bo=n,zo}}var Bo=null;function xg(){if(Bo===null)throw Error(r(459));var e=Bo;return Bo=null,e}function Cg(e){if(e===zo||e===xu)throw Error(r(483))}var gr=!1;function Kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function pr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function yr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=Tu(e),gg(e,null,a),n}return Eu(e,o,n,a),Tu(e)}function qo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,po(e,a)}}function $h(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Zh=!1;function Ho(){if(Zh){var e=pa;if(e!==null)throw e}}function Go(e,n,a,o){Zh=!1;var c=e.updateQueue;gr=!1;var f=c.firstBaseUpdate,_=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,j=w.next;w.next=null,_===null?f=j:_.next=j,_=w;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==_&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=w))}if(f!==null){var Y=c.baseState;_=0,G=j=w=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Pt&z)===z:(o&z)===z){z!==0&&z===ga&&(Zh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var vt=e,gt=E;z=n;var Jt=a;switch(gt.tag){case 1:if(vt=gt.payload,typeof vt=="function"){Y=vt.call(Jt,Y,z);break t}Y=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=gt.payload,z=typeof vt=="function"?vt.call(Jt,Y,z):vt,z==null)break t;Y=b({},Y,z);break t;case 2:gr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=c.callbacks,B===null?c.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=B,w=Y):G=G.next=B,_|=z;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);G===null&&(w=Y),c.baseState=w,c.firstBaseUpdate=j,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),wr|=_,e.lanes=_,e.memoizedState=Y}}function Ng(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Dg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ng(a[e],n)}var ya=$(null),Nu=$(0);function Og(e,n){e=Qi,W(Nu,e),W(ya,n),Qi=e|n.baseLanes}function Jh(){W(Nu,Qi),W(ya,ya.current)}function Wh(){Qi=Nu.current,et(ya),et(Nu)}var _r=0,Rt=null,$t=null,Ee=null,Du=!1,_a=!1,xs=!1,Ou=0,Fo=0,va=null,MT=0;function ge(){throw Error(r(321))}function tf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!pn(e[a],n[a]))return!1;return!0}function ef(e,n,a,o,c,f){return _r=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?gp:pp,xs=!1,f=a(o,c),xs=!1,_a&&(f=Vg(n,a,o,c)),Mg(e),f}function Mg(e){H.H=Lu;var n=$t!==null&&$t.next!==null;if(_r=0,Ee=$t=Rt=null,Du=!1,Fo=0,va=null,n)throw Error(r(300));e===null||Pe||(e=e.dependencies,e!==null&&wu(e)&&(Pe=!0))}function Vg(e,n,a,o){Rt=e;var c=0;do{if(_a&&(va=null),Fo=0,_a=!1,25<=c)throw Error(r(301));if(c+=1,Ee=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=zT,f=n(a,o)}while(_a);return f}function VT(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Qo(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(Rt.flags|=1024),n}function nf(){var e=Ou!==0;return Ou=0,e}function rf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function sf(e){if(Du){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Du=!1}_r=0,Ee=$t=Rt=null,_a=!1,Fo=Ou=0,va=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Rt.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function Te(){if($t===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=Ee===null?Rt.memoizedState:Ee.next;if(n!==null)Ee=n,$t=e;else{if(e===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ee===null?Rt.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(e){var n=Fo;return Fo+=1,va===null&&(va=[]),e=Ig(va,e,n),n=Rt,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?gp:pp),e}function Mu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qo(e);if(e.$$typeof===ct)return $e(e)}throw Error(r(438,String(e)))}function of(e){var n=null,a=Rt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=af(),Rt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=D;return n.index++,a}function zi(e,n){return typeof n=="function"?n(e):n}function Vu(e){var n=Te();return lf(n,$t,e)}function lf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var _=c.next;c.next=f.next,f.next=_}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=_=null,w=null,j=n,G=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(Pt&Y)===Y:(_r&Y)===Y){var z=j.revertLane;if(z===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===ga&&(G=!0);else if((_r&z)===z){j=j.next,z===ga&&(G=!0);continue}else Y={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(E=w=Y,_=f):w=w.next=Y,Rt.lanes|=z,wr|=z;Y=j.action,xs&&a(f,Y),f=j.hasEagerState?j.eagerState:a(f,Y)}else z={lane:Y,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(E=w=z,_=f):w=w.next=z,Rt.lanes|=Y,wr|=Y;j=j.next}while(j!==null&&j!==n);if(w===null?_=f:w.next=E,!pn(f,e.memoizedState)&&(Pe=!0,G&&(a=pa,a!==null)))throw a;e.memoizedState=f,e.baseState=_,e.baseQueue=w,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function uf(e){var n=Te(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var _=c=c.next;do f=e(f,_.action),_=_.next;while(_!==c);pn(f,n.memoizedState)||(Pe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function kg(e,n,a){var o=Rt,c=Te(),f=qt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var _=!pn(($t||c).memoizedState,a);_&&(c.memoizedState=a,Pe=!0),c=c.queue;var E=Lg.bind(null,o,c,e);if(Yo(2048,8,E,[e]),c.getSnapshot!==n||_||Ee!==null&&Ee.memoizedState.tag&1){if(o.flags|=2048,Ea(9,ku(),Ug.bind(null,o,c,a,n),null),ee===null)throw Error(r(349));f||(_r&124)!==0||Pg(o,n,a)}return a}function Pg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Rt.updateQueue,n===null?(n=af(),Rt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Ug(e,n,a,o){n.value=a,n.getSnapshot=o,jg(n)&&zg(e)}function Lg(e,n,a){return a(function(){jg(n)&&zg(e)})}function jg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!pn(e,a)}catch{return!0}}function zg(e){var n=ha(e,2);n!==null&&bn(n,e,2)}function cf(e){var n=un();if(typeof e=="function"){var a=e;if(e=a(),xs){rn(!0);try{a()}finally{rn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function Bg(e,n,a,o){return e.baseState=a,lf(e,$t,typeof o=="function"?o:zi)}function kT(e,n,a,o,c){if(Uu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,qg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function qg(e,n){var a=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=H.T,_={};H.T=_;try{var E=a(c,o),w=H.S;w!==null&&w(_,E),Hg(e,n,E)}catch(j){hf(e,n,j)}finally{H.T=f}}else try{f=a(c,o),Hg(e,n,f)}catch(j){hf(e,n,j)}}function Hg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Gg(e,n,o)},function(o){return hf(e,n,o)}):Gg(e,n,a)}function Gg(e,n,a){n.status="fulfilled",n.value=a,Fg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,qg(e,a)))}function hf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Fg(n),n=n.next;while(n!==o)}e.action=null}function Fg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Qg(e,n){return n}function Yg(e,n){if(qt){var a=ee.formState;if(a!==null){t:{var o=Rt;if(qt){if(he){e:{for(var c=he,f=li;c.nodeType!==8;){if(!f){c=null;break e}if(c=Fn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){he=Fn(c.nextSibling),o=c.data==="F!";break t}}Ss(o)}o=!1}o&&(n=a[0])}}return a=un(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:n},a.queue=o,a=fp.bind(null,Rt,o),o.dispatch=a,o=cf(!1),f=pf.bind(null,Rt,!1,o.queue),o=un(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,a=kT.bind(null,Rt,c,f,a),c.dispatch=a,o.memoizedState=e,[n,a,!1]}function Kg(e){var n=Te();return Xg(n,$t,e)}function Xg(e,n,a){if(n=lf(e,n,Qg)[0],e=Vu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Qo(n)}catch(_){throw _===zo?xu:_}else o=n;n=Te();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Rt.flags|=2048,Ea(9,ku(),PT.bind(null,c,a),null)),[o,f,e]}function PT(e,n){e.action=n}function $g(e){var n=Te(),a=$t;if(a!==null)return Xg(n,a,e);Te(),n=n.memoizedState,a=Te();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Ea(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=af(),Rt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function ku(){return{destroy:void 0,resource:void 0}}function Zg(){return Te().memoizedState}function Pu(e,n,a,o){var c=un();o=o===void 0?null:o,Rt.flags|=e,c.memoizedState=Ea(1|n,ku(),a,o)}function Yo(e,n,a,o){var c=Te();o=o===void 0?null:o;var f=c.memoizedState.inst;$t!==null&&o!==null&&tf(o,$t.memoizedState.deps)?c.memoizedState=Ea(n,f,a,o):(Rt.flags|=e,c.memoizedState=Ea(1|n,f,a,o))}function Jg(e,n){Pu(8390656,8,e,n)}function Wg(e,n){Yo(2048,8,e,n)}function tp(e,n){return Yo(4,2,e,n)}function ep(e,n){return Yo(4,4,e,n)}function np(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ip(e,n,a){a=a!=null?a.concat([e]):null,Yo(4,4,np.bind(null,n,e),a)}function ff(){}function rp(e,n){var a=Te();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&tf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function sp(e,n){var a=Te();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&tf(n,o[1]))return o[0];if(o=e(),xs){rn(!0);try{e()}finally{rn(!1)}}return a.memoizedState=[o,n],o}function df(e,n,a){return a===void 0||(_r&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=ly(),Rt.lanes|=e,wr|=e,a)}function ap(e,n,a,o){return pn(a,n)?a:ya.current!==null?(e=df(e,a,o),pn(e,n)||(Pe=!0),e):(_r&42)===0?(Pe=!0,e.memoizedState=a):(e=ly(),Rt.lanes|=e,wr|=e,n)}function op(e,n,a,o,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var _=H.T,E={};H.T=E,pf(e,!1,n,a);try{var w=c(),j=H.S;if(j!==null&&j(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=OT(w,o);Ko(e,n,G,Tn(e))}else Ko(e,n,o,Tn(e))}catch(Y){Ko(e,n,{then:function(){},status:"rejected",reason:Y},Tn())}finally{nt.p=f,H.T=_}}function UT(){}function mf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var c=lp(e).queue;op(e,c,n,ot,a===null?UT:function(){return up(e),a(o)})}function lp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ot},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function up(e){var n=lp(e).next.queue;Ko(e,n,{},Tn())}function gf(){return $e(fl)}function cp(){return Te().memoizedState}function hp(){return Te().memoizedState}function LT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Tn();e=pr(a);var o=yr(n,e,a);o!==null&&(bn(o,n,a),qo(o,n,a)),n={cache:Gh()},e.payload=n;return}n=n.return}}function jT(e,n,a){var o=Tn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Uu(e)?dp(n,a):(a=Vh(e,n,a,o),a!==null&&(bn(a,e,o),mp(a,n,o)))}function fp(e,n,a){var o=Tn();Ko(e,n,a,o)}function Ko(e,n,a,o){var c={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Uu(e))dp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,a);if(c.hasEagerState=!0,c.eagerState=E,pn(E,_))return Eu(e,n,c,0),ee===null&&vu(),!1}catch{}finally{}if(a=Vh(e,n,c,o),a!==null)return bn(a,e,o),mp(a,n,o),!0}return!1}function pf(e,n,a,o){if(o={lane:2,revertLane:Kf(),action:o,hasEagerState:!1,eagerState:null,next:null},Uu(e)){if(n)throw Error(r(479))}else n=Vh(e,a,o,2),n!==null&&bn(n,e,2)}function Uu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function dp(e,n){_a=Du=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function mp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,po(e,a)}}var Lu={readContext:$e,use:Mu,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},gp={readContext:$e,use:Mu,useCallback:function(e,n){return un().memoizedState=[e,n===void 0?null:n],e},useContext:$e,useEffect:Jg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Pu(4194308,4,np.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Pu(4194308,4,e,n)},useInsertionEffect:function(e,n){Pu(4,2,e,n)},useMemo:function(e,n){var a=un();n=n===void 0?null:n;var o=e();if(xs){rn(!0);try{e()}finally{rn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=un();if(a!==void 0){var c=a(n);if(xs){rn(!0);try{a(n)}finally{rn(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=jT.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=un();return e={current:e},n.memoizedState=e},useState:function(e){e=cf(e);var n=e.queue,a=fp.bind(null,Rt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:ff,useDeferredValue:function(e,n){var a=un();return df(a,e,n)},useTransition:function(){var e=cf(!1);return e=op.bind(null,Rt,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Rt,c=un();if(qt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ee===null)throw Error(r(349));(Pt&124)!==0||Pg(o,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Jg(Lg.bind(null,o,f,e),[e]),o.flags|=2048,Ea(9,ku(),Ug.bind(null,o,f,a,n),null),a},useId:function(){var e=un(),n=ee.identifierPrefix;if(qt){var a=Ui,o=Pi;a=(o&~(1<<32-Xe(o)-1)).toString(32)+a,n="«"+n+"R"+a,a=Ou++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=MT++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:gf,useFormState:Yg,useActionState:Yg,useOptimistic:function(e){var n=un();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=pf.bind(null,Rt,!0,a),a.dispatch=n,[e,n]},useMemoCache:of,useCacheRefresh:function(){return un().memoizedState=LT.bind(null,Rt)}},pp={readContext:$e,use:Mu,useCallback:rp,useContext:$e,useEffect:Wg,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:ep,useMemo:sp,useReducer:Vu,useRef:Zg,useState:function(){return Vu(zi)},useDebugValue:ff,useDeferredValue:function(e,n){var a=Te();return ap(a,$t.memoizedState,e,n)},useTransition:function(){var e=Vu(zi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:kg,useId:cp,useHostTransitionStatus:gf,useFormState:Kg,useActionState:Kg,useOptimistic:function(e,n){var a=Te();return Bg(a,$t,e,n)},useMemoCache:of,useCacheRefresh:hp},zT={readContext:$e,use:Mu,useCallback:rp,useContext:$e,useEffect:Wg,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:ep,useMemo:sp,useReducer:uf,useRef:Zg,useState:function(){return uf(zi)},useDebugValue:ff,useDeferredValue:function(e,n){var a=Te();return $t===null?df(a,e,n):ap(a,$t.memoizedState,e,n)},useTransition:function(){var e=uf(zi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:kg,useId:cp,useHostTransitionStatus:gf,useFormState:$g,useActionState:$g,useOptimistic:function(e,n){var a=Te();return $t!==null?Bg(a,$t,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:of,useCacheRefresh:hp},Ta=null,Xo=0;function ju(e){var n=Xo;return Xo+=1,Ta===null&&(Ta=[]),Ig(Ta,e,n)}function $o(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zu(e,n){throw n.$$typeof===C?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function yp(e){var n=e._init;return n(e._payload)}function _p(e){function n(k,N){if(e){var L=k.deletions;L===null?(k.deletions=[N],k.flags|=16):L.push(N)}}function a(k,N){if(!e)return null;for(;N!==null;)n(k,N),N=N.sibling;return null}function o(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function c(k,N){return k=ki(k,N),k.index=0,k.sibling=null,k}function f(k,N,L){return k.index=L,e?(L=k.alternate,L!==null?(L=L.index,L<N?(k.flags|=67108866,N):L):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,N,L,Q){return N===null||N.tag!==6?(N=Ph(L,k.mode,Q),N.return=k,N):(N=c(N,L),N.return=k,N)}function w(k,N,L,Q){var at=L.type;return at===Z?G(k,N,L.props.children,Q,L.key):N!==null&&(N.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&yp(at)===N.type)?(N=c(N,L.props),$o(N,L),N.return=k,N):(N=bu(L.type,L.key,L.props,null,k.mode,Q),$o(N,L),N.return=k,N)}function j(k,N,L,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Uh(L,k.mode,Q),N.return=k,N):(N=c(N,L.children||[]),N.return=k,N)}function G(k,N,L,Q,at){return N===null||N.tag!==7?(N=Es(L,k.mode,Q,at),N.return=k,N):(N=c(N,L),N.return=k,N)}function Y(k,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ph(""+N,k.mode,L),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case O:return L=bu(N.type,N.key,N.props,null,k.mode,L),$o(L,N),L.return=k,L;case F:return N=Uh(N,k.mode,L),N.return=k,N;case S:var Q=N._init;return N=Q(N._payload),Y(k,N,L)}if(le(N)||P(N))return N=Es(N,k.mode,L,null),N.return=k,N;if(typeof N.then=="function")return Y(k,ju(N),L);if(N.$$typeof===ct)return Y(k,Ru(k,N),L);zu(k,N)}return null}function z(k,N,L,Q){var at=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return at!==null?null:E(k,N,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case O:return L.key===at?w(k,N,L,Q):null;case F:return L.key===at?j(k,N,L,Q):null;case S:return at=L._init,L=at(L._payload),z(k,N,L,Q)}if(le(L)||P(L))return at!==null?null:G(k,N,L,Q,null);if(typeof L.then=="function")return z(k,N,ju(L),Q);if(L.$$typeof===ct)return z(k,N,Ru(k,L),Q);zu(k,L)}return null}function B(k,N,L,Q,at){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(L)||null,E(N,k,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case O:return k=k.get(Q.key===null?L:Q.key)||null,w(N,k,Q,at);case F:return k=k.get(Q.key===null?L:Q.key)||null,j(N,k,Q,at);case S:var It=Q._init;return Q=It(Q._payload),B(k,N,L,Q,at)}if(le(Q)||P(Q))return k=k.get(L)||null,G(N,k,Q,at,null);if(typeof Q.then=="function")return B(k,N,L,ju(Q),at);if(Q.$$typeof===ct)return B(k,N,L,Ru(N,Q),at);zu(N,Q)}return null}function vt(k,N,L,Q){for(var at=null,It=null,ut=N,pt=N=0,Le=null;ut!==null&&pt<L.length;pt++){ut.index>pt?(Le=ut,ut=null):Le=ut.sibling;var Bt=z(k,ut,L[pt],Q);if(Bt===null){ut===null&&(ut=Le);break}e&&ut&&Bt.alternate===null&&n(k,ut),N=f(Bt,N,pt),It===null?at=Bt:It.sibling=Bt,It=Bt,ut=Le}if(pt===L.length)return a(k,ut),qt&&bs(k,pt),at;if(ut===null){for(;pt<L.length;pt++)ut=Y(k,L[pt],Q),ut!==null&&(N=f(ut,N,pt),It===null?at=ut:It.sibling=ut,It=ut);return qt&&bs(k,pt),at}for(ut=o(ut);pt<L.length;pt++)Le=B(ut,k,pt,L[pt],Q),Le!==null&&(e&&Le.alternate!==null&&ut.delete(Le.key===null?pt:Le.key),N=f(Le,N,pt),It===null?at=Le:It.sibling=Le,It=Le);return e&&ut.forEach(function(Vr){return n(k,Vr)}),qt&&bs(k,pt),at}function gt(k,N,L,Q){if(L==null)throw Error(r(151));for(var at=null,It=null,ut=N,pt=N=0,Le=null,Bt=L.next();ut!==null&&!Bt.done;pt++,Bt=L.next()){ut.index>pt?(Le=ut,ut=null):Le=ut.sibling;var Vr=z(k,ut,Bt.value,Q);if(Vr===null){ut===null&&(ut=Le);break}e&&ut&&Vr.alternate===null&&n(k,ut),N=f(Vr,N,pt),It===null?at=Vr:It.sibling=Vr,It=Vr,ut=Le}if(Bt.done)return a(k,ut),qt&&bs(k,pt),at;if(ut===null){for(;!Bt.done;pt++,Bt=L.next())Bt=Y(k,Bt.value,Q),Bt!==null&&(N=f(Bt,N,pt),It===null?at=Bt:It.sibling=Bt,It=Bt);return qt&&bs(k,pt),at}for(ut=o(ut);!Bt.done;pt++,Bt=L.next())Bt=B(ut,k,pt,Bt.value,Q),Bt!==null&&(e&&Bt.alternate!==null&&ut.delete(Bt.key===null?pt:Bt.key),N=f(Bt,N,pt),It===null?at=Bt:It.sibling=Bt,It=Bt);return e&&ut.forEach(function(B1){return n(k,B1)}),qt&&bs(k,pt),at}function Jt(k,N,L,Q){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case O:t:{for(var at=L.key;N!==null;){if(N.key===at){if(at=L.type,at===Z){if(N.tag===7){a(k,N.sibling),Q=c(N,L.props.children),Q.return=k,k=Q;break t}}else if(N.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&yp(at)===N.type){a(k,N.sibling),Q=c(N,L.props),$o(Q,L),Q.return=k,k=Q;break t}a(k,N);break}else n(k,N);N=N.sibling}L.type===Z?(Q=Es(L.props.children,k.mode,Q,L.key),Q.return=k,k=Q):(Q=bu(L.type,L.key,L.props,null,k.mode,Q),$o(Q,L),Q.return=k,k=Q)}return _(k);case F:t:{for(at=L.key;N!==null;){if(N.key===at)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){a(k,N.sibling),Q=c(N,L.children||[]),Q.return=k,k=Q;break t}else{a(k,N);break}else n(k,N);N=N.sibling}Q=Uh(L,k.mode,Q),Q.return=k,k=Q}return _(k);case S:return at=L._init,L=at(L._payload),Jt(k,N,L,Q)}if(le(L))return vt(k,N,L,Q);if(P(L)){if(at=P(L),typeof at!="function")throw Error(r(150));return L=at.call(L),gt(k,N,L,Q)}if(typeof L.then=="function")return Jt(k,N,ju(L),Q);if(L.$$typeof===ct)return Jt(k,N,Ru(k,L),Q);zu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(a(k,N.sibling),Q=c(N,L),Q.return=k,k=Q):(a(k,N),Q=Ph(L,k.mode,Q),Q.return=k,k=Q),_(k)):a(k,N)}return function(k,N,L,Q){try{Xo=0;var at=Jt(k,N,L,Q);return Ta=null,at}catch(ut){if(ut===zo||ut===xu)throw ut;var It=yn(29,ut,null,k.mode);return It.lanes=Q,It.return=k,It}finally{}}}var ba=_p(!0),vp=_p(!1),Vn=$(null),ui=null;function vr(e){var n=e.alternate;W(Ne,Ne.current&1),W(Vn,e),ui===null&&(n===null||ya.current!==null||n.memoizedState!==null)&&(ui=e)}function Ep(e){if(e.tag===22){if(W(Ne,Ne.current),W(Vn,e),ui===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ui=e)}}else Er()}function Er(){W(Ne,Ne.current),W(Vn,Vn.current)}function Bi(e){et(Vn),ui===e&&(ui=null),et(Ne)}var Ne=$(0);function Bu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ad(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function yf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:b({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var _f={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Tn(),c=pr(o);c.payload=n,a!=null&&(c.callback=a),n=yr(e,c,o),n!==null&&(bn(n,e,o),qo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Tn(),c=pr(o);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=yr(e,c,o),n!==null&&(bn(n,e,o),qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Tn(),o=pr(a);o.tag=2,n!=null&&(o.callback=n),n=yr(e,o,a),n!==null&&(bn(n,e,a),qo(n,e,a))}};function Tp(e,n,a,o,c,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!Oo(a,o)||!Oo(c,f):!0}function bp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&_f.enqueueReplaceState(n,n.state,null)}function Cs(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=b({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}var qu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ap(e){qu(e)}function Sp(e){console.error(e)}function wp(e){qu(e)}function Hu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Rp(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function vf(e,n,a){return a=pr(a),a.tag=3,a.payload={element:null},a.callback=function(){Hu(e,n)},a}function Ip(e){return e=pr(e),e.tag=3,e}function xp(e,n,a,o){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){Rp(n,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Rp(n,a,o),typeof c!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function BT(e,n,a,o,c){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Uo(n,a,c,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return ui===null?Hf():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,o===Yh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Ff(e,o,c)),!1;case 22:return a.flags|=65536,o===Yh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Ff(e,o,c)),!1}throw Error(r(435,a.tag))}return Ff(e,o,c),Hf(),!1}if(qt)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==zh&&(e=Error(r(422),{cause:o}),Po(Nn(e,a)))):(o!==zh&&(n=Error(r(423),{cause:o}),Po(Nn(n,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=Nn(o,a),c=vf(e.stateNode,o,c),$h(e,c),fe!==4&&(fe=2)),!1;var f=Error(r(520),{cause:o});if(f=Nn(f,a),il===null?il=[f]:il.push(f),fe!==4&&(fe=2),n===null)return!0;o=Nn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=vf(a.stateNode,o,e),$h(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rr===null||!Rr.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Ip(c),xp(c,e,a,o),$h(a,c),!1}a=a.return}while(a!==null);return!1}var Cp=Error(r(461)),Pe=!1;function He(e,n,a,o){n.child=e===null?vp(n,null,a,o):ba(n,e.child,a,o)}function Np(e,n,a,o,c){a=a.render;var f=n.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return Rs(n),o=ef(e,n,a,_,f,c),E=nf(),e!==null&&!Pe?(rf(e,n,c),qi(e,n,c)):(qt&&E&&Lh(n),n.flags|=1,He(e,n,o,c),n.child)}function Dp(e,n,a,o,c){if(e===null){var f=a.type;return typeof f=="function"&&!kh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Op(e,n,f,o,c)):(e=bu(a.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!If(e,c)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Oo,a(_,o)&&e.ref===n.ref)return qi(e,n,c)}return n.flags|=1,e=ki(f,o),e.ref=n.ref,e.return=n,n.child=e}function Op(e,n,a,o,c){if(e!==null){var f=e.memoizedProps;if(Oo(f,o)&&e.ref===n.ref)if(Pe=!1,n.pendingProps=o=f,If(e,c))(e.flags&131072)!==0&&(Pe=!0);else return n.lanes=e.lanes,qi(e,n,c)}return Ef(e,n,a,o,c)}function Mp(e,n,a){var o=n.pendingProps,c=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return Vp(e,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Iu(n,f!==null?f.cachePool:null),f!==null?Og(n,f):Jh(),Ep(n);else return n.lanes=n.childLanes=536870912,Vp(e,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Iu(n,f.cachePool),Og(n,f),Er(),n.memoizedState=null):(e!==null&&Iu(n,null),Jh(),Er());return He(e,n,c,a),n.child}function Vp(e,n,a,o){var c=Qh();return c=c===null?null:{parent:Ce._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},e!==null&&Iu(n,null),Jh(),Ep(n),e!==null&&Uo(e,n,o,!0),null}function Gu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Ef(e,n,a,o,c){return Rs(n),a=ef(e,n,a,o,void 0,c),o=nf(),e!==null&&!Pe?(rf(e,n,c),qi(e,n,c)):(qt&&o&&Lh(n),n.flags|=1,He(e,n,a,c),n.child)}function kp(e,n,a,o,c,f){return Rs(n),n.updateQueue=null,a=Vg(n,o,a,c),Mg(e),o=nf(),e!==null&&!Pe?(rf(e,n,f),qi(e,n,f)):(qt&&o&&Lh(n),n.flags|=1,He(e,n,a,f),n.child)}function Pp(e,n,a,o,c){if(Rs(n),n.stateNode===null){var f=fa,_=a.contextType;typeof _=="object"&&_!==null&&(f=$e(_)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=_f,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Kh(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?$e(_):fa,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(yf(n,a,_,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&_f.enqueueReplaceState(f,f.state,null),Go(n,o,f,c),Ho(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,w=Cs(a,E);f.props=w;var j=f.context,G=a.contextType;_=fa,typeof G=="object"&&G!==null&&(_=$e(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==_)&&bp(n,f,o,_),gr=!1;var z=n.memoizedState;f.state=z,Go(n,o,f,c),Ho(),j=n.memoizedState,E||z!==j||gr?(typeof Y=="function"&&(yf(n,a,Y,o),j=n.memoizedState),(w=gr||Tp(n,a,w,o,z,j,_))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=_,o=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Xh(e,n),_=n.memoizedProps,G=Cs(a,_),f.props=G,Y=n.pendingProps,z=f.context,j=a.contextType,w=fa,typeof j=="object"&&j!==null&&(w=$e(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Y||z!==w)&&bp(n,f,o,w),gr=!1,z=n.memoizedState,f.state=z,Go(n,o,f,c),Ho();var B=n.memoizedState;_!==Y||z!==B||gr||e!==null&&e.dependencies!==null&&wu(e.dependencies)?(typeof E=="function"&&(yf(n,a,E,o),B=n.memoizedState),(G=gr||Tp(n,a,G,o,z,B,w)||e!==null&&e.dependencies!==null&&wu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=w,o=G):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Gu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ba(n,e.child,null,c),n.child=ba(n,null,a,c)):He(e,n,a,c),n.memoizedState=f.state,e=n.child):e=qi(e,n,c),e}function Up(e,n,a,o){return ko(),n.flags|=256,He(e,n,a,o),n.child}var Tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bf(e){return{baseLanes:e,cachePool:Sg()}}function Af(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=kn),e}function Lp(e,n,a){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(Ne.current&2)!==0),_&&(c=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(qt){if(c?vr(n):Er(),qt){var E=he,w;if(w=E){t:{for(w=E,E=li;w.nodeType!==8;){if(!E){E=null;break t}if(w=Fn(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(n.memoizedState={dehydrated:E,treeContext:Ts!==null?{id:Pi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},w=yn(18,null,null,0),w.stateNode=E,w.return=n,n.child=w,ln=n,he=null,w=!0):w=!1}w||Ss(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ad(E)?n.lanes=32:n.lanes=536870912,null;Bi(n)}return E=o.children,o=o.fallback,c?(Er(),c=n.mode,E=Fu({mode:"hidden",children:E},c),o=Es(o,c,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,c=n.child,c.memoizedState=bf(a),c.childLanes=Af(e,_,a),n.memoizedState=Tf,o):(vr(n),Sf(n,E))}if(w=e.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(vr(n),n.flags&=-257,n=wf(e,n,a)):n.memoizedState!==null?(Er(),n.child=e.child,n.flags|=128,n=null):(Er(),c=o.fallback,E=n.mode,o=Fu({mode:"visible",children:o.children},E),c=Es(c,E,a,null),c.flags|=2,o.return=n,c.return=n,o.sibling=c,n.child=o,ba(n,e.child,null,a),o=n.child,o.memoizedState=bf(a),o.childLanes=Af(e,_,a),n.memoizedState=Tf,n=c);else if(vr(n),ad(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var j=_.dgst;_=j,o=Error(r(419)),o.stack="",o.digest=_,Po({value:o,source:null,stack:null}),n=wf(e,n,a)}else if(Pe||Uo(e,n,a,!1),_=(a&e.childLanes)!==0,Pe||_){if(_=ee,_!==null&&(o=a&-a,o=(o&42)!==0?1:or(o),o=(o&(_.suspendedLanes|a))!==0?0:o,o!==0&&o!==w.retryLane))throw w.retryLane=o,ha(e,o),bn(_,e,o),Cp;E.data==="$?"||Hf(),n=wf(e,n,a)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=w.treeContext,he=Fn(E.nextSibling),ln=n,qt=!0,As=null,li=!1,e!==null&&(On[Mn++]=Pi,On[Mn++]=Ui,On[Mn++]=Ts,Pi=e.id,Ui=e.overflow,Ts=n),n=Sf(n,o.children),n.flags|=4096);return n}return c?(Er(),c=o.fallback,E=n.mode,w=e.child,j=w.sibling,o=ki(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&65011712,j!==null?c=ki(j,c):(c=Es(c,E,a,null),c.flags|=2),c.return=n,o.return=n,o.sibling=c,n.child=o,o=c,c=n.child,E=e.child.memoizedState,E===null?E=bf(a):(w=E.cachePool,w!==null?(j=Ce._currentValue,w=w.parent!==j?{parent:j,pool:j}:w):w=Sg(),E={baseLanes:E.baseLanes|a,cachePool:w}),c.memoizedState=E,c.childLanes=Af(e,_,a),n.memoizedState=Tf,o):(vr(n),a=e.child,e=a.sibling,a=ki(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=a,n.memoizedState=null,a)}function Sf(e,n){return n=Fu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Fu(e,n){return e=yn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function wf(e,n,a){return ba(n,e.child,null,a),e=Sf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function jp(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),qh(e.return,n,a)}function Rf(e,n,a,o,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=c)}function zp(e,n,a){var o=n.pendingProps,c=o.revealOrder,f=o.tail;if(He(e,n,o.children,a),o=Ne.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jp(e,a,n);else if(e.tag===19)jp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(W(Ne,o),c){case"forwards":for(a=n.child,c=null;a!==null;)e=a.alternate,e!==null&&Bu(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Rf(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Bu(e)===null){n.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}Rf(n,!0,a,null,f);break;case"together":Rf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function qi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),wr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Uo(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=ki(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=ki(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function If(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&wu(e)))}function qT(e,n,a){switch(n.tag){case 3:Ft(n,n.stateNode.containerInfo),mr(n,Ce,e.memoizedState.cache),ko();break;case 27:case 5:Xn(n);break;case 4:Ft(n,n.stateNode.containerInfo);break;case 10:mr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(vr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Lp(e,n,a):(vr(n),e=qi(e,n,a),e!==null?e.sibling:null);vr(n);break;case 19:var c=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Uo(e,n,a,!1),o=(a&n.childLanes)!==0),c){if(o)return zp(e,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(Ne,Ne.current),o)break;return null;case 22:case 23:return n.lanes=0,Mp(e,n,a);case 24:mr(n,Ce,e.memoizedState.cache)}return qi(e,n,a)}function Bp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Pe=!0;else{if(!If(e,a)&&(n.flags&128)===0)return Pe=!1,qT(e,n,a);Pe=(e.flags&131072)!==0}else Pe=!1,qt&&(n.flags&1048576)!==0&&yg(n,Su,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,c=o._init;if(o=c(o._payload),n.type=o,typeof o=="function")kh(o)?(e=Cs(o,e),n.tag=1,n=Pp(null,n,o,e,a)):(n.tag=0,n=Ef(null,n,o,e,a));else{if(o!=null){if(c=o.$$typeof,c===Lt){n.tag=11,n=Np(null,n,o,e,a);break t}else if(c===V){n.tag=14,n=Dp(null,n,o,e,a);break t}}throw n=Oe(o)||o,Error(r(306,n,""))}}return n;case 0:return Ef(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,c=Cs(o,n.pendingProps),Pp(e,n,o,c,a);case 3:t:{if(Ft(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,Xh(e,n),Go(n,o,null,a);var _=n.memoizedState;if(o=_.cache,mr(n,Ce,o),o!==f.cache&&Hh(n,[Ce],a,!0),Ho(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Up(e,n,o,a);break t}else if(o!==c){c=Nn(Error(r(424)),n),Po(c),n=Up(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(he=Fn(e.firstChild),ln=n,qt=!0,As=null,li=!0,a=vp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ko(),o===c){n=qi(e,n,a);break t}He(e,n,o,a)}n=n.child}return n;case 26:return Gu(e,n),e===null?(a=Fy(n.type,null,n.pendingProps,null))?n.memoizedState=a:qt||(a=n.type,e=n.pendingProps,o=sc(mt.current).createElement(a),o[Re]=n,o[_e]=e,Fe(o,a,e),me(o),n.stateNode=o):n.memoizedState=Fy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Xn(n),e===null&&qt&&(o=n.stateNode=qy(n.type,n.pendingProps,mt.current),ln=n,li=!0,c=he,Cr(n.type)?(od=c,he=Fn(o.firstChild)):he=c),He(e,n,n.pendingProps.children,a),Gu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&qt&&((c=o=he)&&(o=p1(o,n.type,n.pendingProps,li),o!==null?(n.stateNode=o,ln=n,he=Fn(o.firstChild),li=!1,c=!0):c=!1),c||Ss(n)),Xn(n),c=n.type,f=n.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,id(c,f)?o=null:_!==null&&id(c,_)&&(n.flags|=32),n.memoizedState!==null&&(c=ef(e,n,VT,null,null,a),fl._currentValue=c),Gu(e,n),He(e,n,o,a),n.child;case 6:return e===null&&qt&&((e=a=he)&&(a=y1(a,n.pendingProps,li),a!==null?(n.stateNode=a,ln=n,he=null,e=!0):e=!1),e||Ss(n)),null;case 13:return Lp(e,n,a);case 4:return Ft(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ba(n,null,o,a):He(e,n,o,a),n.child;case 11:return Np(e,n,n.type,n.pendingProps,a);case 7:return He(e,n,n.pendingProps,a),n.child;case 8:return He(e,n,n.pendingProps.children,a),n.child;case 12:return He(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,mr(n,n.type,o.value),He(e,n,o.children,a),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,Rs(n),c=$e(c),o=o(c),n.flags|=1,He(e,n,o,a),n.child;case 14:return Dp(e,n,n.type,n.pendingProps,a);case 15:return Op(e,n,n.type,n.pendingProps,a);case 19:return zp(e,n,a);case 31:return o=n.pendingProps,a=n.mode,o={mode:o.mode,children:o.children},e===null?(a=Fu(o,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=ki(e.child,o),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Mp(e,n,a);case 24:return Rs(n),o=$e(Ce),e===null?(c=Qh(),c===null&&(c=ee,f=Gh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:o,cache:c},Kh(n),mr(n,Ce,c)):((e.lanes&a)!==0&&(Xh(e,n),Go(n,null,null,a),Ho()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),mr(n,Ce,o)):(o=f.cache,mr(n,Ce,o),o!==c.cache&&Hh(n,[Ce],a,!0))),He(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Hi(e){e.flags|=4}function qp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$y(n)){if(n=Vn.current,n!==null&&((Pt&4194048)===Pt?ui!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||n!==ui))throw Bo=Yh,wg;e.flags|=8192}}function Qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?mo():536870912,e.lanes|=n,Ra|=n)}function Zo(e,n){if(!qt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ue(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function HT(e,n,a){var o=n.pendingProps;switch(jh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(n),null;case 1:return ue(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ji(Ce),An(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Vo(n)?Hi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Eg())),ue(n),null;case 26:return a=n.memoizedState,e===null?(Hi(n),a!==null?(ue(n),qp(n,a)):(ue(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Hi(n),ue(n),qp(n,a)):(ue(n),n.flags&=-16777217):(e.memoizedProps!==o&&Hi(n),ue(n),n.flags&=-16777217),null;case 27:Sn(n),a=mt.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ue(n),null}e=lt.current,Vo(n)?_g(n):(e=qy(c,o,a),n.stateNode=e,Hi(n))}return ue(n),null;case 5:if(Sn(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ue(n),null}if(e=lt.current,Vo(n))_g(n);else{switch(c=sc(mt.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?c.createElement(a,{is:o.is}):c.createElement(a)}}e[Re]=n,e[_e]=o;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;t:switch(Fe(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Hi(n)}}return ue(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=mt.current,Vo(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,c=ln,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[Re]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||ky(e.nodeValue,a)),e||Ss(n)}else e=sc(e).createTextNode(o),e[Re]=n,n.stateNode=e}return ue(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Vo(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Re]=n}else ko(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),c=!1}else c=Eg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Bi(n),n):(Bi(n),null)}if(Bi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Qu(n,n.updateQueue),ue(n),null;case 4:return An(),e===null&&Jf(n.stateNode.containerInfo),ue(n),null;case 10:return ji(n.type),ue(n),null;case 19:if(et(Ne),c=n.memoizedState,c===null)return ue(n),null;if(o=(n.flags&128)!==0,f=c.rendering,f===null)if(o)Zo(c,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Bu(e),f!==null){for(n.flags|=128,Zo(c,!1),e=f.updateQueue,n.updateQueue=e,Qu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)pg(a,e),a=a.sibling;return W(Ne,Ne.current&1|2),n.child}e=e.sibling}c.tail!==null&&nn()>Xu&&(n.flags|=128,o=!0,Zo(c,!1),n.lanes=4194304)}else{if(!o)if(e=Bu(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Qu(n,e),Zo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!qt)return ue(n),null}else 2*nn()-c.renderingStartTime>Xu&&a!==536870912&&(n.flags|=128,o=!0,Zo(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(e=c.last,e!==null?e.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=nn(),n.sibling=null,e=Ne.current,W(Ne,o?e&1|2:e&1),n):(ue(n),null);case 22:case 23:return Bi(n),Wh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ue(n),n.subtreeFlags&6&&(n.flags|=8192)):ue(n),a=n.updateQueue,a!==null&&Qu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&et(Is),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ji(Ce),ue(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function GT(e,n){switch(jh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ji(Ce),An(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Sn(n),null;case 13:if(Bi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ko()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return et(Ne),null;case 4:return An(),null;case 10:return ji(n.type),null;case 22:case 23:return Bi(n),Wh(),e!==null&&et(Is),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ji(Ce),null;case 25:return null;default:return null}}function Hp(e,n){switch(jh(n),n.tag){case 3:ji(Ce),An();break;case 26:case 27:case 5:Sn(n);break;case 4:An();break;case 13:Bi(n);break;case 19:et(Ne);break;case 10:ji(n.type);break;case 22:case 23:Bi(n),Wh(),e!==null&&et(Is);break;case 24:ji(Ce)}}function Jo(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var c=o.next;a=c;do{if((a.tag&e)===e){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==c)}}catch(E){Wt(n,n.return,E)}}function Tr(e,n,a){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,c=n;var w=a,j=E;try{j()}catch(G){Wt(c,w,G)}}}o=o.next}while(o!==f)}}catch(G){Wt(n,n.return,G)}}function Gp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Dg(n,a)}catch(o){Wt(e,e.return,o)}}}function Fp(e,n,a){a.props=Cs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Wt(e,n,o)}}function Wo(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(c){Wt(e,n,c)}}function ci(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(c){Wt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Wt(e,n,c)}else a.current=null}function Qp(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(c){Wt(e,e.return,c)}}function xf(e,n,a){try{var o=e.stateNode;h1(o,e.type,a,n),o[_e]=n}catch(c){Wt(e,e.return,c)}}function Yp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Cr(e.type)||e.tag===4}function Cf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Yp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Cr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=rc));else if(o!==4&&(o===27&&Cr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Nf(e,n,a),e=e.sibling;e!==null;)Nf(e,n,a),e=e.sibling}function Yu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Cr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Yu(e,n,a),e=e.sibling;e!==null;)Yu(e,n,a),e=e.sibling}function Kp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Fe(n,o,a),n[Re]=e,n[_e]=a}catch(f){Wt(e,e.return,f)}}var Gi=!1,pe=!1,Df=!1,Xp=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function FT(e,n){if(e=e.containerInfo,ed=hc,e=ag(e),xh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var _=0,E=-1,w=-1,j=0,G=0,Y=e,z=null;e:for(;;){for(var B;Y!==a||c!==0&&Y.nodeType!==3||(E=_+c),Y!==f||o!==0&&Y.nodeType!==3||(w=_+o),Y.nodeType===3&&(_+=Y.nodeValue.length),(B=Y.firstChild)!==null;)z=Y,Y=B;for(;;){if(Y===e)break e;if(z===a&&++j===c&&(E=_),z===f&&++G===o&&(w=_),(B=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=B}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(nd={focusedElem:e,selectionRange:a},hc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var vt=Cs(a.type,c,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(vt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Wt(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)sd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function $p(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:br(e,a),o&4&&Jo(5,a);break;case 1:if(br(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(_){Wt(a,a.return,_)}else{var c=Cs(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Wt(a,a.return,_)}}o&64&&Gp(a),o&512&&Wo(a,a.return);break;case 3:if(br(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Dg(e,n)}catch(_){Wt(a,a.return,_)}}break;case 27:n===null&&o&4&&Kp(a);case 26:case 5:br(e,a),n===null&&o&4&&Qp(a),o&512&&Wo(a,a.return);break;case 12:br(e,a);break;case 13:br(e,a),o&4&&Wp(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=t1.bind(null,a),_1(e,a))));break;case 22:if(o=a.memoizedState!==null||Gi,!o){n=n!==null&&n.memoizedState!==null||pe,c=Gi;var f=pe;Gi=o,(pe=n)&&!f?Ar(e,a,(a.subtreeFlags&8772)!==0):br(e,a),Gi=c,pe=f}break;case 30:break;default:br(e,a)}}function Zp(e){var n=e.alternate;n!==null&&(e.alternate=null,Zp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&cr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,cn=!1;function Fi(e,n,a){for(a=a.child;a!==null;)Jp(e,n,a),a=a.sibling}function Jp(e,n,a){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(re,a)}catch{}switch(a.tag){case 26:pe||ci(a,n),Fi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pe||ci(a,n);var o=oe,c=cn;Cr(a.type)&&(oe=a.stateNode,cn=!1),Fi(e,n,a),ll(a.stateNode),oe=o,cn=c;break;case 5:pe||ci(a,n);case 6:if(o=oe,c=cn,oe=null,Fi(e,n,a),oe=o,cn=c,oe!==null)if(cn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(f){Wt(a,n,f)}else try{oe.removeChild(a.stateNode)}catch(f){Wt(a,n,f)}break;case 18:oe!==null&&(cn?(e=oe,zy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),pl(e)):zy(oe,a.stateNode));break;case 4:o=oe,c=cn,oe=a.stateNode.containerInfo,cn=!0,Fi(e,n,a),oe=o,cn=c;break;case 0:case 11:case 14:case 15:pe||Tr(2,a,n),pe||Tr(4,a,n),Fi(e,n,a);break;case 1:pe||(ci(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Fp(a,n,o)),Fi(e,n,a);break;case 21:Fi(e,n,a);break;case 22:pe=(o=pe)||a.memoizedState!==null,Fi(e,n,a),pe=o;break;default:Fi(e,n,a)}}function Wp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{pl(e)}catch(a){Wt(n,n.return,a)}}function QT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Xp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Xp),n;default:throw Error(r(435,e.tag))}}function Of(e,n){var a=QT(e);n.forEach(function(o){var c=e1.bind(null,e,o);a.has(o)||(a.add(o),o.then(c,c))})}function _n(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var c=a[o],f=e,_=n,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(Cr(E.type)){oe=E.stateNode,cn=!1;break t}break;case 5:oe=E.stateNode,cn=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(oe===null)throw Error(r(160));Jp(f,_,c),oe=null,cn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ty(n,e),n=n.sibling}var Gn=null;function ty(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_n(n,e),vn(e),o&4&&(Tr(3,e,e.return),Jo(3,e),Tr(5,e,e.return));break;case 1:_n(n,e),vn(e),o&512&&(pe||a===null||ci(a,a.return)),o&64&&Gi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var c=Gn;if(_n(n,e),vn(e),o&512&&(pe||a===null||ci(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[rs]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),Fe(f,o,a),f[Re]=e,me(f),o=f;break t;case"link":var _=Ky("link","href",c).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}f=c.createElement(o),Fe(f,o,a),c.head.appendChild(f);break;case"meta":if(_=Ky("meta","content",c).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}f=c.createElement(o),Fe(f,o,a),c.head.appendChild(f);break;default:throw Error(r(468,o))}f[Re]=e,me(f),o=f}e.stateNode=o}else Xy(c,e.type,e.stateNode);else e.stateNode=Yy(c,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Xy(c,e.type,e.stateNode):Yy(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&xf(e,e.memoizedProps,a.memoizedProps)}break;case 27:_n(n,e),vn(e),o&512&&(pe||a===null||ci(a,a.return)),a!==null&&o&4&&xf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(_n(n,e),vn(e),o&512&&(pe||a===null||ci(a,a.return)),e.flags&32){c=e.stateNode;try{Rn(c,"")}catch(B){Wt(e,e.return,B)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,xf(e,c,a!==null?a.memoizedProps:c)),o&1024&&(Df=!0);break;case 6:if(_n(n,e),vn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){Wt(e,e.return,B)}}break;case 3:if(lc=null,c=Gn,Gn=ac(n.containerInfo),_n(n,e),Gn=c,vn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{pl(n.containerInfo)}catch(B){Wt(e,e.return,B)}Df&&(Df=!1,ey(e));break;case 4:o=Gn,Gn=ac(e.stateNode.containerInfo),_n(n,e),vn(e),Gn=o;break;case 12:_n(n,e),vn(e);break;case 13:_n(n,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Lf=nn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Of(e,o)));break;case 22:c=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,j=Gi,G=pe;if(Gi=j||c,pe=G||w,_n(n,e),pe=G,Gi=j,vn(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||w||Gi||pe||Ns(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(f=w.stateNode,c)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=w.stateNode;var Y=w.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){Wt(w,w.return,B)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(B){Wt(w,w.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Of(e,a))));break;case 19:_n(n,e),vn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Of(e,o)));break;case 30:break;case 21:break;default:_n(n,e),vn(e)}}function vn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Yp(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Cf(e);Yu(e,f,c);break;case 5:var _=a.stateNode;a.flags&32&&(Rn(_,""),a.flags&=-33);var E=Cf(e);Yu(e,E,_);break;case 3:case 4:var w=a.stateNode.containerInfo,j=Cf(e);Nf(e,j,w);break;default:throw Error(r(161))}}catch(G){Wt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ey(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function br(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$p(e,n.alternate,n),n=n.sibling}function Ns(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Tr(4,n,n.return),Ns(n);break;case 1:ci(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Fp(n,n.return,a),Ns(n);break;case 27:ll(n.stateNode);case 26:case 5:ci(n,n.return),Ns(n);break;case 22:n.memoizedState===null&&Ns(n);break;case 30:Ns(n);break;default:Ns(n)}e=e.sibling}}function Ar(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:Ar(c,f,a),Jo(4,f);break;case 1:if(Ar(c,f,a),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(j){Wt(o,o.return,j)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Ng(w[c],E)}catch(j){Wt(o,o.return,j)}}a&&_&64&&Gp(f),Wo(f,f.return);break;case 27:Kp(f);case 26:case 5:Ar(c,f,a),a&&o===null&&_&4&&Qp(f),Wo(f,f.return);break;case 12:Ar(c,f,a);break;case 13:Ar(c,f,a),a&&_&4&&Wp(c,f);break;case 22:f.memoizedState===null&&Ar(c,f,a),Wo(f,f.return);break;case 30:break;default:Ar(c,f,a)}n=n.sibling}}function Mf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Lo(a))}function Vf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e))}function hi(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ny(e,n,a,o),n=n.sibling}function ny(e,n,a,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:hi(e,n,a,o),c&2048&&Jo(9,n);break;case 1:hi(e,n,a,o);break;case 3:hi(e,n,a,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e)));break;case 12:if(c&2048){hi(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Wt(n,n.return,w)}}else hi(e,n,a,o);break;case 13:hi(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?hi(e,n,a,o):tl(e,n):f._visibility&2?hi(e,n,a,o):(f._visibility|=2,Aa(e,n,a,o,(n.subtreeFlags&10256)!==0)),c&2048&&Mf(_,n);break;case 24:hi(e,n,a,o),c&2048&&Vf(n.alternate,n);break;default:hi(e,n,a,o)}}function Aa(e,n,a,o,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,_=n,E=a,w=o,j=_.flags;switch(_.tag){case 0:case 11:case 15:Aa(f,_,E,w,c),Jo(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?Aa(f,_,E,w,c):tl(f,_):(G._visibility|=2,Aa(f,_,E,w,c)),c&&j&2048&&Mf(_.alternate,_);break;case 24:Aa(f,_,E,w,c),c&&j&2048&&Vf(_.alternate,_);break;default:Aa(f,_,E,w,c)}n=n.sibling}}function tl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,c=o.flags;switch(o.tag){case 22:tl(a,o),c&2048&&Mf(o.alternate,o);break;case 24:tl(a,o),c&2048&&Vf(o.alternate,o);break;default:tl(a,o)}n=n.sibling}}var el=8192;function Sa(e){if(e.subtreeFlags&el)for(e=e.child;e!==null;)iy(e),e=e.sibling}function iy(e){switch(e.tag){case 26:Sa(e),e.flags&el&&e.memoizedState!==null&&D1(Gn,e.memoizedState,e.memoizedProps);break;case 5:Sa(e);break;case 3:case 4:var n=Gn;Gn=ac(e.stateNode.containerInfo),Sa(e),Gn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=el,el=16777216,Sa(e),el=n):Sa(e));break;default:Sa(e)}}function ry(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ue=o,ay(o,e)}ry(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sy(e),e=e.sibling}function sy(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&Tr(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ku(e)):nl(e);break;default:nl(e)}}function Ku(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ue=o,ay(o,e)}ry(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Tr(8,n,n.return),Ku(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ku(n));break;default:Ku(n)}e=e.sibling}}function ay(e,n){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:Tr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Lo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ue=o;else t:for(a=e;Ue!==null;){o=Ue;var c=o.sibling,f=o.return;if(Zp(o),o===a){Ue=null;break t}if(c!==null){c.return=f,Ue=c;break t}Ue=f}}}var YT={getCacheForType:function(e){var n=$e(Ce),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},KT=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ee=null,xt=null,Pt=0,Yt=0,En=null,Sr=!1,wa=!1,kf=!1,Qi=0,fe=0,wr=0,Ds=0,Pf=0,kn=0,Ra=0,il=null,hn=null,Uf=!1,Lf=0,Xu=1/0,$u=null,Rr=null,Ge=0,Ir=null,Ia=null,xa=0,jf=0,zf=null,oy=null,rl=0,Bf=null;function Tn(){if((Qt&2)!==0&&Pt!==0)return Pt&-Pt;if(H.T!==null){var e=ga;return e!==0?e:Kf()}return lr()}function ly(){kn===0&&(kn=(Pt&536870912)===0||qt?fo():536870912);var e=Vn.current;return e!==null&&(e.flags|=32),kn}function bn(e,n,a){(e===ee&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Ca(e,0),xr(e,Pt,kn,!1)),Si(e,a),((Qt&2)===0||e!==ee)&&(e===ee&&((Qt&2)===0&&(Ds|=a),fe===4&&xr(e,Pt,kn,!1)),fi(e))}function uy(e,n,a){if((Qt&6)!==0)throw Error(r(327));var o=!a&&(n&124)===0&&(n&e.expiredLanes)===0||is(e,n),c=o?ZT(e,n):Gf(e,n,!0),f=o;do{if(c===0){wa&&!o&&xr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!XT(a)){c=Gf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var E=e;c=il;var w=E.current.memoizedState.isDehydrated;if(w&&(Ca(E,_).flags|=256),_=Gf(E,_,!1),_!==2){if(kf&&!w){E.errorRecoveryDisabledLanes|=f,Ds|=f,c=4;break t}f=hn,hn=c,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}c=_}if(f=!1,c!==2)continue}}if(c===1){Ca(e,0),xr(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:xr(o,n,kn,!Sr);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Lf+300-nn(),10<c)){if(xr(o,n,kn,!Sr),Qs(o,0,!0)!==0)break t;o.timeoutHandle=Ly(cy.bind(null,o,a,hn,$u,Uf,n,kn,Ds,Ra,Sr,f,2,-0,0),c);break t}cy(o,a,hn,$u,Uf,n,kn,Ds,Ra,Sr,f,0,-0,0)}}break}while(!0);fi(e)}function cy(e,n,a,o,c,f,_,E,w,j,G,Y,z,B){if(e.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(hl={stylesheets:null,count:0,unsuspend:N1},iy(n),Y=O1(),Y!==null)){e.cancelPendingCommit=Y(yy.bind(null,e,n,f,a,o,c,_,E,w,G,1,z,B)),xr(e,f,_,!j);return}yy(e,n,f,a,o,c,_,E,w)}function XT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var c=a[o],f=c.getSnapshot;c=c.value;try{if(!pn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xr(e,n,a,o){n&=~Pf,n&=~Ds,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-Xe(c),_=1<<f;o[f]=-1,c&=~_}a!==0&&Zn(e,a,n)}function Zu(){return(Qt&6)===0?(sl(0),!1):!0}function qf(){if(xt!==null){if(Yt===0)var e=xt.return;else e=xt,Li=ws=null,sf(e),Ta=null,Xo=0,e=xt;for(;e!==null;)Hp(e.alternate,e),e=e.return;xt=null}}function Ca(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,d1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),qf(),ee=e,xt=a=ki(e.current,null),Pt=n,Yt=0,En=null,Sr=!1,wa=is(e,n),kf=!1,Ra=kn=Pf=Ds=wr=fe=0,hn=il=null,Uf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-Xe(o),f=1<<c;n|=e[c],o&=~f}return Qi=n,vu(),a}function hy(e,n){Rt=null,H.H=Lu,n===zo||n===xu?(n=xg(),Yt=3):n===wg?(n=xg(),Yt=4):Yt=n===Cp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,xt===null&&(fe=1,Hu(e,Nn(n,e.current)))}function fy(){var e=H.H;return H.H=Lu,e===null?Lu:e}function dy(){var e=H.A;return H.A=YT,e}function Hf(){fe=4,Sr||(Pt&4194048)!==Pt&&Vn.current!==null||(wa=!0),(wr&134217727)===0&&(Ds&134217727)===0||ee===null||xr(ee,Pt,kn,!1)}function Gf(e,n,a){var o=Qt;Qt|=2;var c=fy(),f=dy();(ee!==e||Pt!==n)&&($u=null,Ca(e,n)),n=!1;var _=fe;t:do try{if(Yt!==0&&xt!==null){var E=xt,w=En;switch(Yt){case 8:qf(),_=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var j=Yt;if(Yt=0,En=null,Na(e,E,w,j),a&&wa){_=0;break t}break;default:j=Yt,Yt=0,En=null,Na(e,E,w,j)}}$T(),_=fe;break}catch(G){hy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Li=ws=null,Qt=o,H.H=c,H.A=f,xt===null&&(ee=null,Pt=0,vu()),_}function $T(){for(;xt!==null;)my(xt)}function ZT(e,n){var a=Qt;Qt|=2;var o=fy(),c=dy();ee!==e||Pt!==n?($u=null,Xu=nn()+500,Ca(e,n)):wa=is(e,n);t:do try{if(Yt!==0&&xt!==null){n=xt;var f=En;e:switch(Yt){case 1:Yt=0,En=null,Na(e,n,f,1);break;case 2:case 9:if(Rg(f)){Yt=0,En=null,gy(n);break}n=function(){Yt!==2&&Yt!==9||ee!==e||(Yt=7),fi(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Rg(f)?(Yt=0,En=null,gy(n)):(Yt=0,En=null,Na(e,n,f,7));break;case 5:var _=null;switch(xt.tag){case 26:_=xt.memoizedState;case 5:case 27:var E=xt;if(!_||$y(_)){Yt=0,En=null;var w=E.sibling;if(w!==null)xt=w;else{var j=E.return;j!==null?(xt=j,Ju(j)):xt=null}break e}}Yt=0,En=null,Na(e,n,f,5);break;case 6:Yt=0,En=null,Na(e,n,f,6);break;case 8:qf(),fe=6;break t;default:throw Error(r(462))}}JT();break}catch(G){hy(e,G)}while(!0);return Li=ws=null,H.H=o,H.A=c,Qt=a,xt!==null?0:(ee=null,Pt=0,vu(),fe)}function JT(){for(;xt!==null&&!ze();)my(xt)}function my(e){var n=Bp(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?Ju(e):xt=n}function gy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=kp(a,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=kp(a,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:sf(n);default:Hp(a,n),n=xt=pg(n,Qi),n=Bp(a,n,Qi)}e.memoizedProps=e.pendingProps,n===null?Ju(e):xt=n}function Na(e,n,a,o){Li=ws=null,sf(n),Ta=null,Xo=0;var c=n.return;try{if(BT(e,c,n,a,Pt)){fe=1,Hu(e,Nn(a,e.current)),xt=null;return}}catch(f){if(c!==null)throw xt=c,f;fe=1,Hu(e,Nn(a,e.current)),xt=null;return}n.flags&32768?(qt||o===1?e=!0:wa||(Pt&536870912)!==0?e=!1:(Sr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),py(n,e)):Ju(n)}function Ju(e){var n=e;do{if((n.flags&32768)!==0){py(n,Sr);return}e=n.return;var a=HT(n.alternate,n,Qi);if(a!==null){xt=a;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);fe===0&&(fe=5)}function py(e,n){do{var a=GT(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);fe=6,xt=null}function yy(e,n,a,o,c,f,_,E,w){e.cancelPendingCommit=null;do Wu();while(Ge!==0);if((Qt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Mh,go(e,a,f,_,E,w),e===ee&&(xt=ee=null,Pt=0),Ia=n,Ir=e,xa=a,jf=f,zf=c,oy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,n1(ft,function(){return by(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,c=nt.p,nt.p=2,_=Qt,Qt|=4;try{FT(e,n,a)}finally{Qt=_,nt.p=c,H.T=o}}Ge=1,_y(),vy(),Ey()}}function _y(){if(Ge===1){Ge=0;var e=Ir,n=Ia,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=nt.p;nt.p=2;var c=Qt;Qt|=4;try{ty(n,e);var f=nd,_=ag(e.containerInfo),E=f.focusedElem,w=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&sg(E.ownerDocument.documentElement,E)){if(w!==null&&xh(E)){var j=w.start,G=w.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var B=z.getSelection(),vt=E.textContent.length,gt=Math.min(w.start,vt),Jt=w.end===void 0?gt:Math.min(w.end,vt);!B.extend&&gt>Jt&&(_=Jt,Jt=gt,gt=_);var k=rg(E,gt),N=rg(E,Jt);if(k&&N&&(B.rangeCount!==1||B.anchorNode!==k.node||B.anchorOffset!==k.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var L=Y.createRange();L.setStart(k.node,k.offset),B.removeAllRanges(),gt>Jt?(B.addRange(L),B.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),B.addRange(L))}}}}for(Y=[],B=E;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}hc=!!ed,nd=ed=null}finally{Qt=c,nt.p=o,H.T=a}}e.current=n,Ge=2}}function vy(){if(Ge===2){Ge=0;var e=Ir,n=Ia,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=nt.p;nt.p=2;var c=Qt;Qt|=4;try{$p(e,n.alternate,n)}finally{Qt=c,nt.p=o,H.T=a}}Ge=3}}function Ey(){if(Ge===4||Ge===3){Ge=0,bi();var e=Ir,n=Ia,a=xa,o=oy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ge=5:(Ge=0,Ia=Ir=null,Ty(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Rr=null),Ys(a),n=n.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,c=nt.p,nt.p=2,H.T=null;try{for(var f=e.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{H.T=n,nt.p=c}}(xa&3)!==0&&Wu(),fi(e),c=e.pendingLanes,(a&4194090)!==0&&(c&42)!==0?e===Bf?rl++:(rl=0,Bf=e):rl=0,sl(0)}}function Ty(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Lo(n)))}function Wu(e){return _y(),vy(),Ey(),by()}function by(){if(Ge!==5)return!1;var e=Ir,n=jf;jf=0;var a=Ys(xa),o=H.T,c=nt.p;try{nt.p=32>a?32:a,H.T=null,a=zf,zf=null;var f=Ir,_=xa;if(Ge=0,Ia=Ir=null,xa=0,(Qt&6)!==0)throw Error(r(331));var E=Qt;if(Qt|=4,sy(f.current),ny(f,f.current,_,a),Qt=E,sl(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{nt.p=c,H.T=o,Ty(e,n)}}function Ay(e,n,a){n=Nn(a,n),n=vf(e.stateNode,n,2),e=yr(e,n,2),e!==null&&(Si(e,2),fi(e))}function Wt(e,n,a){if(e.tag===3)Ay(e,e,a);else for(;n!==null;){if(n.tag===3){Ay(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rr===null||!Rr.has(o))){e=Nn(a,e),a=Ip(2),o=yr(n,a,2),o!==null&&(xp(a,o,n,e),Si(o,2),fi(o));break}}n=n.return}}function Ff(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new KT;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(a)||(kf=!0,c.add(a),e=WT.bind(null,e,n,a),n.then(e,e))}function WT(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Pt&a)===a&&(fe===4||fe===3&&(Pt&62914560)===Pt&&300>nn()-Lf?(Qt&2)===0&&Ca(e,0):Pf|=a,Ra===Pt&&(Ra=0)),fi(e)}function Sy(e,n){n===0&&(n=mo()),e=ha(e,n),e!==null&&(Si(e,n),fi(e))}function t1(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Sy(e,a)}function e1(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Sy(e,a)}function n1(e,n){return $n(e,n)}var tc=null,Da=null,Qf=!1,ec=!1,Yf=!1,Os=0;function fi(e){e!==Da&&e.next===null&&(Da===null?tc=Da=e:Da=Da.next=e),ec=!0,Qf||(Qf=!0,r1())}function sl(e,n){if(!Yf&&ec){Yf=!0;do for(var a=!1,o=tc;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Xe(42|e)+1)-1,f&=c&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,xy(o,f))}else f=Pt,f=Qs(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||is(o,f)||(a=!0,xy(o,f));o=o.next}while(a);Yf=!1}}function i1(){wy()}function wy(){ec=Qf=!1;var e=0;Os!==0&&(f1()&&(e=Os),Os=0);for(var n=nn(),a=null,o=tc;o!==null;){var c=o.next,f=Ry(o,n);f===0?(o.next=null,a===null?tc=c:a.next=c,c===null&&(Da=a)):(a=o,(e!==0||(f&3)!==0)&&(ec=!0)),o=c}sl(e)}function Ry(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-Xe(f),E=1<<_,w=c[_];w===-1?((E&a)===0||(E&o)!==0)&&(c[_]=ho(E,n)):w<=n&&(e.expiredLanes|=E),f&=~E}if(n=ee,a=Pt,a=Qs(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Me(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||is(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Me(o),Ys(a)){case 2:case 8:a=te;break;case 32:a=ft;break;case 268435456:a=ar;break;default:a=ft}return o=Iy.bind(null,e),a=$n(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Me(o),e.callbackPriority=2,e.callbackNode=null,2}function Iy(e,n){if(Ge!==0&&Ge!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Wu()&&e.callbackNode!==a)return null;var o=Pt;return o=Qs(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(uy(e,o,n),Ry(e,nn()),e.callbackNode!=null&&e.callbackNode===a?Iy.bind(null,e):null)}function xy(e,n){if(Wu())return null;uy(e,n,!0)}function r1(){m1(function(){(Qt&6)!==0?$n(Jr,i1):wy()})}function Kf(){return Os===0&&(Os=fo()),Os}function Cy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ws(""+e)}function Ny(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function s1(e,n,a,o,c){if(n==="submit"&&a&&a.stateNode===c){var f=Cy((c[_e]||null).action),_=o.submitter;_&&(n=(n=_[_e]||null)?Cy(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new ta("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Os!==0){var w=_?Ny(c,_):new FormData(c);mf(a,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=_?Ny(c,_):new FormData(c),mf(a,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var Xf=0;Xf<Oh.length;Xf++){var $f=Oh[Xf],a1=$f.toLowerCase(),o1=$f[0].toUpperCase()+$f.slice(1);Hn(a1,"on"+o1)}Hn(ug,"onAnimationEnd"),Hn(cg,"onAnimationIteration"),Hn(hg,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(ST,"onTransitionRun"),Hn(wT,"onTransitionStart"),Hn(RT,"onTransitionCancel"),Hn(fg,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Dy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var E=o[_],w=E.instance,j=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(G){qu(G)}c.currentTarget=null,f=w}else for(_=0;_<o.length;_++){if(E=o[_],w=E.instance,j=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(G){qu(G)}c.currentTarget=null,f=w}}}}function Ct(e,n){var a=n[yo];a===void 0&&(a=n[yo]=new Set);var o=e+"__bubble";a.has(o)||(Oy(n,e,2,!1),a.add(o))}function Zf(e,n,a){var o=0;n&&(o|=4),Oy(a,e,o,n)}var nc="_reactListening"+Math.random().toString(36).slice(2);function Jf(e){if(!e[nc]){e[nc]=!0,_o.forEach(function(a){a!=="selectionchange"&&(l1.has(a)||Zf(a,!1,e),Zf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[nc]||(n[nc]=!0,Zf("selectionchange",!1,n))}}function Oy(e,n,a,o){switch(n_(n)){case 2:var c=k1;break;case 8:c=P1;break;default:c=fd}a=c.bind(null,n,a,e),c=void 0,!xn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,a,{capture:!0,passive:c}):e.addEventListener(n,a,!0):c!==void 0?e.addEventListener(n,a,{passive:c}):e.addEventListener(n,a,!1)}function Wf(e,n,a,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===c)break;if(_===4)for(_=o.return;_!==null;){var w=_.tag;if((w===3||w===4)&&_.stateNode.containerInfo===c)return;_=_.return}for(;E!==null;){if(_=wi(E),_===null)return;if(w=_.tag,w===5||w===6||w===26||w===27){o=f=_;continue t}E=E.parentNode}}o=o.return}ru(function(){var j=f,G=In(a),Y=[];t:{var z=dg.get(e);if(z!==void 0){var B=ta,vt=e;switch(e){case"keypress":if(ii(a)===0)break t;case"keydown":case"keyup":B=aa;break;case"focusin":vt="focus",B=ia;break;case"focusout":vt="blur",B=ia;break;case"beforeblur":case"afterblur":B=ia;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=fu;break;case ug:case cg:case hg:B=ra;break;case fg:B=mu;break;case"scroll":case"scrollend":B=su;break;case"wheel":B=oa;break;case"copy":case"cut":case"paste":B=sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=No;break;case"toggle":case"beforetoggle":B=pu}var gt=(n&4)!==0,Jt=!gt&&(e==="scroll"||e==="scrollend"),k=gt?z!==null?z+"Capture":null:z;gt=[];for(var N=j,L;N!==null;){var Q=N;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||k===null||(Q=hs(N,k),Q!=null&&gt.push(ol(N,Q,L))),Jt)break;N=N.return}0<gt.length&&(z=new B(z,vt,null,a,G),Y.push({event:z,listeners:gt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==Ci&&(vt=a.relatedTarget||a.fromElement)&&(wi(vt)||vt[wn]))break t;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(vt=a.relatedTarget||a.toElement,B=j,vt=vt?wi(vt):null,vt!==null&&(Jt=h(vt),gt=vt.tag,vt!==Jt||gt!==5&&gt!==27&&gt!==6)&&(vt=null)):(B=null,vt=j),B!==vt)){if(gt=Cn,Q="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(gt=No,Q="onPointerLeave",k="onPointerEnter",N="pointer"),Jt=B==null?z:Wn(B),L=vt==null?z:Wn(vt),z=new gt(Q,N+"leave",B,a,G),z.target=Jt,z.relatedTarget=L,Q=null,wi(G)===j&&(gt=new gt(k,N+"enter",vt,a,G),gt.target=L,gt.relatedTarget=Jt,Q=gt),Jt=Q,B&&vt)e:{for(gt=B,k=vt,N=0,L=gt;L;L=Oa(L))N++;for(L=0,Q=k;Q;Q=Oa(Q))L++;for(;0<N-L;)gt=Oa(gt),N--;for(;0<L-N;)k=Oa(k),L--;for(;N--;){if(gt===k||k!==null&&gt===k.alternate)break e;gt=Oa(gt),k=Oa(k)}gt=null}else gt=null;B!==null&&My(Y,z,B,gt,!1),vt!==null&&Jt!==null&&My(Y,Jt,vt,gt,!0)}}t:{if(z=j?Wn(j):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var at=Jm;else if(xe(z))if(Wm)at=TT;else{at=vT;var It=_T}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&Ao(j.elementType)&&(at=Jm):at=ET;if(at&&(at=at(e,j))){Vi(Y,at,a,G);break t}It&&It(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&fr(z,"number",z.value)}switch(It=j?Wn(j):window,e){case"focusin":(xe(It)||It.contentEditable==="true")&&(la=It,Ch=j,Mo=null);break;case"focusout":Mo=Ch=la=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,og(Y,a,G);break;case"selectionchange":if(AT)break;case"keydown":case"keyup":og(Y,a,G)}var ut;if(ai)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Vt?q(e,a)&&(pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(p&&a.locale!=="ko"&&(Vt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Vt&&(ut=wo()):(ni=G,dr="value"in ni?ni.value:ni.textContent,Vt=!0)),It=ic(j,pt),0<It.length&&(pt=new xo(pt,e,null,a,G),Y.push({event:pt,listeners:It}),ut?pt.data=ut:(ut=tt(a),ut!==null&&(pt.data=ut)))),(ut=m?Ie(e,a):kt(e,a))&&(pt=ic(j,"onBeforeInput"),0<pt.length&&(It=new xo("onBeforeInput","beforeinput",null,a,G),Y.push({event:It,listeners:pt}),It.data=ut)),s1(Y,e,j,a,G)}Dy(Y,n)})}function ol(e,n,a){return{instance:e,listener:n,currentTarget:a}}function ic(e,n){for(var a=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=hs(e,a),c!=null&&o.unshift(ol(e,c,f)),c=hs(e,n),c!=null&&o.push(ol(e,c,f))),e.tag===3)return o;e=e.return}return[]}function Oa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function My(e,n,a,o,c){for(var f=n._reactName,_=[];a!==null&&a!==o;){var E=a,w=E.alternate,j=E.stateNode;if(E=E.tag,w!==null&&w===o)break;E!==5&&E!==26&&E!==27||j===null||(w=j,c?(j=hs(a,f),j!=null&&_.unshift(ol(a,j,w))):c||(j=hs(a,f),j!=null&&_.push(ol(a,j,w)))),a=a.return}_.length!==0&&e.push({event:n,listeners:_})}var u1=/\r\n?/g,c1=/\u0000|\uFFFD/g;function Vy(e){return(typeof e=="string"?e:""+e).replace(u1,`
`).replace(c1,"")}function ky(e,n){return n=Vy(n),Vy(e)===n}function rc(){}function Zt(e,n,a,o,c,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Rn(e,""+o);break;case"className":ti(e,"class",o);break;case"tabIndex":ti(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(e,a,o);break;case"style":bo(e,o,f);break;case"data":if(n!=="object"){ti(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ws(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Zt(e,n,"name",c.name,c,null),Zt(e,n,"formEncType",c.formEncType,c,null),Zt(e,n,"formMethod",c.formMethod,c,null),Zt(e,n,"formTarget",c.formTarget,c,null)):(Zt(e,n,"encType",c.encType,c,null),Zt(e,n,"method",c.method,c,null),Zt(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ws(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=rc);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Ws(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),hr(e,"popover",o);break;case"xlinkActuate":Be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":hr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bh.get(a)||a,hr(e,a,o))}}function td(e,n,a,o,c,f){switch(a){case"style":bo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Rn(e,o):(typeof o=="number"||typeof o=="bigint")&&Rn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ks.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=e[_e]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,c);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):hr(e,a,o)}}}function Fe(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(e,n,f,_,a,null)}}c&&Zt(e,n,"srcSet",a.srcSet,a,null),o&&Zt(e,n,"src",a.src,a,null);return;case"input":Ct("invalid",e);var E=f=_=c=null,w=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":c=G;break;case"type":_=G;break;case"checked":w=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:Zt(e,n,o,G,a,null)}}ls(e,f,E,w,j,_,c,!1),Js(e);return;case"select":Ct("invalid",e),o=_=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:Zt(e,n,c,E,a,null)}n=f,a=_,e.multiple=!!o,n!=null?xi(e,!!o,n,!1):a!=null&&xi(e,!!o,a,!0);return;case"textarea":Ct("invalid",e),f=c=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Zt(e,n,_,E,a,null)}us(e,o,c,f),Js(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(o=a[w],o!=null))switch(w){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Zt(e,n,w,o,a,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<al.length;o++)Ct(al[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(e,n,j,o,a,null)}return;default:if(Ao(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&td(e,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Zt(e,n,E,o,a,null))}function h1(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,_=null,E=null,w=null,j=null,G=null;for(B in a){var Y=a[B];if(a.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":w=Y;default:o.hasOwnProperty(B)||Zt(e,n,B,null,o,Y)}}for(var z in o){var B=o[z];if(Y=a[z],o.hasOwnProperty(z)&&(B!=null||Y!=null))switch(z){case"type":f=B;break;case"name":c=B;break;case"checked":j=B;break;case"defaultChecked":G=B;break;case"value":_=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:B!==Y&&Zt(e,n,z,B,o,Y)}}gn(e,_,E,w,j,G,f,c);return;case"select":B=_=E=z=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":B=w;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,w)}for(c in o)if(f=o[c],w=a[c],o.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==w&&Zt(e,n,c,f,o,w)}n=E,a=_,o=B,z!=null?xi(e,!!a,z,!1):!!o!=!!a&&(n!=null?xi(e,!!a,n,!0):xi(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,c)}for(_ in o)if(c=o[_],f=a[_],o.hasOwnProperty(_)&&(c!=null||f!=null))switch(_){case"value":z=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Zt(e,n,_,c,o,f)}Xt(e,z,B);return;case"option":for(var vt in a)if(z=a[vt],a.hasOwnProperty(vt)&&z!=null&&!o.hasOwnProperty(vt))switch(vt){case"selected":e.selected=!1;break;default:Zt(e,n,vt,null,o,z)}for(w in o)if(z=o[w],B=a[w],o.hasOwnProperty(w)&&z!==B&&(z!=null||B!=null))switch(w){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Zt(e,n,w,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)z=a[gt],a.hasOwnProperty(gt)&&z!=null&&!o.hasOwnProperty(gt)&&Zt(e,n,gt,null,o,z);for(j in o)if(z=o[j],B=a[j],o.hasOwnProperty(j)&&z!==B&&(z!=null||B!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Zt(e,n,j,z,o,B)}return;default:if(Ao(n)){for(var Jt in a)z=a[Jt],a.hasOwnProperty(Jt)&&z!==void 0&&!o.hasOwnProperty(Jt)&&td(e,n,Jt,void 0,o,z);for(G in o)z=o[G],B=a[G],!o.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||td(e,n,G,z,o,B);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&Zt(e,n,k,null,o,z);for(Y in o)z=o[Y],B=a[Y],!o.hasOwnProperty(Y)||z===B||z==null&&B==null||Zt(e,n,Y,z,o,B)}var ed=null,nd=null;function sc(e){return e.nodeType===9?e:e.ownerDocument}function Py(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function id(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var rd=null;function f1(){var e=window.event;return e&&e.type==="popstate"?e===rd?!1:(rd=e,!0):(rd=null,!1)}var Ly=typeof setTimeout=="function"?setTimeout:void 0,d1=typeof clearTimeout=="function"?clearTimeout:void 0,jy=typeof Promise=="function"?Promise:void 0,m1=typeof queueMicrotask=="function"?queueMicrotask:typeof jy<"u"?function(e){return jy.resolve(null).then(e).catch(g1)}:Ly;function g1(e){setTimeout(function(){throw e})}function Cr(e){return e==="head"}function zy(e,n){var a=n,o=0,c=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var _=e.ownerDocument;if(a&1&&ll(_.documentElement),a&2&&ll(_.body),a&4)for(a=_.head,ll(a),_=a.firstChild;_;){var E=_.nextSibling,w=_.nodeName;_[rs]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=E}}if(c===0){e.removeChild(f),pl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);pl(n)}function sd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sd(a),cr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function p1(e,n,a,o){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[rs])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function y1(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Fn(e.nextSibling),e===null))return null;return e}function ad(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function _1(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Fn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var od=null;function By(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function qy(e,n,a){switch(n=sc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);cr(e)}var Pn=new Map,Hy=new Set;function ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=nt.d;nt.d={f:v1,r:E1,D:T1,C:b1,L:A1,m:S1,X:R1,S:w1,M:I1};function v1(){var e=Yi.f(),n=Zu();return e||n}function E1(e){var n=Jn(e);n!==null&&n.tag===5&&n.type==="form"?up(n):Yi.r(e)}var Ma=typeof document>"u"?null:document;function Gy(e,n,a){var o=Ma;if(o&&typeof n=="string"&&n){var c=ve(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Hy.has(c)||(Hy.add(c),e={rel:e,crossOrigin:a,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),Fe(n,"link",e),me(n),o.head.appendChild(n)))}}function T1(e){Yi.D(e),Gy("dns-prefetch",e,null)}function b1(e,n){Yi.C(e,n),Gy("preconnect",e,n)}function A1(e,n,a){Yi.L(e,n,a);var o=Ma;if(o&&e&&n){var c='link[rel="preload"][as="'+ve(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+ve(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+ve(a.imageSizes)+'"]')):c+='[href="'+ve(e)+'"]';var f=c;switch(n){case"style":f=Va(e);break;case"script":f=ka(e)}Pn.has(f)||(e=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Pn.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(ul(f))||n==="script"&&o.querySelector(cl(f))||(n=o.createElement("link"),Fe(n,"link",e),me(n),o.head.appendChild(n)))}}function S1(e,n){Yi.m(e,n);var a=Ma;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ve(o)+'"][href="'+ve(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(e)}if(!Pn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Pn.set(f,e),a.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cl(f)))return}o=a.createElement("link"),Fe(o,"link",e),me(o),a.head.appendChild(o)}}}function w1(e,n,a){Yi.S(e,n,a);var o=Ma;if(o&&e){var c=sn(o).hoistableStyles,f=Va(e);n=n||"default";var _=c.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(ul(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Pn.get(f))&&ld(e,a);var w=_=o.createElement("link");me(w),Fe(w,"link",e),w._p=new Promise(function(j,G){w.onload=j,w.onerror=G}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,oc(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:E},c.set(f,_)}}}function R1(e,n){Yi.X(e,n);var a=Ma;if(a&&e){var o=sn(a).hoistableScripts,c=ka(e),f=o.get(c);f||(f=a.querySelector(cl(c)),f||(e=b({src:e,async:!0},n),(n=Pn.get(c))&&ud(e,n),f=a.createElement("script"),me(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function I1(e,n){Yi.M(e,n);var a=Ma;if(a&&e){var o=sn(a).hoistableScripts,c=ka(e),f=o.get(c);f||(f=a.querySelector(cl(c)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Pn.get(c))&&ud(e,n),f=a.createElement("script"),me(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Fy(e,n,a,o){var c=(c=mt.current)?ac(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Va(a.href),a=sn(c).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Va(a.href);var f=sn(c).hoistableStyles,_=f.get(e);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=c.querySelector(ul(e)))&&!f._p&&(_.instance=f,_.state.loading=5),Pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(e,a),f||x1(c,e,a,_.state))),n&&o===null)throw Error(r(528,""));return _}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(a),a=sn(c).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Va(e){return'href="'+ve(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function Qy(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function x1(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",a),me(n),e.head.appendChild(n))}function ka(e){return'[src="'+ve(e)+'"]'}function cl(e){return"script[async]"+e}function Yy(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ve(a.href)+'"]');if(o)return n.instance=o,me(o),o;var c=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),me(o),Fe(o,"style",c),oc(o,a.precedence,e),n.instance=o;case"stylesheet":c=Va(a.href);var f=e.querySelector(ul(c));if(f)return n.state.loading|=4,n.instance=f,me(f),f;o=Qy(a),(c=Pn.get(c))&&ld(o,c),f=(e.ownerDocument||e).createElement("link"),me(f);var _=f;return _._p=new Promise(function(E,w){_.onload=E,_.onerror=w}),Fe(f,"link",o),n.state.loading|=4,oc(f,a.precedence,e),n.instance=f;case"script":return f=ka(a.src),(c=e.querySelector(cl(f)))?(n.instance=c,me(c),c):(o=a,(c=Pn.get(f))&&(o=b({},a),ud(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),me(c),Fe(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,oc(o,a.precedence,e));return n.instance}function oc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function ld(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var lc=null;function Ky(e,n,a){if(lc===null){var o=new Map,c=lc=new Map;c.set(a,o)}else c=lc,o=c.get(a),o||(o=new Map,c.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var f=a[c];if(!(f[rs]||f[Re]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=e+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function Xy(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function C1(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function $y(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var hl=null;function N1(){}function D1(e,n,a){if(hl===null)throw Error(r(475));var o=hl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Va(a.href),f=e.querySelector(ul(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=uc.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,me(f);return}f=e.ownerDocument||e,a=Qy(a),(c=Pn.get(c))&&ld(a,c),f=f.createElement("link"),me(f);var _=f;_._p=new Promise(function(E,w){_.onload=E,_.onerror=w}),Fe(f,"link",a),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=uc.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function O1(){if(hl===null)throw Error(r(475));var e=hl;return e.stylesheets&&e.count===0&&cd(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&cd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function uc(){if(this.count--,this.count===0){if(this.stylesheets)cd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cc=null;function cd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cc=new Map,n.forEach(M1,e),cc=null,uc.call(e))}function M1(e,n){if(!(n.state.loading&4)){var a=cc.get(e);if(a)var o=a.get(null);else{a=new Map,cc.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var _=c[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}c=n.instance,_=c.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,c),a.set(_,c),this.count++,o=uc.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var fl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function V1(e,n,a,o,c,f,_,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Zy(e,n,a,o,c,f,_,E,w,j,G,Y){return e=new V1(e,n,a,_,E,w,j,Y),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),e.current=f,f.stateNode=e,n=Gh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},Kh(f),e}function Jy(e){return e?(e=fa,e):fa}function Wy(e,n,a,o,c,f){c=Jy(c),o.context===null?o.context=c:o.pendingContext=c,o=pr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=yr(e,o,n),a!==null&&(bn(a,e,n),qo(a,e,n))}function t_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function hd(e,n){t_(e,n),(e=e.alternate)&&t_(e,n)}function e_(e){if(e.tag===13){var n=ha(e,67108864);n!==null&&bn(n,e,67108864),hd(e,67108864)}}var hc=!0;function k1(e,n,a,o){var c=H.T;H.T=null;var f=nt.p;try{nt.p=2,fd(e,n,a,o)}finally{nt.p=f,H.T=c}}function P1(e,n,a,o){var c=H.T;H.T=null;var f=nt.p;try{nt.p=8,fd(e,n,a,o)}finally{nt.p=f,H.T=c}}function fd(e,n,a,o){if(hc){var c=dd(o);if(c===null)Wf(e,n,o,fc,a),i_(e,o);else if(L1(c,e,n,a,o))o.stopPropagation();else if(i_(e,o),n&4&&-1<U1.indexOf(e)){for(;c!==null;){var f=Jn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=zn(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var w=1<<31-Xe(_);E.entanglements[1]|=w,_&=~w}fi(f),(Qt&6)===0&&(Xu=nn()+500,sl(0))}}break;case 13:E=ha(f,2),E!==null&&bn(E,f,2),Zu(),hd(f,2)}if(f=dd(o),f===null&&Wf(e,n,o,fc,a),f===c)break;c=f}c!==null&&o.stopPropagation()}else Wf(e,n,o,null,a)}}function dd(e){return e=In(e),md(e)}var fc=null;function md(e){if(fc=null,e=wi(e),e!==null){var n=h(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return fc=e,null}function n_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(co()){case Jr:return 2;case te:return 8;case ft:case ie:return 32;case ar:return 268435456;default:return 32}default:return 32}}var gd=!1,Nr=null,Dr=null,Or=null,dl=new Map,ml=new Map,Mr=[],U1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i_(e,n){switch(e){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(n.pointerId)}}function gl(e,n,a,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Jn(n),n!==null&&e_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function L1(e,n,a,o,c){switch(n){case"focusin":return Nr=gl(Nr,e,n,a,o,c),!0;case"dragenter":return Dr=gl(Dr,e,n,a,o,c),!0;case"mouseover":return Or=gl(Or,e,n,a,o,c),!0;case"pointerover":var f=c.pointerId;return dl.set(f,gl(dl.get(f)||null,e,n,a,o,c)),!0;case"gotpointercapture":return f=c.pointerId,ml.set(f,gl(ml.get(f)||null,e,n,a,o,c)),!0}return!1}function r_(e){var n=wi(e.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Zl(e.priority,function(){if(a.tag===13){var o=Tn();o=or(o);var c=ha(a,o);c!==null&&bn(c,a,o),hd(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=dd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ci=o,a.target.dispatchEvent(o),Ci=null}else return n=Jn(a),n!==null&&e_(n),e.blockedOn=a,!1;n.shift()}return!0}function s_(e,n,a){dc(e)&&a.delete(n)}function j1(){gd=!1,Nr!==null&&dc(Nr)&&(Nr=null),Dr!==null&&dc(Dr)&&(Dr=null),Or!==null&&dc(Or)&&(Or=null),dl.forEach(s_),ml.forEach(s_)}function mc(e,n){e.blockedOn===n&&(e.blockedOn=null,gd||(gd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,j1)))}var gc=null;function a_(e){gc!==e&&(gc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){gc===e&&(gc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(md(o||a)===null)continue;break}var f=Jn(a);f!==null&&(e.splice(n,3),n-=3,mf(f,{pending:!0,data:c,method:a.method,action:o},o,c))}}))}function pl(e){function n(w){return mc(w,e)}Nr!==null&&mc(Nr,e),Dr!==null&&mc(Dr,e),Or!==null&&mc(Or,e),dl.forEach(n),ml.forEach(n);for(var a=0;a<Mr.length;a++){var o=Mr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Mr.length&&(a=Mr[0],a.blockedOn===null);)r_(a),a.blockedOn===null&&Mr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var c=a[o],f=a[o+1],_=c[_e]||null;if(typeof f=="function")_||a_(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,_=f[_e]||null)E=_.formAction;else if(md(c)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),a_(a)}}}function pd(e){this._internalRoot=e}pc.prototype.render=pd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Tn();Wy(a,o,e,n,null,null)},pc.prototype.unmount=pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Wy(e.current,2,null,e,null,null),Zu(),n[wn]=null}};function pc(e){this._internalRoot=e}pc.prototype.unstable_scheduleHydration=function(e){if(e){var n=lr();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Mr.length&&n!==0&&n<Mr[a].priority;a++);Mr.splice(a,0,e),a===0&&r_(e)}};var o_=t.version;if(o_!=="19.1.0")throw Error(r(527,o_,"19.1.0"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var z1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{re=yc.inject(z1),Mt=yc}catch{}}return _l.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",c=Ap,f=Sp,_=wp,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Zy(e,1,!1,null,null,a,o,c,f,_,E,null),e[wn]=n.current,Jf(e),new pd(n)},_l.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,c="",f=Ap,_=Sp,E=wp,w=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),n=Zy(e,1,!0,n,a??null,o,c,f,_,E,w,j),n.context=Jy(null),a=n.current,o=Tn(),o=or(o),c=pr(o),c.callback=null,yr(a,c,o),a=o,n.current.lanes=a,Si(n,a),fi(n),e[wn]=n.current,Jf(e),new pc(n)},_l.version="19.1.0",_l}var y_;function $1(){if(y_)return vd.exports;y_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),vd.exports=X1(),vd.exports}var Z1=$1();const J1=()=>{};var __={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},W1=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const h=s[i++];t[r++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=s[i++],d=s[i++],g=s[i++],y=((l&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const h=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},Zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const h=s[l],d=l+1<s.length,g=d?s[l+1]:0,y=l+2<s.length,v=y?s[l+2]:0,b=h>>2,C=(h&3)<<4|g>>4;let O=(g&15)<<2|v>>6,F=v&63;y||(F=64,d||(O=64)),r.push(i[b],i[C],i[O],i[F])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray($v(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):W1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const h=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const v=l<s.length?i[s.charAt(l)]:64;++l;const C=l<s.length?i[s.charAt(l)]:64;if(++l,h==null||g==null||v==null||C==null)throw new tb;const O=h<<2|g>>4;if(r.push(O),v!==64){const F=g<<4&240|v>>2;if(r.push(F),C!==64){const Z=v<<6&192|C;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class tb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eb=function(s){const t=$v(s);return Zv.encodeByteArray(t,!0)},kc=function(s){return eb(s).replace(/\./g,"")},Jv=function(s){try{return Zv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=()=>nb().__FIREBASE_DEFAULTS__,rb=()=>{if(typeof process>"u"||typeof __>"u")return;const s=__.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},sb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Jv(s[1]);return t&&JSON.parse(t)},nh=()=>{try{return J1()||ib()||rb()||sb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Wv=s=>nh()?.emulatorHosts?.[s],ab=s=>{const t=Wv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},t0=()=>nh()?.config,e0=s=>nh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function n0(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[kc(JSON.stringify(i)),kc(JSON.stringify(d)),""].join(".")}const Al={};function ub(){const s={prod:[],emulator:[]};for(const t of Object.keys(Al))Al[t]?s.emulator.push(t):s.prod.push(t);return s}function cb(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let v_=!1;function i0(s,t){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||Al[s]===t||Al[s]||v_)return;Al[s]=t;function i(O){return`__firebase__banner__${O}`}const r="__firebase__banner",h=ub().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function y(O,F){O.setAttribute("width","24"),O.setAttribute("id",F),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function v(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{v_=!0,d()},O}function b(O,F){O.setAttribute("id",F),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function C(){const O=cb(r),F=i("text"),Z=document.getElementById(F)||document.createElement("span"),it=i("learnmore"),J=document.getElementById(it)||document.createElement("a"),_t=i("preprendIcon"),dt=document.getElementById(_t)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const ct=O.element;g(ct),b(J,it);const Lt=v();y(dt,_t),ct.append(dt,Z,J,Lt),document.body.appendChild(ct)}h?(Z.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function fb(){const s=nh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function db(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function gb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pb(){const s=en();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function yb(){return!fb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _b(){try{return typeof indexedDB=="object"}catch{return!1}}function vb(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="FirebaseError";class sr extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=Eb,Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?Tb(h,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new sr(l,g,r)}}function Tb(s,t){return s.replace(bb,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const bb=/\{\$([^}]+)}/g;function Ab(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Us(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const h=s[l],d=t[l];if(E_(h)&&E_(d)){if(!Us(h,d))return!1}else if(h!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function E_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Sb(s,t){const i=new wb(s,t);return i.subscribe.bind(i)}class wb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");Rb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Ad),l.error===void 0&&(l.error=Ad),l.complete===void 0&&(l.complete=Ad);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rb(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ad(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(s){return s&&s._delegate?s._delegate:s}class Ls{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new ob;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Cb(t))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});r.resolve(h)}catch{}}}}clearInstance(t=Ms){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ms){return this.instances.has(t)}getOptions(t=Ms){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);r===g&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const h=this.instances.get(r);return h&&t(h,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xb(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ms){return this.component?this.component.multipleInstances?t:Ms:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xb(s){return s===Ms?void 0:s}function Cb(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Ib(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Nt||(Nt={}));const Db={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},Ob=Nt.INFO,Mb={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},Vb=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=Mb[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cm{constructor(t){this.name=t,this._logLevel=Ob,this._logHandler=Vb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Db[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const kb=(s,t)=>t.some(i=>s instanceof i);let T_,b_;function Pb(){return T_||(T_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ub(){return b_||(b_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r0=new WeakMap,Ld=new WeakMap,s0=new WeakMap,Sd=new WeakMap,hm=new WeakMap;function Lb(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Br(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",h),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&r0.set(i,s)}).catch(()=>{}),hm.set(t,s),t}function jb(s){if(Ld.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Ld.set(s,t)}let jd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Ld.get(s);if(t==="objectStoreNames")return s.objectStoreNames||s0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Br(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function zb(s){jd=s(jd)}function Bb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(wd(this),t,...i);return s0.set(r,t.sort?t.sort():[t]),Br(r)}:Ub().includes(s)?function(...t){return s.apply(wd(this),t),Br(r0.get(this))}:function(...t){return Br(s.apply(wd(this),t))}}function qb(s){return typeof s=="function"?Bb(s):(s instanceof IDBTransaction&&jb(s),kb(s,Pb())?new Proxy(s,jd):s)}function Br(s){if(s instanceof IDBRequest)return Lb(s);if(Sd.has(s))return Sd.get(s);const t=qb(s);return t!==s&&(Sd.set(s,t),hm.set(t,s)),t}const wd=s=>hm.get(s);function Hb(s,t,{blocked:i,upgrade:r,blocking:l,terminated:h}={}){const d=indexedDB.open(s,t),g=Br(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Br(d.result),y.oldVersion,y.newVersion,Br(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const Gb=["get","getKey","getAll","getAllKeys","count"],Fb=["put","add","delete","clear"],Rd=new Map;function A_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Rd.get(t))return Rd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=Fb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||Gb.includes(i)))return;const h=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let v=y.store;return r&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&y.done]))[0]};return Rd.set(t,h),h}zb(s=>({...s,get:(t,i,r)=>A_(t,i)||s.get(t,i,r),has:(t,i)=>!!A_(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Yb(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Yb(s){return s.getComponent()?.type==="VERSION"}const zd="@firebase/app",S_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new cm("@firebase/app"),Kb="@firebase/app-compat",Xb="@firebase/analytics-compat",$b="@firebase/analytics",Zb="@firebase/app-check-compat",Jb="@firebase/app-check",Wb="@firebase/auth",tA="@firebase/auth-compat",eA="@firebase/database",nA="@firebase/data-connect",iA="@firebase/database-compat",rA="@firebase/functions",sA="@firebase/functions-compat",aA="@firebase/installations",oA="@firebase/installations-compat",lA="@firebase/messaging",uA="@firebase/messaging-compat",cA="@firebase/performance",hA="@firebase/performance-compat",fA="@firebase/remote-config",dA="@firebase/remote-config-compat",mA="@firebase/storage",gA="@firebase/storage-compat",pA="@firebase/firestore",yA="@firebase/ai",_A="@firebase/firestore-compat",vA="firebase",EA="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="[DEFAULT]",TA={[zd]:"fire-core",[Kb]:"fire-core-compat",[$b]:"fire-analytics",[Xb]:"fire-analytics-compat",[Jb]:"fire-app-check",[Zb]:"fire-app-check-compat",[Wb]:"fire-auth",[tA]:"fire-auth-compat",[eA]:"fire-rtdb",[nA]:"fire-data-connect",[iA]:"fire-rtdb-compat",[rA]:"fire-fn",[sA]:"fire-fn-compat",[aA]:"fire-iid",[oA]:"fire-iid-compat",[lA]:"fire-fcm",[uA]:"fire-fcm-compat",[cA]:"fire-perf",[hA]:"fire-perf-compat",[fA]:"fire-rc",[dA]:"fire-rc-compat",[mA]:"fire-gcs",[gA]:"fire-gcs-compat",[pA]:"fire-fst",[_A]:"fire-fst-compat",[yA]:"fire-vertex","fire-js":"fire-js",[vA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Map,bA=new Map,qd=new Map;function w_(s,t){try{s.container.addComponent(t)}catch(i){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Xa(s){const t=s.name;if(qd.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;qd.set(t,s);for(const i of Pc.values())w_(i,s);for(const i of bA.values())w_(i,s);return!0}function fm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Un(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new Ul("app","Firebase",AA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=EA;function a0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:Bd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw qr.create("bad-app-name",{appName:String(l)});if(i||(i=t0()),!i)throw qr.create("no-options");const h=Pc.get(l);if(h){if(Us(i,h.options)&&Us(r,h.config))return h;throw qr.create("duplicate-app",{appName:l})}const d=new Nb(l);for(const y of qd.values())d.addComponent(y);const g=new SA(i,r,d);return Pc.set(l,g),g}function o0(s=Bd){const t=Pc.get(s);if(!t&&s===Bd&&t0())return a0();if(!t)throw qr.create("no-app",{appName:s});return t}function Hr(s,t,i){let r=TA[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Xa(new Ls(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="firebase-heartbeat-database",RA=1,Cl="firebase-heartbeat-store";let Id=null;function l0(){return Id||(Id=Hb(wA,RA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Cl)}catch(i){console.warn(i)}}}}).catch(s=>{throw qr.create("idb-open",{originalErrorMessage:s.message})})),Id}async function IA(s){try{const i=(await l0()).transaction(Cl),r=await i.objectStore(Cl).get(u0(s));return await i.done,r}catch(t){if(t instanceof sr)Wi.warn(t.message);else{const i=qr.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(i.message)}}}async function R_(s,t){try{const r=(await l0()).transaction(Cl,"readwrite");await r.objectStore(Cl).put(t,u0(s)),await r.done}catch(i){if(i instanceof sr)Wi.warn(i.message);else{const r=qr.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(r.message)}}}function u0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=1024,CA=30;class NA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new OA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=I_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>CA){const l=MA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=I_(),{heartbeatsToSend:i,unsentEntries:r}=DA(this._heartbeatsCache.heartbeats),l=kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Wi.warn(t),""}}}function I_(){return new Date().toISOString().substring(0,10)}function DA(s,t=xA){const i=[];let r=s.slice();for(const l of s){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),x_(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),x_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class OA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _b()?vb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await IA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return R_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return R_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function x_(s){return kc(JSON.stringify({version:2,heartbeats:s})).length}function MA(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(s){Xa(new Ls("platform-logger",t=>new Qb(t),"PRIVATE")),Xa(new Ls("heartbeat",t=>new NA(t),"PRIVATE")),Hr(zd,S_,s),Hr(zd,S_,"esm2020"),Hr("fire-js","")}VA("");var kA="firebase",PA="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr(kA,PA,"app");function c0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UA=c0,h0=new Ul("auth","Firebase",c0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new cm("@firebase/auth");function LA(s,...t){Uc.logLevel<=Nt.WARN&&Uc.warn(`Auth (${io}): ${s}`,...t)}function wc(s,...t){Uc.logLevel<=Nt.ERROR&&Uc.error(`Auth (${io}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(s,...t){throw dm(s,...t)}function mi(s,...t){return dm(s,...t)}function f0(s,t,i){const r={...UA(),[t]:i};return new Ul("auth","Firebase",r).create(t,{appName:s.name})}function Zi(s){return f0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return h0.create(s,...t)}function Et(s,t,...i){if(!s)throw dm(t,...i)}function Xi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw wc(t),new Error(t)}function er(s,t){s||Xi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(){return typeof self<"u"&&self.location?.href||""}function jA(){return C_()==="http:"||C_()==="https:"}function C_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jA()||mb()||"connection"in navigator)?navigator.onLine:!0}function BA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,i){this.shortDelay=t,this.longDelay=i,er(i>t,"Short delay should be less than long delay!"),this.isMobile=hb()||gb()}get(){return zA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(s,t){er(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GA=new jl(3e4,6e4);function zl(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ro(s,t,i,r,l={}){return m0(s,l,async()=>{let h={},d={};r&&(t==="GET"?d=r:h={body:JSON.stringify(r)});const g=Ll({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const v={method:t,headers:y,...h};return db()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&no(s.emulatorConfig.host)&&(v.credentials="include"),d0.fetch()(await g0(s,s.config.apiHost,i,g),v)})}async function m0(s,t,i){s._canInitEmulator=!1;const r={...qA,...t};try{const l=new FA(s),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw _c(s,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const g=h.ok?d.errorMessage:d.error.message,[y,v]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw _c(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw _c(s,"user-disabled",d);const b=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw f0(s,b,v);tr(s,b)}}catch(l){if(l instanceof sr)throw l;tr(s,"network-request-failed",{message:String(l)})}}async function gm(s,t,i,r,l={}){const h=await ro(s,t,i,r,l);return"mfaPendingCredential"in h&&tr(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function g0(s,t,i,r){const l=`${t}${i}?${r}`,h=s,d=h.config.emulator?mm(s.config,l):`${s.config.apiScheme}://${l}`;return HA.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class FA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(mi(this.auth,"network-request-failed")),GA.get())})}}function _c(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=mi(s,t,r);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA(s,t){return ro(s,"POST","/v1/accounts:delete",t)}async function Lc(s,t){return ro(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function YA(s,t=!1){const i=dn(s),r=await i.getIdToken(t),l=pm(r);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:r,authTime:Sl(xd(l.auth_time)),issuedAtTime:Sl(xd(l.iat)),expirationTime:Sl(xd(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function xd(s){return Number(s)*1e3}function pm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Jv(i);return l?JSON.parse(l):(wc("Failed to decode base64 JWT payload"),null)}catch(l){return wc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function N_(s){const t=pm(s);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof sr&&KA(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function KA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(s){const t=s.auth,i=await s.getIdToken(),r=await Nl(s,Lc(t,{idToken:i}));Et(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const h=l.providerUserInfo?.length?p0(l.providerUserInfo):[],d=ZA(s.providerData,h),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,v=g?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Gd(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(s,b)}async function $A(s){const t=dn(s);await jc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ZA(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function p0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(s,t){const i=await m0(s,{},async()=>{const r=Ll({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=s.config,d=await g0(s,l,"/v1/token",`key=${h}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return s.emulatorConfig&&no(s.emulatorConfig.host)&&(y.credentials="include"),d0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function WA(s,t){return ro(s,"POST","/v2/accounts:revokeToken",zl(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):N_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=N_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:h}=await JA(t,i);this.updateTokensAndExpiration(r,l,Number(h))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:h}=i,d=new Ha;return r&&(Et(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(Et(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(Et(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(s,t){Et(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Qn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new XA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Gd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Nl(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return YA(this,t)}reload(){return $A(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Qn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await jc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Zi(this.auth));const t=await this.getIdToken();return await Nl(this,QA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,v=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:C,emailVerified:O,isAnonymous:F,providerData:Z,stsTokenManager:it}=i;Et(C&&it,t,"internal-error");const J=Ha.fromJSON(this.name,it);Et(typeof C=="string",t,"internal-error"),kr(r,t.name),kr(l,t.name),Et(typeof O=="boolean",t,"internal-error"),Et(typeof F=="boolean",t,"internal-error"),kr(h,t.name),kr(d,t.name),kr(g,t.name),kr(y,t.name),kr(v,t.name),kr(b,t.name);const _t=new Qn({uid:C,auth:t,email:l,emailVerified:O,displayName:r,isAnonymous:F,photoURL:d,phoneNumber:h,tenantId:g,stsTokenManager:J,createdAt:v,lastLoginAt:b});return Z&&Array.isArray(Z)&&(_t.providerData=Z.map(dt=>({...dt}))),y&&(_t._redirectEventId=y),_t}static async _fromIdTokenResponse(t,i,r=!1){const l=new Ha;l.updateFromServerResponse(i);const h=new Qn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await jc(h),h}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?p0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,g=new Ha;g.updateFromIdToken(r);const y=new Qn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Gd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(y,v),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;function $i(s){er(s instanceof Function,"Expected a class definition");let t=D_.get(s);return t?(er(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,D_.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}y0.type="NONE";const O_=y0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ga{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:h}=this.auth;this.fullUserKey=Rc(this.userKey,l.apiKey,h),this.fullPersistenceKey=Rc("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Lc(this.auth,{idToken:t}).catch(()=>{});return i?Qn._fromGetAccountInfoResponse(this.auth,i,t):null}return Qn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Ga($i(O_),t,r);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=l[0]||$i(O_);const d=Rc(r,t.config.apiKey,t.name);let g=null;for(const v of i)try{const b=await v._get(d);if(b){let C;if(typeof b=="string"){const O=await Lc(t,{idToken:b}).catch(()=>{});if(!O)break;C=await Qn._fromGetAccountInfoResponse(t,O,b)}else C=Qn._fromJSON(t,b);v!==h&&(g=C),h=v;break}}catch{}const y=l.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new Ga(h,t,r):(h=y[0],g&&await h._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==h)try{await v._remove(d)}catch{}})),new Ga(h,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(T0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(A0(t))return"Blackberry";if(S0(t))return"Webos";if(v0(t))return"Safari";if((t.includes("chrome/")||E0(t))&&!t.includes("edge/"))return"Chrome";if(b0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function _0(s=en()){return/firefox\//i.test(s)}function v0(s=en()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function E0(s=en()){return/crios\//i.test(s)}function T0(s=en()){return/iemobile/i.test(s)}function b0(s=en()){return/android/i.test(s)}function A0(s=en()){return/blackberry/i.test(s)}function S0(s=en()){return/webos/i.test(s)}function ym(s=en()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function tS(s=en()){return ym(s)&&!!window.navigator?.standalone}function eS(){return pb()&&document.documentMode===10}function w0(s=en()){return ym(s)||b0(s)||S0(s)||A0(s)||/windows phone/i.test(s)||T0(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(s,t=[]){let i;switch(s){case"Browser":i=M_(en());break;case"Worker":i=`${M_(en())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${io}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=h=>new Promise((d,g)=>{try{const y=t(h);d(y)}catch(y){g(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iS(s,t={}){return ro(s,"GET","/v2/passwordPolicy",zl(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=6;class sS{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??rS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V_(this),this.idTokenSubscription=new V_(this),this.beforeStateQueue=new nS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=$i(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Lc(this,{idToken:t}),r=await Qn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Un(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!h||h===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(h){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await jc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=BA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Un(this.app))return Promise.reject(Zi(this));const i=t?dn(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Un(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await iS(this),i=new sS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ul("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await WA(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&$i(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[$i(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(g,this,"internal-error"),g.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=R0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&LA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Bl(s){return dn(s)}class V_{constructor(t){this.auth=t,this.observer=null,this.addObserver=Sb(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oS(s){_m=s}function lS(s){return _m.loadJS(s)}function uS(){return _m.gapiScript}function cS(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(s,t){const i=fm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(Us(h,t??{}))return l;tr(l,"already-initialized")}return i.initialize({options:t})}function fS(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map($i);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function dS(s,t,i){const r=Bl(s);Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,h=I0(t),{host:d,port:g}=mS(t),y=g===null?"":`:${g}`,v={url:`${h}//${d}${y}/`},b=Object.freeze({host:d,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(Us(v,r.config.emulator)&&Us(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,no(d)?(n0(`${h}//${d}${y}`),i0("Auth",!0)):gS()}function I0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function mS(s){const t=I0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const h=l[1];return{host:h,port:k_(r.substr(h.length+1))}}else{const[h,d]=r.split(":");return{host:h,port:k_(d)}}}function k_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function gS(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(s,t){return gm(s,"POST","/v1/accounts:signInWithIdp",zl(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="http://localhost";class js extends x0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new js(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):tr("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...h}=i;if(!r||!l)return null;const d=new js(r,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Fa(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Fa(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Fa(t,i)}buildRequest(){const t={requestUri:pS,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ll(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends C0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends ql{constructor(){super("facebook.com")}static credential(t){return js._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return js._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Ur.credential(i,r)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends ql{constructor(){super("github.com")}static credential(t){return js._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lr.credential(t.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends ql{constructor(){super("twitter.com")}static credential(t,i){return js._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return jr.credential(i,r)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(s,t){return gm(s,"POST","/v1/accounts:signUp",zl(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const h=await Qn._fromIdTokenResponse(t,r,l),d=P_(r);return new nr({user:h,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=P_(r);return new nr({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function P_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U_(s){if(Un(s.app))return Promise.reject(Zi(s));const t=Bl(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new nr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await yS(t,{returnSecureToken:!0}),r=await nr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends sr{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new zc(t,i,r,l)}}function N0(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(s,h,t,r):h})}async function _S(s,t,i=!1){const r=await Nl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return nr._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vS(s,t,i=!1){const{auth:r}=s;if(Un(r.app))return Promise.reject(Zi(r));const l="reauthenticate";try{const h=await Nl(s,N0(r,l,t,s),i);Et(h.idToken,r,"internal-error");const d=pm(h.idToken);Et(d,r,"internal-error");const{sub:g}=d;return Et(s.uid===g,r,"user-mismatch"),nr._forOperation(s,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&tr(r,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ES(s,t,i=!1){if(Un(s.app))return Promise.reject(Zi(s));const r="signIn",l=await N0(s,r,t),h=await nr._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(h.user),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TS(s,t){return gm(s,"POST","/v1/accounts:signInWithCustomToken",zl(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bS(s,t){if(Un(s.app))return Promise.reject(Zi(s));const i=Bl(s),r=await TS(i,{token:t,returnSecureToken:!0}),l=await nr._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(l.user),l}function AS(s,t,i,r){return dn(s).onIdTokenChanged(t,i,r)}function SS(s,t,i){return dn(s).beforeAuthStateChanged(t,i)}function wS(s,t,i,r){return dn(s).onAuthStateChanged(t,i,r)}const Bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=1e3,IS=10;class O0 extends D0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},h=this.storage.getItem(r);eS()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,IS):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},RS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}O0.type="LOCAL";const xS=O0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0 extends D0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}M0.type="SESSION";const V0=M0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new ih(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,h)),y=await CS(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((g,y)=>{const v=vm("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(C){const O=C;if(O.data.eventId===v)switch(O.data.status){case"ack":clearTimeout(b),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(O.data.response);break;default:clearTimeout(b),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return window}function DS(s){gi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function OS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MS(){return navigator?.serviceWorker?.controller||null}function VS(){return k0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="firebaseLocalStorageDb",kS=1,qc="firebaseLocalStorage",U0="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rh(s,t){return s.transaction([qc],t?"readwrite":"readonly").objectStore(qc)}function PS(){const s=indexedDB.deleteDatabase(P0);return new Hl(s).toPromise()}function Fd(){const s=indexedDB.open(P0,kS);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(qc,{keyPath:U0})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(qc)?t(r):(r.close(),await PS(),t(await Fd()))})})}async function L_(s,t,i){const r=rh(s,!0).put({[U0]:t,value:i});return new Hl(r).toPromise()}async function US(s,t){const i=rh(s,!1).get(t),r=await new Hl(i).toPromise();return r===void 0?null:r.value}function j_(s,t){const i=rh(s,!0).delete(t);return new Hl(i).toPromise()}const LS=800,jS=3;class L0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>jS)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(VS()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OS(),!this.activeServiceWorker)return;this.sender=new NS(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||MS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fd();return await L_(t,Bc,"1"),await j_(t,Bc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>L_(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>US(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>j_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=rh(l,!1).getAll();return new Hl(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L0.type="LOCAL";const zS=L0;new jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(s,t){return t?$i(t):(Et(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em extends x0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Fa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Fa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function qS(s){return ES(s.auth,new Em(s),s.bypassAuthState)}function HS(s){const{auth:t,user:i}=s;return Et(i,t,"internal-error"),vS(i,new Em(s),s.bypassAuthState)}async function GS(s){const{auth:t,user:i}=s;return Et(i,t,"internal-error"),_S(i,new Em(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t,i,r,l,h=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:h,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return qS;case"linkViaPopup":case"linkViaRedirect":return GS;case"reauthViaPopup":case"reauthViaRedirect":return HS;default:tr(this.auth,"internal-error")}}resolve(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=new jl(2e3,1e4);class qa extends j0{constructor(t,i,r,l,h){super(t,i,l,h),this.provider=r,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const t=vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,FS.get())};t()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="pendingRedirect",Ic=new Map;class YS extends j0{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Ic.get(this.auth._key());if(!t){try{const r=await KS(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Ic.set(this.auth._key(),t)}return this.bypassAuthState||Ic.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KS(s,t){const i=ZS(t),r=$S(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function XS(s,t){Ic.set(s._key(),t)}function $S(s){return $i(s._redirectPersistence)}function ZS(s){return Rc(QS,s.config.apiKey,s.name)}async function JS(s,t,i=!1){if(Un(s.app))return Promise.reject(Zi(s));const r=Bl(s),l=BS(r,t),d=await new YS(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=600*1e3;class tw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ew(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!z0(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(mi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=WS&&this.cachedEventUids.clear(),this.cachedEventUids.has(z_(t))}saveEventToCache(t){this.cachedEventUids.add(z_(t)),this.lastProcessedEventTime=Date.now()}}function z_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function z0({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function ew(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z0(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(s,t={}){return ro(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rw=/^https?/;async function sw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await nw(s);for(const i of t)try{if(aw(i))return}catch{}tr(s,"unauthorized-domain")}function aw(s){const t=Hd(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!rw.test(i))return!1;if(iw.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=new jl(3e4,6e4);function B_(){const s=gi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function lw(s){return new Promise((t,i)=>{function r(){B_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{B_(),i(mi(s,"network-request-failed"))},timeout:ow.get()})}if(gi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(gi().gapi?.load)r();else{const l=cS("iframefcb");return gi()[l]=()=>{gapi.load?r():i(mi(s,"network-request-failed"))},lS(`${uS()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw xc=null,t})}let xc=null;function uw(s){return xc=xc||lw(s),xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=new jl(5e3,15e3),hw="__/auth/iframe",fw="emulator/auth/iframe",dw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gw(s){const t=s.config;Et(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?mm(t,fw):`https://${s.config.authDomain}/${hw}`,r={apiKey:t.apiKey,appName:s.name,v:io},l=mw.get(s.config.apiHost);l&&(r.eid=l);const h=s._getFrameworks();return h.length&&(r.fw=h.join(",")),`${i}?${Ll(r).slice(1)}`}async function pw(s){const t=await uw(s),i=gi().gapi;return Et(i,s,"internal-error"),t.open({where:document.body,url:gw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dw,dontclear:!0},r=>new Promise(async(l,h)=>{await r.restyle({setHideOnLeave:!1});const d=mi(s,"network-request-failed"),g=gi().setTimeout(()=>{h(d)},cw.get());function y(){gi().clearTimeout(g),l(r)}r.ping(y).then(y,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_w=500,vw=600,Ew="_blank",Tw="http://localhost";class q_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bw(s,t,i,r=_w,l=vw){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...yw,width:r.toString(),height:l.toString(),top:h,left:d},v=en().toLowerCase();i&&(g=E0(v)?Ew:i),_0(v)&&(t=t||Tw,y.scrollbars="yes");const b=Object.entries(y).reduce((O,[F,Z])=>`${O}${F}=${Z},`,"");if(tS(v)&&g!=="_self")return Aw(t||"",g),new q_(null);const C=window.open(t||"",g,b);Et(C,s,"popup-blocked");try{C.focus()}catch{}return new q_(C)}function Aw(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="__/auth/handler",ww="emulator/auth/handler",Rw=encodeURIComponent("fac");async function H_(s,t,i,r,l,h){Et(s.config.authDomain,s,"auth-domain-config-required"),Et(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:io,eventId:l};if(t instanceof C0){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",Ab(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,C]of Object.entries({}))d[b]=C}if(t instanceof ql){const b=t.getScopes().filter(C=>C!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const y=await s._getAppCheckToken(),v=y?`#${Rw}=${encodeURIComponent(y)}`:"";return`${Iw(s)}?${Ll(g).slice(1)}${v}`}function Iw({config:s}){return s.emulator?mm(s,ww):`https://${s.authDomain}/${Sw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="webStorageSupport";class xw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V0,this._completeRedirectFn=JS,this._overrideRedirectResult=XS}async _openPopup(t,i,r,l){er(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await H_(t,i,r,Hd(),l);return bw(t,h,vm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const h=await H_(t,i,r,Hd(),l);return DS(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):(er(h,"If manager is not set, promise should be"),h)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await pw(t),r=new tw(t);return i.register("authEvent",l=>(Et(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Cd,{type:Cd},l=>{const h=l?.[0]?.[Cd];h!==void 0&&i(!!h),tr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=sw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return w0()||v0()||ym()}}const Cw=xw;var G_="@firebase/auth",F_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ow(s){Xa(new Ls("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R0(s)},v=new aS(r,l,h,y);return fS(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Xa(new Ls("auth-internal",t=>{const i=Bl(t.getProvider("auth").getImmediate());return(r=>new Nw(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hr(G_,F_,Dw(s)),Hr(G_,F_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=300,Vw=e0("authIdTokenMaxAge")||Mw;let Q_=null;const kw=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>Vw)return;const l=i?.token;Q_!==l&&(Q_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Pw(s=o0()){const t=fm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=hS(s,{popupRedirectResolver:Cw,persistence:[zS,xS,V0]}),r=e0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(r,location.origin);if(location.origin===h.origin){const d=kw(h.toString());SS(i,d,()=>d(i.currentUser)),AS(i,g=>d(g))}}const l=Wv("auth");return l&&dS(i,`http://${l}`),i}function Uw(){return document.getElementsByTagName("head")?.[0]??document}oS({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const h=mi("internal-error");h.customData=l,i(h)},r.type="text/javascript",r.charset="UTF-8",Uw().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ow("Browser");var Y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,B0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,S){function I(){}I.prototype=S.prototype,V.D=S.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(D,M,P){for(var R=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)R[Oe-2]=arguments[Oe];return S.prototype[M].apply(D,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,S,I){I||(I=0);var D=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)D[M]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(M=0;16>M;++M)D[M]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=V.g[0],I=V.g[1],M=V.g[2];var P=V.g[3],R=S+(P^I&(M^P))+D[0]+3614090360&4294967295;S=I+(R<<7&4294967295|R>>>25),R=P+(M^S&(I^M))+D[1]+3905402710&4294967295,P=S+(R<<12&4294967295|R>>>20),R=M+(I^P&(S^I))+D[2]+606105819&4294967295,M=P+(R<<17&4294967295|R>>>15),R=I+(S^M&(P^S))+D[3]+3250441966&4294967295,I=M+(R<<22&4294967295|R>>>10),R=S+(P^I&(M^P))+D[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=P+(M^S&(I^M))+D[5]+1200080426&4294967295,P=S+(R<<12&4294967295|R>>>20),R=M+(I^P&(S^I))+D[6]+2821735955&4294967295,M=P+(R<<17&4294967295|R>>>15),R=I+(S^M&(P^S))+D[7]+4249261313&4294967295,I=M+(R<<22&4294967295|R>>>10),R=S+(P^I&(M^P))+D[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=P+(M^S&(I^M))+D[9]+2336552879&4294967295,P=S+(R<<12&4294967295|R>>>20),R=M+(I^P&(S^I))+D[10]+4294925233&4294967295,M=P+(R<<17&4294967295|R>>>15),R=I+(S^M&(P^S))+D[11]+2304563134&4294967295,I=M+(R<<22&4294967295|R>>>10),R=S+(P^I&(M^P))+D[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=P+(M^S&(I^M))+D[13]+4254626195&4294967295,P=S+(R<<12&4294967295|R>>>20),R=M+(I^P&(S^I))+D[14]+2792965006&4294967295,M=P+(R<<17&4294967295|R>>>15),R=I+(S^M&(P^S))+D[15]+1236535329&4294967295,I=M+(R<<22&4294967295|R>>>10),R=S+(M^P&(I^M))+D[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=P+(I^M&(S^I))+D[6]+3225465664&4294967295,P=S+(R<<9&4294967295|R>>>23),R=M+(S^I&(P^S))+D[11]+643717713&4294967295,M=P+(R<<14&4294967295|R>>>18),R=I+(P^S&(M^P))+D[0]+3921069994&4294967295,I=M+(R<<20&4294967295|R>>>12),R=S+(M^P&(I^M))+D[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=P+(I^M&(S^I))+D[10]+38016083&4294967295,P=S+(R<<9&4294967295|R>>>23),R=M+(S^I&(P^S))+D[15]+3634488961&4294967295,M=P+(R<<14&4294967295|R>>>18),R=I+(P^S&(M^P))+D[4]+3889429448&4294967295,I=M+(R<<20&4294967295|R>>>12),R=S+(M^P&(I^M))+D[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=P+(I^M&(S^I))+D[14]+3275163606&4294967295,P=S+(R<<9&4294967295|R>>>23),R=M+(S^I&(P^S))+D[3]+4107603335&4294967295,M=P+(R<<14&4294967295|R>>>18),R=I+(P^S&(M^P))+D[8]+1163531501&4294967295,I=M+(R<<20&4294967295|R>>>12),R=S+(M^P&(I^M))+D[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=P+(I^M&(S^I))+D[2]+4243563512&4294967295,P=S+(R<<9&4294967295|R>>>23),R=M+(S^I&(P^S))+D[7]+1735328473&4294967295,M=P+(R<<14&4294967295|R>>>18),R=I+(P^S&(M^P))+D[12]+2368359562&4294967295,I=M+(R<<20&4294967295|R>>>12),R=S+(I^M^P)+D[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=P+(S^I^M)+D[8]+2272392833&4294967295,P=S+(R<<11&4294967295|R>>>21),R=M+(P^S^I)+D[11]+1839030562&4294967295,M=P+(R<<16&4294967295|R>>>16),R=I+(M^P^S)+D[14]+4259657740&4294967295,I=M+(R<<23&4294967295|R>>>9),R=S+(I^M^P)+D[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=P+(S^I^M)+D[4]+1272893353&4294967295,P=S+(R<<11&4294967295|R>>>21),R=M+(P^S^I)+D[7]+4139469664&4294967295,M=P+(R<<16&4294967295|R>>>16),R=I+(M^P^S)+D[10]+3200236656&4294967295,I=M+(R<<23&4294967295|R>>>9),R=S+(I^M^P)+D[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=P+(S^I^M)+D[0]+3936430074&4294967295,P=S+(R<<11&4294967295|R>>>21),R=M+(P^S^I)+D[3]+3572445317&4294967295,M=P+(R<<16&4294967295|R>>>16),R=I+(M^P^S)+D[6]+76029189&4294967295,I=M+(R<<23&4294967295|R>>>9),R=S+(I^M^P)+D[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=P+(S^I^M)+D[12]+3873151461&4294967295,P=S+(R<<11&4294967295|R>>>21),R=M+(P^S^I)+D[15]+530742520&4294967295,M=P+(R<<16&4294967295|R>>>16),R=I+(M^P^S)+D[2]+3299628645&4294967295,I=M+(R<<23&4294967295|R>>>9),R=S+(M^(I|~P))+D[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=P+(I^(S|~M))+D[7]+1126891415&4294967295,P=S+(R<<10&4294967295|R>>>22),R=M+(S^(P|~I))+D[14]+2878612391&4294967295,M=P+(R<<15&4294967295|R>>>17),R=I+(P^(M|~S))+D[5]+4237533241&4294967295,I=M+(R<<21&4294967295|R>>>11),R=S+(M^(I|~P))+D[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=P+(I^(S|~M))+D[3]+2399980690&4294967295,P=S+(R<<10&4294967295|R>>>22),R=M+(S^(P|~I))+D[10]+4293915773&4294967295,M=P+(R<<15&4294967295|R>>>17),R=I+(P^(M|~S))+D[1]+2240044497&4294967295,I=M+(R<<21&4294967295|R>>>11),R=S+(M^(I|~P))+D[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=P+(I^(S|~M))+D[15]+4264355552&4294967295,P=S+(R<<10&4294967295|R>>>22),R=M+(S^(P|~I))+D[6]+2734768916&4294967295,M=P+(R<<15&4294967295|R>>>17),R=I+(P^(M|~S))+D[13]+1309151649&4294967295,I=M+(R<<21&4294967295|R>>>11),R=S+(M^(I|~P))+D[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=P+(I^(S|~M))+D[11]+3174756917&4294967295,P=S+(R<<10&4294967295|R>>>22),R=M+(S^(P|~I))+D[2]+718787259&4294967295,M=P+(R<<15&4294967295|R>>>17),R=I+(P^(M|~S))+D[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+P&4294967295}r.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var I=S-this.blockSize,D=this.B,M=this.h,P=0;P<S;){if(M==0)for(;P<=I;)l(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<S;)if(D[M++]=V.charCodeAt(P++),M==this.blockSize){l(this,D),M=0;break}}else for(;P<S;)if(D[M++]=V[P++],M==this.blockSize){l(this,D),M=0;break}}this.h=M,this.o+=S},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var I=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=I&255,I/=256;for(this.u(V),V=Array(16),S=I=0;4>S;++S)for(var D=0;32>D;D+=8)V[I++]=this.g[S]>>>D&255;return V};function h(V,S){var I=g;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=S(V)}function d(V,S){this.h=S;for(var I=[],D=!0,M=V.length-1;0<=M;M--){var P=V[M]|0;D&&P==S||(I[M]=P,D=!1)}this.g=I}var g={};function y(V){return-128<=V&&128>V?h(V,function(S){return new d([S|0],0>S?-1:0)}):new d([V|0],0>V?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return C;if(0>V)return J(v(-V));for(var S=[],I=1,D=0;V>=I;D++)S[D]=V/I|0,I*=4294967296;return new d(S,0)}function b(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return J(b(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=v(Math.pow(S,8)),D=C,M=0;M<V.length;M+=8){var P=Math.min(8,V.length-M),R=parseInt(V.substring(M,M+P),S);8>P?(P=v(Math.pow(S,P)),D=D.j(P).add(v(R))):(D=D.j(I),D=D.add(v(R)))}return D}var C=y(0),O=y(1),F=y(16777216);s=d.prototype,s.m=function(){if(it(this))return-J(this).m();for(var V=0,S=1,I=0;I<this.g.length;I++){var D=this.i(I);V+=(0<=D?D:4294967296+D)*S,S*=4294967296}return V},s.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(Z(this))return"0";if(it(this))return"-"+J(this).toString(V);for(var S=v(Math.pow(V,6)),I=this,D="";;){var M=Lt(I,S).g;I=_t(I,M.j(S));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=M,Z(I))return P+D;for(;6>P.length;)P="0"+P;D=P+D}},s.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function Z(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function it(V){return V.h==-1}s.l=function(V){return V=_t(this,V),it(V)?-1:Z(V)?0:1};function J(V){for(var S=V.g.length,I=[],D=0;D<S;D++)I[D]=~V.g[D];return new d(I,~V.h).add(O)}s.abs=function(){return it(this)?J(this):this},s.add=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],D=0,M=0;M<=S;M++){var P=D+(this.i(M)&65535)+(V.i(M)&65535),R=(P>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);D=R>>>16,P&=65535,R&=65535,I[M]=R<<16|P}return new d(I,I[I.length-1]&-2147483648?-1:0)};function _t(V,S){return V.add(J(S))}s.j=function(V){if(Z(this)||Z(V))return C;if(it(this))return it(V)?J(this).j(J(V)):J(J(this).j(V));if(it(V))return J(this.j(J(V)));if(0>this.l(F)&&0>V.l(F))return v(this.m()*V.m());for(var S=this.g.length+V.g.length,I=[],D=0;D<2*S;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<V.g.length;M++){var P=this.i(D)>>>16,R=this.i(D)&65535,Oe=V.i(M)>>>16,le=V.i(M)&65535;I[2*D+2*M]+=R*le,dt(I,2*D+2*M),I[2*D+2*M+1]+=P*le,dt(I,2*D+2*M+1),I[2*D+2*M+1]+=R*Oe,dt(I,2*D+2*M+1),I[2*D+2*M+2]+=P*Oe,dt(I,2*D+2*M+2)}for(D=0;D<S;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=S;D<2*S;D++)I[D]=0;return new d(I,0)};function dt(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function ct(V,S){this.g=V,this.h=S}function Lt(V,S){if(Z(S))throw Error("division by zero");if(Z(V))return new ct(C,C);if(it(V))return S=Lt(J(V),S),new ct(J(S.g),J(S.h));if(it(S))return S=Lt(V,J(S)),new ct(J(S.g),S.h);if(30<V.g.length){if(it(V)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var I=O,D=S;0>=D.l(V);)I=Tt(I),D=Tt(D);var M=jt(I,1),P=jt(D,1);for(D=jt(D,2),I=jt(I,2);!Z(D);){var R=P.add(D);0>=R.l(V)&&(M=M.add(I),P=R),D=jt(D,1),I=jt(I,1)}return S=_t(V,M.j(S)),new ct(M,S)}for(M=C;0<=V.l(S);){for(I=Math.max(1,Math.floor(V.m()/S.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),P=v(I),R=P.j(S);it(R)||0<R.l(V);)I-=D,P=v(I),R=P.j(S);Z(P)&&(P=O),M=M.add(P),V=_t(V,R)}return new ct(M,V)}s.A=function(V){return Lt(this,V).h},s.and=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],D=0;D<S;D++)I[D]=this.i(D)&V.i(D);return new d(I,this.h&V.h)},s.or=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],D=0;D<S;D++)I[D]=this.i(D)|V.i(D);return new d(I,this.h|V.h)},s.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],D=0;D<S;D++)I[D]=this.i(D)^V.i(D);return new d(I,this.h^V.h)};function Tt(V){for(var S=V.g.length+1,I=[],D=0;D<S;D++)I[D]=V.i(D)<<1|V.i(D-1)>>>31;return new d(I,V.h)}function jt(V,S){var I=S>>5;S%=32;for(var D=V.g.length-I,M=[],P=0;P<D;P++)M[P]=0<S?V.i(P+I)>>>S|V.i(P+I+1)<<32-S:V.i(P+I);return new d(M,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,B0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=b,Gr=d}).apply(typeof Y_<"u"?Y_:typeof self<"u"?self:typeof window<"u"?window:{});var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q0,vl,H0,Cc,Qd,G0,F0,Q0;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vc=="object"&&vc];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var p=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in p))break t;p=p[U]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&t(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,U={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function b(u,m,p){return u.call.apply(u.bind,arguments)}function C(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function O(u,m,p){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:C,O.apply(null,arguments)}function F(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Z(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,U,q){for(var tt=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)tt[Vt-2]=arguments[Vt];return m.prototype[U].apply(T,tt)}}function it(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function J(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(y(T)){const U=u.length||0,q=T.length||0;u.length=U+q;for(let tt=0;tt<q;tt++)u[U+tt]=T[tt]}else u.push(T)}}class _t{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(u){return/^[\s\xa0]*$/.test(u)}function ct(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Lt(u){return Lt[" "](u),u}Lt[" "]=function(){};var Tt=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function jt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function V(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)u[p]=T[p];for(let q=0;q<I.length;q++)p=I[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function M(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function P(u){g.setTimeout(()=>{throw u},0)}function R(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Oe{constructor(){this.h=this.g=null}add(m,p){const T=le.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var le=new _t(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ot=!1,zt=new Oe,x=()=>{const u=g.Promise.resolve(void 0);nt=()=>{u.then($)}};var $=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(p){P(p)}var m=le;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function St(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Tt){t:{try{Lt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:mt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&St.aa.h.call(this)}}Z(St,W);var mt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Ft=0;function An(u,m,p,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++Ft,this.da=this.fa=!1}function Xn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Sn(u){this.src=u,this.g={},this.h=0}Sn.prototype.add=function(u,m,p,T,U){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var tt=$n(u,m,T,U);return-1<tt?(m=u[tt],p||(m.fa=!1)):(m=new An(m,this.src,q,!!T,U),m.fa=p,u.push(m)),m};function Ti(u,m){var p=m.type;if(p in u.g){var T=u.g[p],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call(T,U,1),q&&(Xn(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function $n(u,m,p,T){for(var U=0;U<u.length;++U){var q=u[U];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return U}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),ze={};function bi(u,m,p,T,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)bi(u,m[q],p,T,U);return null}return p=mn(p),u&&u[de]?u.K(m,p,v(T)?!!T.capture:!1,U):nn(u,m,p,!1,T,U)}function nn(u,m,p,T,U,q){if(!m)throw Error("Invalid event type");var tt=v(U)?!!U.capture:!!U,Vt=ar(u);if(Vt||(u[Me]=Vt=new Sn(u)),p=Vt.add(m,p,T,tt,q),p.proxy)return p;if(T=co(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)lt||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(ft(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function co(){function u(p){return m.call(u.src,u.listener,p)}const m=ie;return u}function Jr(u,m,p,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Jr(u,m[q],p,T,U);else T=v(T)?!!T.capture:!!T,p=mn(p),u&&u[de]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=$n(q,p,T,U),-1<p&&(Xn(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=ar(u))&&(m=u.g[m.toString()],u=-1,m&&(u=$n(m,p,T,U)),(p=-1<u?m[u]:null)&&te(p))}function te(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[de])Ti(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(ft(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=ar(m))?(Ti(p,u),p.h==0&&(p.src=null,m[Me]=null)):Xn(u)}}}function ft(u){return u in ze?ze[u]:ze[u]="on"+u}function ie(u,m){if(u.da)u=!0;else{m=new St(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&te(u),u=p.call(T,m)}return u}function ar(u){return u=u[Me],u instanceof Sn?u:null}var Wr="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(u){return typeof u=="function"?u:(u[Wr]||(u[Wr]=function(m){return u.handleEvent(m)}),u[Wr])}function re(){et.call(this),this.i=new Sn(this),this.M=this,this.F=null}Z(re,et),re.prototype[de]=!0,re.prototype.removeEventListener=function(u,m,p,T){Jr(this,u,m,p,T)};function Mt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var U=m;m=new W(T,u),D(m,U)}if(U=!0,p)for(var q=p.length-1;0<=q;q--){var tt=m.g=p[q];U=rn(tt,T,!0,m)&&U}if(tt=m.g=u,U=rn(tt,T,!0,m)&&U,U=rn(tt,T,!1,m)&&U,p)for(q=0;q<p.length;q++)tt=m.g=p[q],U=rn(tt,T,!1,m)&&U}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Xn(p[T]);delete u.g[m],u.h--}}this.F=null},re.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},re.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function rn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var tt=m[q];if(tt&&!tt.da&&tt.capture==p){var Vt=tt.listener,Ie=tt.ha||tt.src;tt.fa&&Ti(u.i,tt),U=Vt.call(Ie,T)!==!1&&U}}return U&&!T.defaultPrevented}function Xe(u,m,p){if(typeof u=="function")p&&(u=O(u,p));else if(u&&typeof u.handleEvent=="function")u=O(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function $l(u){u.g=Xe(()=>{u.g=null,u.i&&(u.i=!1,$l(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class _h extends et{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$l(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(u){et.call(this),this.h=u,this.g={}}Z(ts,et);var es=[];function ns(u){jt(u.g,function(m,p){this.g.hasOwnProperty(p)&&te(m)},u),u.g={}}ts.prototype.N=function(){ts.aa.N.call(this),ns(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=g.JSON.stringify,Qs=g.JSON.parse,is=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function ho(){}ho.prototype.h=null;function fo(u){return u.h||(u.h=u.i())}function mo(){}var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Si(){W.call(this,"d")}Z(Si,W);function go(){W.call(this,"c")}Z(go,W);var Zn={},po=null;function or(){return po=po||new re}Zn.La="serverreachability";function Ys(u){W.call(this,Zn.La,u)}Z(Ys,W);function lr(u){const m=or();Mt(m,new Ys(m))}Zn.STAT_EVENT="statevent";function Zl(u,m){W.call(this,Zn.STAT_EVENT,u),this.stat=m}Z(Zl,W);function ae(u){const m=or();Mt(m,new Zl(m,u))}Zn.Ma="timingevent";function Re(u,m){W.call(this,Zn.Ma,u),this.size=m}Z(Re,W);function _e(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function wn(){this.g=!0}wn.prototype.xa=function(){this.g=!1};function yo(u,m,p,T,U,q){u.info(function(){if(u.g)if(q)for(var tt="",Vt=q.split("&"),Ie=0;Ie<Vt.length;Ie++){var kt=Vt[Ie].split("=");if(1<kt.length){var ke=kt[0];kt=kt[1];var xe=ke.split("_");tt=2<=xe.length&&xe[1]=="type"?tt+(ke+"="+kt+"&"):tt+(ke+"=redacted&")}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+tt})}function vh(u,m,p,T,U,q,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+q+" "+tt})}function ur(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+rs(u,p)+(T?" "+T:"")})}function Jl(u,m){u.info(function(){return"TIMEOUT: "+m})}wn.prototype.info=function(){};function rs(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var tt=1;tt<U.length;tt++)U[tt]=""}}}}return zn(p)}catch{return m}}var cr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jn;function Wn(){}Z(Wn,ho),Wn.prototype.g=function(){return new XMLHttpRequest},Wn.prototype.i=function(){return{}},Jn=new Wn;function sn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var _o={},Ks={};function Bn(u,m,p){u.L=1,u.v=us(gn(m)),u.m=p,u.P=!0,Ri(u,null)}function Ri(u,m){u.F=Date.now(),ss(u),u.A=gn(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),So(p.i,"t",T),u.C=0,p=u.j.J,u.h=new me,u.g=mu(u.j,p?m:null,!u.m),0<u.O&&(u.M=new _h(O(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(es[0]=U.toString()),U=es);for(var q=0;q<U.length;q++){var tt=bi(p,U[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),lr(),yo(u.i,u.u,u.A,u.l,u.R,u.m)}sn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Cn(u)==3?m.j():this.Y(u)},sn.prototype.Y=function(u){try{if(u==this.g)t:{const xe=Cn(this.g);var m=this.g.Ba();const Vi=this.g.Z();if(!(3>xe)&&(xe!=3||this.g&&(this.h.h||this.g.oa()||au(this.g)))){this.J||xe!=4||m==7||(m==8||0>=Vi?lr(3):lr(2)),hr(this);var p=this.g.Z();this.X=p;e:if(Wl(this)){var T=au(this.g);u="";var U=T.length,q=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Be(this),ti(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=p==200,vh(this.i,this.u,this.A,this.l,this.R,xe,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,Ie=this.g;if((Vt=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Vt)){var kt=Vt;break e}}kt=null}if(p=kt)ur(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,as(this,p);else{this.o=!1,this.s=3,ae(12),Be(this),ti(this);break t}}if(this.P){p=!0;let qe;for(;!this.J&&this.C<tt.length;)if(qe=tu(this,tt),qe==Ks){xe==4&&(this.s=4,ae(14),p=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(qe==_o){this.s=4,ae(15),ur(this.i,this.l,tt,"[Invalid Chunk]"),p=!1;break}else ur(this.i,this.l,qe,null),as(this,qe);if(Wl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||tt.length!=0||this.h.h||(this.s=1,ae(16),p=!1),this.o=this.o&&p,!p)ur(this.i,this.l,tt,"[Invalid Chunked Response]"),Be(this),ti(this);else if(0<tt.length&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.ba&&!ke.M&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),ys(ke),ke.M=!0,ae(11))}}else ur(this.i,this.l,tt,null),as(this,tt);xe==4&&Be(this),this.o&&!this.J&&(xe==4?hu(this.j,this):(this.o=!1,ss(this)))}else Sh(this.g),p==400&&0<tt.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),Be(this),ti(this)}}}catch{}finally{}};function Wl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function tu(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Ks:(p=Number(m.substring(p,T)),isNaN(p)?_o:(T+=1,T+p>m.length?Ks:(m=m.slice(T,T+p),u.C=T+p,m)))}sn.prototype.cancel=function(){this.J=!0,Be(this)};function ss(u){u.S=Date.now()+u.I,eu(u,u.I)}function eu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=_e(O(u.ba,u),m)}function hr(u){u.B&&(g.clearTimeout(u.B),u.B=null)}sn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Jl(this.i,this.A),this.L!=2&&(lr(),ae(17)),Be(this),this.s=2,ti(this)):eu(this,this.S-u)};function ti(u){u.j.G==0||u.J||hu(u.j,u)}function Be(u){hr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ns(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function as(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||vo(p.h,u))){if(!u.K&&vo(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)aa(p),ra(p);else break t;Co(p),ae(18)}}else p.za=U[1],0<p.za-p.T&&37500>U[2]&&p.F&&p.v==0&&!p.C&&(p.C=_e(O(p.Za,p),6e3));if(1>=$s(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Mi(p,11)}else if((u.K||p.g==u)&&aa(p),!dt(m))for(U=p.Da.g.parse(m),m=0;m<U.length;m++){let kt=U[m];if(p.T=kt[0],kt=kt[1],p.G==2)if(kt[0]=="c"){p.K=kt[1],p.ia=kt[2];const ke=kt[3];ke!=null&&(p.la=ke,p.j.info("VER="+p.la));const xe=kt[4];xe!=null&&(p.Aa=xe,p.j.info("SVER="+p.Aa));const Vi=kt[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(T=1.5*Vi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const qe=u.g;if(qe){const oi=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var q=T.h;q.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Zs(q,q.h),q.h=null))}if(T.D){const Do=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(T.ya=Do,Xt(T.I,T.D,Do))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var tt=u;if(T.qa=du(T,T.J?T.ia:null,T.W),tt.K){an(T.h,tt);var Vt=tt,Ie=T.L;Ie&&(Vt.I=Ie),Vt.B&&(hr(Vt),ss(Vt)),T.g=tt}else uu(T);0<p.i.length&&sa(p)}else kt[0]!="stop"&&kt[0]!="close"||Mi(p,7);else p.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Mi(p,7):Io(p):kt[0]!="noop"&&p.l&&p.l.ta(kt),p.v=0)}}lr(4)}catch{}}var nu=class{constructor(u,m){this.g=u,this.map=m}};function Ii(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function $s(u){return u.h?1:u.g?u.g.size:0}function vo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Zs(u,m){u.g?u.g.add(m):u.h=m}function an(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ii.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Eo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return it(u.i)}function Eh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Js(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function To(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Js(u),T=Eh(u),U=T.length,q=0;q<U;q++)m.call(void 0,T[q],p&&p[q],u)}var os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Th(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),U=null;if(0<=T){var q=u[p].substring(0,T);U=u[p].substring(T+1)}else q=u[p];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ve(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ve){this.h=u.h,ls(this,u.j),this.o=u.o,this.g=u.g,fr(this,u.s),this.l=u.l;var m=u.i,p=new Ci;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),xi(this,p),this.m=u.m}else u&&(m=String(u).match(os))?(this.h=!1,ls(this,m[1]||"",!0),this.o=Rn(m[2]||""),this.g=Rn(m[3]||"",!0),fr(this,m[4]),this.l=Rn(m[5]||"",!0),xi(this,m[6]||"",!0),this.m=Rn(m[7]||"")):(this.h=!1,this.i=new Ci(null,this.h))}ve.prototype.toString=function(){var u=[],m=this.j;m&&u.push(cs(m,bo,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(cs(m,bo,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(cs(p,p.charAt(0)=="/"?bh:Ao,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",cs(p,Ws)),u.join("")};function gn(u){return new ve(u)}function ls(u,m,p){u.j=p?Rn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function fr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function xi(u,m,p){m instanceof Ci?(u.i=m,ru(u.i,u.h)):(p||(m=cs(m,Ah)),u.i=new Ci(m,u.h))}function Xt(u,m,p){u.i.set(m,p)}function us(u){return Xt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Rn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function cs(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,iu),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function iu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var bo=/[#\/\?@]/g,Ao=/[#\?:]/g,bh=/[#\?]/g,Ah=/[#\?@]/g,Ws=/#/g;function Ci(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function In(u){u.g||(u.g=new Map,u.h=0,u.i&&Th(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=Ci.prototype,s.add=function(u,m){In(this),this.i=null,u=ei(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Ni(u,m){In(u),m=ei(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Di(u,m){return In(u),m=ei(u,m),u.g.has(m)}s.forEach=function(u,m){In(this),this.g.forEach(function(p,T){p.forEach(function(U){u.call(m,U,T,this)},this)},this)},s.na=function(){In(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const U=u[T];for(let q=0;q<U.length;q++)p.push(m[T])}return p},s.V=function(u){In(this);let m=[];if(typeof u=="string")Di(this,u)&&(m=m.concat(this.g.get(ei(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},s.set=function(u,m){return In(this),this.i=null,u=ei(this,u),Di(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function So(u,m,p){Ni(u,m),0<p.length&&(u.i=null,u.g.set(ei(u,m),it(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var U=q;tt[T]!==""&&(U+="="+encodeURIComponent(String(tt[T]))),u.push(U)}}return this.i=u.join("&")};function ei(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ru(u,m){m&&!u.j&&(In(u),u.i=null,u.g.forEach(function(p,T){var U=T.toLowerCase();T!=U&&(Ni(this,T),So(this,U,p))},u)),u.j=m}function hs(u,m){const p=new wn;if(g.Image){const T=new Image;T.onload=F(xn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=F(xn,p,"TestLoadImage: error",!1,m,T),T.onabort=F(xn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=F(xn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function qn(u,m){const p=new wn,T=new AbortController,U=setTimeout(()=>{T.abort(),xn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?xn(p,"TestPingServer: ok",!0,m):xn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),xn(p,"TestPingServer: error",!1,m)})}function xn(u,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function fs(){this.g=new is}function ni(u,m,p){const T=p||"";try{To(u,function(U,q){let tt=U;v(U)&&(tt=zn(U)),m.push(T+q+"="+encodeURIComponent(tt))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function dr(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(dr,ho),dr.prototype.g=function(){return new Oi(this.l,this.j)},dr.prototype.i=function(u){return function(){return u}}({});function Oi(u,m){re.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(Oi,re),s=Oi.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ri(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function wo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ii(this):ri(this),this.readyState==3&&wo(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,ii(this))},s.Qa=function(u){this.g&&(this.response=u,ii(this))},s.ga=function(){this.g&&ii(this)};function ii(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ri(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function ri(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ro(u){let m="";return jt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ve(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Ro(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Xt(u,m,p))}function Ht(u){re.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Ht,re);var ta=/^https?$/i,ds=["POST","PUT"];s=Ht.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jn.g(),this.v=this.o?fo(this.o):fo(Jn),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){su(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ds,m,void 0))||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of p)this.g.setRequestHeader(q,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ms(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){su(this,q)}};function su(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ea(u),si(u)}function ea(u){u.A||(u.A=!0,Mt(u,"complete"),Mt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Mt(this,"complete"),Mt(this,"abort"),si(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Ht.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?na(this):this.bb())},s.bb=function(){na(this)};function na(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Cn(u)!=4||u.Z()!=2)){if(u.u&&Cn(u)==4)Xe(u.Ea,0,u);else if(Mt(u,"readystatechange"),Cn(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=tt===0){var U=String(u.D).match(os)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!ta.test(U?U.toLowerCase():"")}p=T}if(p)Mt(u,"complete"),Mt(u,"success");else{u.m=6;try{var q=2<Cn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",ea(u)}}finally{si(u)}}}}function si(u,m){if(u.g){ms(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Mt(u,"ready");try{p.onreadystatechange=T}catch{}}}function ms(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function Cn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Qs(m)}};function au(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Sh(u){const m={};u=(u.g&&2<=Cn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(dt(u[T]))continue;var p=M(u[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[U]||[];m[U]=q,q.push(p)}V(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function ia(u){this.Aa=0,this.i=[],this.j=new wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gs("baseRetryDelayMs",5e3,u),this.cb=gs("retryDelaySeedMs",1e4,u),this.Wa=gs("forwardChannelMaxRetries",2,u),this.wa=gs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ii(u&&u.concurrentRequestLimit),this.Da=new fs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ia.prototype,s.la=8,s.G=1,s.connect=function(u,m,p,T){ae(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=du(this,null,this.W),sa(this)};function Io(u){if(ou(u),u.G==3){var m=u.U++,p=gn(u.I);if(Xt(p,"SID",u.K),Xt(p,"RID",m),Xt(p,"TYPE","terminate"),ps(u,p),m=new sn(u,u.j,m),m.L=2,m.v=us(gn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=mu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ss(m)}fu(u)}function ra(u){u.g&&(ys(u),u.g.cancel(),u.g=null)}function ou(u){ra(u),u.u&&(g.clearTimeout(u.u),u.u=null),aa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function sa(u){if(!Xs(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||x(),ot||(nt(),ot=!0),zt.add(m,u),u.B=0}}function wh(u,m){return $s(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=_e(O(u.Ga,u,m),No(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new sn(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),D(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=lu(this,U,m),p=gn(this.I),Xt(p,"RID",u),Xt(p,"CVER",22),this.D&&Xt(p,"X-HTTP-Session-Id",this.D),ps(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Ro(q)))+"&"+m:this.m&&Ve(p,this.m,q)),Zs(this.h,U),this.Ua&&Xt(p,"TYPE","init"),this.P?(Xt(p,"$req",m),Xt(p,"SID","null"),U.T=!0,Bn(U,p,null)):Bn(U,p,m),this.G=2}}else this.G==3&&(u?xo(this,u):this.i.length==0||Xs(this.h)||xo(this))};function xo(u,m){var p;m?p=m.l:p=u.U++;const T=gn(u.I);Xt(T,"SID",u.K),Xt(T,"RID",p),Xt(T,"AID",u.T),ps(u,T),u.m&&u.o&&Ve(T,u.m,u.o),p=new sn(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=lu(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Zs(u.h,p),Bn(p,T,m)}function ps(u,m){u.H&&jt(u.H,function(p,T){Xt(m,T,p)}),u.l&&To({},function(p,T){Xt(m,T,p)})}function lu(u,m,p){p=Math.min(u.i.length,p);var T=u.l?O(u.l.Na,u.l,u):null;t:{var U=u.i;let q=-1;for(;;){const tt=["count="+p];q==-1?0<p?(q=U[0].g,tt.push("ofs="+q)):q=0:tt.push("ofs="+q);let Vt=!0;for(let Ie=0;Ie<p;Ie++){let kt=U[Ie].g;const ke=U[Ie].map;if(kt-=q,0>kt)q=Math.max(0,U[Ie].g-100),Vt=!1;else try{ni(ke,tt,"req"+kt+"_")}catch{T&&T(ke)}}if(Vt){T=tt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function uu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||x(),ot||(nt(),ot=!0),zt.add(m,u),u.v=0}}function Co(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=_e(O(u.Fa,u),No(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=_e(O(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),ra(this),cu(this))};function ys(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function cu(u){u.g=new sn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=gn(u.qa);Xt(m,"RID","rpc"),Xt(m,"SID",u.K),Xt(m,"AID",u.T),Xt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Xt(m,"TO",u.ja),Xt(m,"TYPE","xmlhttp"),ps(u,m),u.m&&u.o&&Ve(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=us(gn(m)),p.m=null,p.P=!0,Ri(p,u)}s.Za=function(){this.C!=null&&(this.C=null,ra(this),Co(this),ae(19))};function aa(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function hu(u,m){var p=null;if(u.g==m){aa(u),ys(u),u.g=null;var T=2}else if(vo(u.h,m))p=m.D,an(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=or(),Mt(T,new Re(T,p)),sa(u)}else uu(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&wh(u,m)||T==2&&Co(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),U){case 1:Mi(u,5);break;case 4:Mi(u,10);break;case 3:Mi(u,6);break;default:Mi(u,2)}}}function No(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function Mi(u,m){if(u.j.info("Error code "+m),m==2){var p=O(u.fb,u),T=u.Xa;const U=!T;T=new ve(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ls(T,"https"),us(T),U?hs(T.toString(),p):qn(T.toString(),p)}else ae(2);u.G=0,u.l&&u.l.sa(m),fu(u),ou(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function fu(u){if(u.G=0,u.ka=[],u.l){const m=Eo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function du(u,m,p){var T=p instanceof ve?gn(p):new ve(p);if(T.g!="")m&&(T.g=m+"."+T.g),fr(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new ve(null);T&&ls(q,T),m&&(q.g=m),U&&fr(q,U),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&Xt(T,p,m),Xt(T,"VER",u.la),ps(u,T),T}function mu(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ht(new dr({eb:p})):new Ht(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}s=gu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function oa(){}oa.prototype.g=function(u,m){return new on(u,m)};function on(u,m){re.call(this),this.g=new ia(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!dt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ai(this)}Z(on,re),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Io(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=zn(u),u=p);m.i.push(new nu(m.Ya++,u)),m.G==3&&sa(m)},on.prototype.N=function(){this.g.l=null,delete this.j,Io(this.g),delete this.g,on.aa.N.call(this)};function pu(u){Si.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(pu,Si);function yu(){go.call(this),this.status=1}Z(yu,go);function ai(u){this.g=u}Z(ai,gu),ai.prototype.ua=function(){Mt(this.g,"a")},ai.prototype.ta=function(u){Mt(this.g,new pu(u))},ai.prototype.sa=function(u){Mt(this.g,new yu)},ai.prototype.ra=function(){Mt(this.g,"b")},oa.prototype.createWebChannel=oa.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,Q0=function(){return new oa},F0=function(){return or()},G0=Zn,Qd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,Cc=cr,wi.COMPLETE="complete",H0=wi,mo.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",re.prototype.listen=re.prototype.K,vl=mo,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,q0=Ht}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});const K_="@firebase/firestore",X_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new cm("@firebase/firestore");function Ua(){return zs.logLevel}function rt(s,...t){if(zs.logLevel<=Nt.DEBUG){const i=t.map(Tm);zs.debug(`Firestore (${so}): ${s}`,...i)}}function ir(s,...t){if(zs.logLevel<=Nt.ERROR){const i=t.map(Tm);zs.error(`Firestore (${so}): ${s}`,...i)}}function $a(s,...t){if(zs.logLevel<=Nt.WARN){const i=t.map(Tm);zs.warn(`Firestore (${so}): ${s}`,...i)}}function Tm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,Y0(s,r,i)}function Y0(s,t,i){let r=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ir(r),new Error(r)}function Gt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||Y0(t,l,r)}function At(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends sr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Lw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(We.UNAUTHENTICATED))}shutdown(){}}class jw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class zw{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let h=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ks,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const y=h;t.enqueueRetryable(async()=>{await y.promise,await l(this.currentUser)})},g=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ks)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new K0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class Bw{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qw{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new Bw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const r=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>r(h))};const l=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new $_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=Gw(40);for(let h=0;h<l.length;++h)r.length<20&&l[h]<i&&(r+=t.charAt(l[h]%62))}return r}}function Dt(s,t){return s<t?-1:s>t?1:0}function Yd(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),h=t.charAt(r);if(l!==h)return Nd(l)===Nd(h)?Dt(l,h):Nd(l)?1:-1}return Dt(s.length,t.length)}const Fw=55296,Qw=57343;function Nd(s){const t=s.charCodeAt(0);return t>=Fw&&t<=Qw}function Za(s,t,i){return s.length===t.length&&s.every((r,l)=>i(r,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="__name__";class di{constructor(t,i,r){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&yt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return di.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof di?t.forEach(r=>{i.push(r)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const h=di.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return Dt(t.length,i.length)}static compareSegments(t,i){const r=di.isNumericId(t),l=di.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?di.extractNumericId(t).compare(di.extractNumericId(i)):Yd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gr.fromString(t.substring(4,t.length-2))}}class ne extends di{construct(t,i,r){return new ne(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new st(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(l=>l.length>0))}return new ne(i)}static emptyPath(){return new ne([])}}const Yw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends di{construct(t,i,r){return new Ye(t,i,r)}static isValidIdentifier(t){return Yw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Z_}static keyField(){return new Ye([Z_])}static fromServerFormat(t){const i=[];let r="",l=0;const h=()=>{if(r.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new st(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new st(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(h(),l++)}if(h(),d)throw new st(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(i)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(ne.fromString(t))}static fromName(t){return new ht(ne.fromString(t).popFirst(5))}static empty(){return new ht(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new ne(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(s,t,i){if(!i)throw new st(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function Kw(s,t,i,r){if(t===!0&&r===!0)throw new st(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function J_(s){if(!ht.isDocumentKey(s))throw new st(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function W_(s){if(ht.isDocumentKey(s))throw new st(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function $0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function sh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function Qa(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new st(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=sh(s);throw new st(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(s,t){const i={typeString:s};return t&&(i.value=t),i}function Gl(s,t){if(!$0(s))throw new st(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,h="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new st(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=-62135596800,ev=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*ev);return new se(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<tv)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ev}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gl(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-tv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Se("string",se._jsonSchemaVersion),seconds:Se("number"),nanoseconds:Se("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new se(0,0))}static max(){return new bt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=-1;function Xw(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(r===1e9?new se(i+1,0):new se(i,r));return new Qr(l,ht.empty(),t)}function $w(s){return new Qr(s.readTime,s.key,Dl)}class Qr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Qr(bt.min(),ht.empty(),Dl)}static max(){return new Qr(bt.max(),ht.empty(),Dl)}}function Zw(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(s.documentKey,t.documentKey),i!==0?i:Dt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ww{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==Jw)throw s;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X((r,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(r,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):X.reject(i)}static resolve(t){return new X((i,r)=>{i(t)})}static reject(t){return new X((i,r)=>{r(t)})}static waitFor(t){return new X((i,r)=>{let l=0,h=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++h,d&&h===l&&i()},y=>r(y))}),d=!0,h===l&&i()})}static or(t){let i=X.resolve(!1);for(const r of t)i=i.next(l=>l?X.resolve(l):r());return i}static forEach(t,i){const r=[];return t.forEach((l,h)=>{r.push(i.call(this,l,h))}),this.waitFor(r)}static mapArray(t,i){return new X((r,l)=>{const h=t.length,d=new Array(h);let g=0;for(let y=0;y<h;y++){const v=y;i(t[v]).next(b=>{d[v]=b,++g,g===h&&r(d)},b=>l(b))}})}static doWhile(t,i){return new X((r,l)=>{const h=()=>{t()===!0?i().next(()=>{h()},l):r()};h()})}}function t2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function oo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ah.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=-1;function oh(s){return s==null}function Hc(s){return s===0&&1/s==-1/0}function e2(s){return typeof s=="number"&&Number.isInteger(s)&&!Hc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="";function n2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=nv(t)),t=i2(s.get(i),t);return nv(t)}function i2(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const h=s.charAt(l);switch(h){case"\0":i+="";break;case Z0:i+="";break;default:i+=h}}return i}function nv(s){return s+Z0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function qs(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function J0(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,i){this.comparator=t,this.root=i||Qe.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,r)=>(t(i,r),!1))}toString(){const t=[];return this.inorderTraversal((i,r)=>(t.push(`${i}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ec(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ec(this.root,t,this.comparator,!0)}}class Ec{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?r(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,i,r,l,h){this.key=t,this.value=i,this.color=r??Qe.RED,this.left=l??Qe.EMPTY,this.right=h??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,h){return new Qe(t??this.key,i??this.value,r??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const h=r(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,r),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Qe.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,r,l,h){return this}insert(t,i,r){return new Qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,r)=>(t(i),!1))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new rv(this.data.getIterator())}getIteratorFrom(t){return new rv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(r=>{i=i.add(r)}),i}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=r.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new De(this.comparator);return i.data=t,i}}class rv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new Yn([])}unionWith(t){let i=new De(Ye.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Yn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new W0("Invalid base64 string: "+h):h}}(t);return new Ke(i)}static fromUint8Array(t){const i=function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h}(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const r2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(s){if(Gt(!!s,39018),typeof s=="string"){let t=0;const i=r2.exec(s);if(Gt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ye(s.seconds),nanos:ye(s.nanos)}}function ye(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Kr(s){return typeof s=="string"?Ke.fromBase64String(s):Ke.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="server_timestamp",eE="__type__",nE="__previous_value__",iE="__local_write_time__";function Sm(s){return(s?.mapValue?.fields||{})[eE]?.stringValue===tE}function lh(s){const t=s.mapValue.fields[nE];return Sm(t)?lh(t):t}function Ol(s){const t=Yr(s.mapValue.fields[iE].timestampValue);return new se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t,i,r,l,h,d,g,y,v,b){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=b}}const Gc="(default)";class Ml{constructor(t,i){this.projectId=t,this.database=i||Gc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Gc}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="__type__",a2="__max__",Tc={mapValue:{}},sE="__vector__",Fc="value";function Xr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Sm(s)?4:l2(s)?9007199254740991:o2(s)?10:11:yt(28295,{value:s})}function Ei(s,t){if(s===t)return!0;const i=Xr(s);if(i!==Xr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ol(s).isEqual(Ol(t));case 3:return function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=Yr(l.timestampValue),g=Yr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(l,h){return Kr(l.bytesValue).isEqual(Kr(h.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(l,h){return ye(l.geoPointValue.latitude)===ye(h.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(h.geoPointValue.longitude)}(s,t);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return ye(l.integerValue)===ye(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=ye(l.doubleValue),g=ye(h.doubleValue);return d===g?Hc(d)===Hc(g):isNaN(d)&&isNaN(g)}return!1}(s,t);case 9:return Za(s.arrayValue.values||[],t.arrayValue.values||[],Ei);case 10:case 11:return function(l,h){const d=l.mapValue.fields||{},g=h.mapValue.fields||{};if(iv(d)!==iv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Ei(d[y],g[y])))return!1;return!0}(s,t);default:return yt(52216,{left:s})}}function Vl(s,t){return(s.values||[]).find(i=>Ei(i,t))!==void 0}function Ja(s,t){if(s===t)return 0;const i=Xr(s),r=Xr(t);if(i!==r)return Dt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(s.booleanValue,t.booleanValue);case 2:return function(h,d){const g=ye(h.integerValue||h.doubleValue),y=ye(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(s,t);case 3:return sv(s.timestampValue,t.timestampValue);case 4:return sv(Ol(s),Ol(t));case 5:return Yd(s.stringValue,t.stringValue);case 6:return function(h,d){const g=Kr(h),y=Kr(d);return g.compareTo(y)}(s.bytesValue,t.bytesValue);case 7:return function(h,d){const g=h.split("/"),y=d.split("/");for(let v=0;v<g.length&&v<y.length;v++){const b=Dt(g[v],y[v]);if(b!==0)return b}return Dt(g.length,y.length)}(s.referenceValue,t.referenceValue);case 8:return function(h,d){const g=Dt(ye(h.latitude),ye(d.latitude));return g!==0?g:Dt(ye(h.longitude),ye(d.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return av(s.arrayValue,t.arrayValue);case 10:return function(h,d){const g=h.fields||{},y=d.fields||{},v=g[Fc]?.arrayValue,b=y[Fc]?.arrayValue,C=Dt(v?.values?.length||0,b?.values?.length||0);return C!==0?C:av(v,b)}(s.mapValue,t.mapValue);case 11:return function(h,d){if(h===Tc.mapValue&&d===Tc.mapValue)return 0;if(h===Tc.mapValue)return 1;if(d===Tc.mapValue)return-1;const g=h.fields||{},y=Object.keys(g),v=d.fields||{},b=Object.keys(v);y.sort(),b.sort();for(let C=0;C<y.length&&C<b.length;++C){const O=Yd(y[C],b[C]);if(O!==0)return O;const F=Ja(g[y[C]],v[b[C]]);if(F!==0)return F}return Dt(y.length,b.length)}(s.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function sv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Dt(s,t);const i=Yr(s),r=Yr(t),l=Dt(i.seconds,r.seconds);return l!==0?l:Dt(i.nanos,r.nanos)}function av(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const h=Ja(i[l],r[l]);if(h)return h}return Dt(i.length,r.length)}function Wa(s){return Kd(s)}function Kd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const r=Yr(i);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Kr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ht.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let r="[",l=!0;for(const h of i.values||[])l?l=!1:r+=",",r+=Kd(h);return r+"]"}(s.arrayValue):"mapValue"in s?function(i){const r=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of r)h?h=!1:l+=",",l+=`${d}:${Kd(i.fields[d])}`;return l+"}"}(s.mapValue):yt(61005,{value:s})}function Nc(s){switch(Xr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=lh(s);return t?16+Nc(t):16;case 5:return 2*s.stringValue.length;case 6:return Kr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((l,h)=>l+Nc(h),0)}(s.arrayValue);case 10:case 11:return function(r){let l=0;return qs(r.fields,(h,d)=>{l+=h.length+Nc(d)}),l}(s.mapValue);default:throw yt(13486,{value:s})}}function ov(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Xd(s){return!!s&&"integerValue"in s}function wm(s){return!!s&&"arrayValue"in s}function lv(s){return!!s&&"nullValue"in s}function uv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Dc(s){return!!s&&"mapValue"in s}function o2(s){return(s?.mapValue?.fields||{})[rE]?.stringValue===sE}function wl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return qs(s.mapValue.fields,(i,r)=>t.mapValue.fields[i]=wl(r)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=wl(s.arrayValue.values[i]);return t}return{...s}}function l2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===a2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.value=t}static empty(){return new Ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Dc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=wl(i)}setAll(t){let i=Ye.emptyPath(),r={},l=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=wl(d):l.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,r,l)}delete(t){const i=this.field(t.popLast());Dc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ei(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Dc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){qs(i,(l,h)=>t[l]=h);for(const l of r)delete t[l]}clone(){return new Ln(wl(this.value))}}function aE(s){const t=[];return qs(s.fields,(i,r)=>{const l=new Ye([i]);if(Dc(r)){const h=aE(r.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)}),new Yn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t,i,r,l,h,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(t){return new tn(t,0,bt.min(),bt.min(),bt.min(),Ln.empty(),0)}static newFoundDocument(t,i,r,l){return new tn(t,1,i,bt.min(),r,l,0)}static newNoDocument(t,i){return new tn(t,2,i,bt.min(),bt.min(),Ln.empty(),0)}static newUnknownDocument(t,i){return new tn(t,3,i,bt.min(),bt.min(),Ln.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,i){this.position=t,this.inclusive=i}}function cv(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const h=t[l],d=s.position[l];if(h.field.isKeyField()?r=ht.comparator(ht.fromName(d.referenceValue),i.key):r=Ja(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function hv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ei(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,i="asc"){this.field=t,this.dir=i}}function u2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{}class Ae extends oE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new h2(t,i,r):i==="array-contains"?new m2(t,r):i==="in"?new g2(t,r):i==="not-in"?new p2(t,r):i==="array-contains-any"?new y2(t,r):new Ae(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new f2(t,r):new d2(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&Xr(this.value)===Xr(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends oE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Kn(t,i)}matches(t){return lE(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lE(s){return s.op==="and"}function uE(s){return c2(s)&&lE(s)}function c2(s){for(const t of s.filters)if(t instanceof Kn)return!1;return!0}function $d(s){if(s instanceof Ae)return s.field.canonicalString()+s.op.toString()+Wa(s.value);if(uE(s))return s.filters.map(t=>$d(t)).join(",");{const t=s.filters.map(i=>$d(i)).join(",");return`${s.op}(${t})`}}function cE(s,t){return s instanceof Ae?function(r,l){return l instanceof Ae&&r.op===l.op&&r.field.isEqual(l.field)&&Ei(r.value,l.value)}(s,t):s instanceof Kn?function(r,l){return l instanceof Kn&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce((h,d,g)=>h&&cE(d,l.filters[g]),!0):!1}(s,t):void yt(19439)}function hE(s){return s instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`}(s):s instanceof Kn?function(i){return i.op.toString()+" {"+i.getFilters().map(hE).join(" ,")+"}"}(s):"Filter"}class h2 extends Ae{constructor(t,i,r){super(t,i,r),this.key=ht.fromName(r.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class f2 extends Ae{constructor(t,i){super(t,"in",i),this.keys=fE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class d2 extends Ae{constructor(t,i){super(t,"not-in",i),this.keys=fE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function fE(s,t){return(t.arrayValue?.values||[]).map(i=>ht.fromName(i.referenceValue))}class m2 extends Ae{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return wm(i)&&Vl(i.arrayValue,this.value)}}class g2 extends Ae{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class p2 extends Ae{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class y2 extends Ae{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>Vl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t,i=null,r=[],l=[],h=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function fv(s,t=null,i=[],r=[],l=null,h=null,d=null){return new _2(s,t,i,r,l,h,d)}function Rm(s){const t=At(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(r=>$d(r)).join(","),i+="|ob:",i+=t.orderBy.map(r=>function(h){return h.field.canonicalString()+h.dir}(r)).join(","),oh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Wa(r)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Wa(r)).join(",")),t.Te=i}return t.Te}function Im(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!u2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!cE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!hv(s.startAt,t.startAt)&&hv(s.endAt,t.endAt)}function Zd(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t,i=null,r=[],l=[],h=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function v2(s,t,i,r,l,h,d,g){return new Fl(s,t,i,r,l,h,d,g)}function xm(s){return new Fl(s)}function dv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function dE(s){return s.collectionGroup!==null}function Rl(s){const t=At(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new De(Ye.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Yc(h,r))}),i.has(Ye.keyField().canonicalString())||t.Ie.push(new Yc(Ye.keyField(),r))}return t.Ie}function pi(s){const t=At(s);return t.Ee||(t.Ee=E2(t,Rl(s))),t.Ee}function E2(s,t){if(s.limitType==="F")return fv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(l=>{const h=l.dir==="desc"?"asc":"desc";return new Yc(l.field,h)});const i=s.endAt?new Qc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Qc(s.startAt.position,s.startAt.inclusive):null;return fv(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function Jd(s,t){const i=s.filters.concat([t]);return new Fl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Wd(s,t,i){return new Fl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function uh(s,t){return Im(pi(s),pi(t))&&s.limitType===t.limitType}function mE(s){return`${Rm(pi(s))}|lt:${s.limitType}`}function La(s){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(l=>hE(l)).join(", ")}]`),oh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(l=>Wa(l)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(l=>Wa(l)).join(",")),`Target(${r})`}(pi(s))}; limitType=${s.limitType})`}function ch(s,t){return t.isFoundDocument()&&function(r,l){const h=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ht.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)}(s,t)&&function(r,l){for(const h of Rl(r))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0}(s,t)&&function(r,l){for(const h of r.filters)if(!h.matches(l))return!1;return!0}(s,t)&&function(r,l){return!(r.startAt&&!function(d,g,y){const v=cv(d,g,y);return d.inclusive?v<=0:v<0}(r.startAt,Rl(r),l)||r.endAt&&!function(d,g,y){const v=cv(d,g,y);return d.inclusive?v>=0:v>0}(r.endAt,Rl(r),l))}(s,t)}function T2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function gE(s){return(t,i)=>{let r=!1;for(const l of Rl(s)){const h=b2(l,t,i);if(h!==0)return h;r=r||l.field.isKeyField()}return 0}}function b2(s,t,i){const r=s.field.isKeyField()?ht.comparator(t.key,i.key):function(h,d,g){const y=d.data.field(h),v=g.data.field(h);return y!==null&&v!==null?Ja(y,v):yt(42886)}(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return yt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,h]of r)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){qs(this.inner,(i,r)=>{for(const[l,h]of r)t(l,h)})}isEmpty(){return J0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=new ce(ht.comparator);function rr(){return A2}const pE=new ce(ht.comparator);function El(...s){let t=pE;for(const i of s)t=t.insert(i.key,i);return t}function yE(s){let t=pE;return s.forEach((i,r)=>t=t.insert(i,r.overlayedDocument)),t}function Vs(){return Il()}function _E(){return Il()}function Il(){return new Hs(s=>s.toString(),(s,t)=>s.isEqual(t))}const S2=new ce(ht.comparator),w2=new De(ht.comparator);function Ot(...s){let t=w2;for(const i of s)t=t.add(i);return t}const R2=new De(Dt);function I2(){return R2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(t)?"-0":t}}function vE(s){return{integerValue:""+s}}function x2(s,t){return e2(t)?vE(t):Cm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function C2(s,t,i){return s instanceof Kc?function(l,h){const d={fields:{[eE]:{stringValue:tE},[iE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Sm(h)&&(h=lh(h)),h&&(d.fields[nE]=h),{mapValue:d}}(i,t):s instanceof kl?TE(s,t):s instanceof Pl?bE(s,t):function(l,h){const d=EE(l,h),g=mv(d)+mv(l.Ae);return Xd(d)&&Xd(l.Ae)?vE(g):Cm(l.serializer,g)}(s,t)}function N2(s,t,i){return s instanceof kl?TE(s,t):s instanceof Pl?bE(s,t):i}function EE(s,t){return s instanceof Xc?function(r){return Xd(r)||function(h){return!!h&&"doubleValue"in h}(r)}(t)?t:{integerValue:0}:null}class Kc extends hh{}class kl extends hh{constructor(t){super(),this.elements=t}}function TE(s,t){const i=AE(t);for(const r of s.elements)i.some(l=>Ei(l,r))||i.push(r);return{arrayValue:{values:i}}}class Pl extends hh{constructor(t){super(),this.elements=t}}function bE(s,t){let i=AE(t);for(const r of s.elements)i=i.filter(l=>!Ei(l,r));return{arrayValue:{values:i}}}class Xc extends hh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function mv(s){return ye(s.integerValue||s.doubleValue)}function AE(s){return wm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function D2(s,t){return s.field.isEqual(t.field)&&function(r,l){return r instanceof kl&&l instanceof kl||r instanceof Pl&&l instanceof Pl?Za(r.elements,l.elements,Ei):r instanceof Xc&&l instanceof Xc?Ei(r.Ae,l.Ae):r instanceof Kc&&l instanceof Kc}(s.transform,t.transform)}class O2{constructor(t,i){this.version=t,this.transformResults=i}}class Ji{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ji}static exists(t){return new Ji(void 0,t)}static updateTime(t){return new Ji(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class fh{}function SE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new RE(s.key,Ji.none()):new Ql(s.key,s.data,Ji.none());{const i=s.data,r=Ln.empty();let l=new De(Ye.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),l=l.add(h)}return new Gs(s.key,r,new Yn(l.toArray()),Ji.none())}}function M2(s,t,i){s instanceof Ql?function(l,h,d){const g=l.value.clone(),y=pv(l.fieldTransforms,h,d.transformResults);g.setAll(y),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,t,i):s instanceof Gs?function(l,h,d){if(!Oc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const g=pv(l.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(wE(l)),y.setAll(g),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(s,t,i):function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function xl(s,t,i,r){return s instanceof Ql?function(h,d,g,y){if(!Oc(h.precondition,d))return g;const v=h.value.clone(),b=yv(h.fieldTransforms,y,d);return v.setAll(b),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,t,i,r):s instanceof Gs?function(h,d,g,y){if(!Oc(h.precondition,d))return g;const v=yv(h.fieldTransforms,y,d),b=d.data;return b.setAll(wE(h)),b.setAll(v),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(C=>C.field))}(s,t,i,r):function(h,d,g){return Oc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,t,i)}function V2(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),h=EE(r.transform,l||null);h!=null&&(i===null&&(i=Ln.empty()),i.set(r.field,h))}return i||null}function gv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Za(r,l,(h,d)=>D2(h,d))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Ql extends fh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Gs extends fh{constructor(t,i,r,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function wE(s){const t=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}}),t}function pv(s,t,i){const r=new Map;Gt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const h=s[l],d=h.transform,g=t.data.field(h.field);r.set(h.field,N2(d,g,i[l]))}return r}function yv(s,t,i){const r=new Map;for(const l of s){const h=l.transform,d=i.data.field(l.field);r.set(l.field,C2(h,d,t))}return r}class RE extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k2 extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&M2(h,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=xl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=xl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=_E();return this.mutations.forEach(l=>{const h=t.get(l.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(l.key)?null:g;const y=SE(d,g);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(bt.min())}),r}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Ot())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,(i,r)=>gv(i,r))&&Za(this.baseMutations,t.baseMutations,(i,r)=>gv(i,r))}}class Nm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Gt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=function(){return S2}();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,r[d].version);return new Nm(t,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,Ut;function j2(s){switch(s){case K.OK:return yt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function IE(s){if(s===void 0)return ir("GRPC error has no .code"),K.UNKNOWN;switch(s){case be.OK:return K.OK;case be.CANCELLED:return K.CANCELLED;case be.UNKNOWN:return K.UNKNOWN;case be.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case be.INTERNAL:return K.INTERNAL;case be.UNAVAILABLE:return K.UNAVAILABLE;case be.UNAUTHENTICATED:return K.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case be.NOT_FOUND:return K.NOT_FOUND;case be.ALREADY_EXISTS:return K.ALREADY_EXISTS;case be.PERMISSION_DENIED:return K.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case be.ABORTED:return K.ABORTED;case be.OUT_OF_RANGE:return K.OUT_OF_RANGE;case be.UNIMPLEMENTED:return K.UNIMPLEMENTED;case be.DATA_LOSS:return K.DATA_LOSS;default:return yt(39323,{code:s})}}(Ut=be||(be={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new Gr([4294967295,4294967295],0);function _v(s){const t=z2().encode(s),i=new B0;return i.update(t),new Uint8Array(i.digest())}function vv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Gr([i,r],0),new Gr([l,h],0)]}class Dm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Tl(`Invalid padding: ${i}`);if(r<0)throw new Tl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Gr.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Gr.fromNumber(r)));return l.compare(B2)===1&&(l=new Gr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=_v(t),[r,l]=vv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,l,h);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new Dm(h,l,i);return r.forEach(g=>d.insert(g)),d}insert(t){if(this.ge===0)return;const i=_v(t),[r,l]=vv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,l,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t,i,r,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Yl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new dh(bt.min(),l,new ce(Dt),rr(),Ot())}}class Yl{constructor(t,i,r,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Yl(r,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class xE{constructor(t,i){this.targetId=t,this.Ce=i}}class CE{constructor(t,i,r=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class Ev{constructor(){this.ve=0,this.Fe=Tv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),r=Ot();return this.Fe.forEach((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:yt(38017,{changeType:h})}}),new Yl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=Tv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class q2{constructor(t){this.Ge=t,this.ze=new Map,this.je=rr(),this.Je=bc(),this.He=bc(),this.Ye=new ce(Dt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach((r,l)=>{this.rt(l)&&i(l)})}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const h=l.target;if(Zd(h))if(r===0){const d=new ht(h.path);this.et(i,d,tn.newNoDocument(d,bt.min()))}else Gt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:h=0}=i;let d,g;try{d=Kr(r).toUint8Array()}catch(y){if(y instanceof W0)return $a("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Dm(d,l,h)}catch(y){return $a(y instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach(h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(g)||(this.et(i,h,null),l++)}),l}Tt(t){const i=new Map;this.ze.forEach((h,d)=>{const g=this.ot(d);if(g){if(h.current&&Zd(g.target)){const y=new ht(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,tn.newNoDocument(y,t))}h.Be&&(i.set(d,h.ke()),h.qe())}});let r=Ot();this.He.forEach((h,d)=>{let g=!0;d.forEachWhile(y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(r=r.add(h))}),this.je.forEach((h,d)=>d.setReadTime(t));const l=new dh(t,i,this.Ye,this.je,r);return this.je=rr(),this.Je=bc(),this.He=bc(),this.Ye=new ce(Dt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Ev,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new De(Dt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new De(Dt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Ev),this.Ge.getRemoteKeysForTarget(t).forEach(i=>{this.et(t,i,null)})}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function bc(){return new ce(ht.comparator)}function Tv(){return new ce(ht.comparator)}const H2={asc:"ASCENDING",desc:"DESCENDING"},G2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F2={and:"AND",or:"OR"};class Q2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function tm(s,t){return s.useProto3Json||oh(t)?t:{value:t}}function $c(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function NE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Y2(s,t){return $c(s,t.toTimestamp())}function yi(s){return Gt(!!s,49232),bt.fromTimestamp(function(i){const r=Yr(i);return new se(r.seconds,r.nanos)}(s))}function Om(s,t){return em(s,t).canonicalString()}function em(s,t){const i=function(l){return new ne(["projects",l.projectId,"databases",l.database])}(s).child("documents");return t===void 0?i:i.child(t)}function DE(s){const t=ne.fromString(s);return Gt(PE(t),10190,{key:t.toString()}),t}function nm(s,t){return Om(s.databaseId,t.path)}function Dd(s,t){const i=DE(t);if(i.get(1)!==s.databaseId.projectId)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ht(ME(i))}function OE(s,t){return Om(s.databaseId,t)}function K2(s){const t=DE(s);return t.length===4?ne.emptyPath():ME(t)}function im(s){return new ne(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ME(s){return Gt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function bv(s,t,i){return{name:nm(s,t),fields:i.value.mapValue.fields}}function X2(s,t){let i;if("targetChange"in t){t.targetChange;const r=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:yt(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=function(v,b){return v.useProto3Json?(Gt(b===void 0||typeof b=="string",58123),Ke.fromBase64String(b||"")):(Gt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ke.fromUint8Array(b||new Uint8Array))}(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const b=v.code===void 0?K.UNKNOWN:IE(v.code);return new st(b,v.message||"")}(d);i=new CE(r,l,h,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Dd(s,r.document.name),h=yi(r.document.updateTime),d=r.document.createTime?yi(r.document.createTime):bt.min(),g=new Ln({mapValue:{fields:r.document.fields}}),y=tn.newFoundDocument(l,h,d,g),v=r.targetIds||[],b=r.removedTargetIds||[];i=new Mc(v,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Dd(s,r.document),h=r.readTime?yi(r.readTime):bt.min(),d=tn.newNoDocument(l,h),g=r.removedTargetIds||[];i=new Mc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Dd(s,r.document),h=r.removedTargetIds||[];i=new Mc([],h,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:h}=r,d=new L2(l,h),g=r.targetId;i=new xE(g,d)}}return i}function $2(s,t){let i;if(t instanceof Ql)i={update:bv(s,t.key,t.value)};else if(t instanceof RE)i={delete:nm(s,t.key)};else if(t instanceof Gs)i={update:bv(s,t.key,t.data),updateMask:sR(t.fieldMask)};else{if(!(t instanceof k2))return yt(16599,{Vt:t.type});i={verify:nm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(r=>function(h,d){const g=d.transform;if(g instanceof Kc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof kl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Pl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Xc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})}(0,r))),t.precondition.isNone||(i.currentDocument=function(l,h){return h.updateTime!==void 0?{updateTime:Y2(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)}(s,t.precondition)),i}function Z2(s,t){return s&&s.length>0?(Gt(t!==void 0,14353),s.map(i=>function(l,h){let d=l.updateTime?yi(l.updateTime):yi(h);return d.isEqual(bt.min())&&(d=yi(h)),new O2(d,l.transformResults||[])}(i,t))):[]}function J2(s,t){return{documents:[OE(s,t.path)]}}function W2(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=OE(s,l);const h=function(v){if(v.length!==0)return kE(Kn.create(v,"and"))}(t.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(b=>function(O){return{field:ja(O.field),direction:nR(O.dir)}}(b))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=tm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{ft:i,parent:l}}function tR(s){let t=K2(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Gt(r===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let h=[];i.where&&(h=function(C){const O=VE(C);return O instanceof Kn&&uE(O)?O.getFilters():[O]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(O=>function(Z){return new Yc(za(Z.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(O))}(i.orderBy));let g=null;i.limit&&(g=function(C){let O;return O=typeof C=="object"?C.value:C,oh(O)?null:O}(i.limit));let y=null;i.startAt&&(y=function(C){const O=!!C.before,F=C.values||[];return new Qc(F,O)}(i.startAt));let v=null;return i.endAt&&(v=function(C){const O=!C.before,F=C.values||[];return new Qc(F,O)}(i.endAt)),v2(t,l,d,h,g,"F",y,v)}function eR(s,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function VE(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=za(i.unaryFilter.field);return Ae.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=za(i.unaryFilter.field);return Ae.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=za(i.unaryFilter.field);return Ae.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=za(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}}(s):s.fieldFilter!==void 0?function(i){return Ae.create(za(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return Kn.create(i.compositeFilter.filters.map(r=>VE(r)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}}(i.compositeFilter.op))}(s):yt(30097,{filter:s})}function nR(s){return H2[s]}function iR(s){return G2[s]}function rR(s){return F2[s]}function ja(s){return{fieldPath:s.canonicalString()}}function za(s){return Ye.fromServerFormat(s.fieldPath)}function kE(s){return s instanceof Ae?function(i){if(i.op==="=="){if(uv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NAN"}};if(lv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(uv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NAN"}};if(lv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(i.field),op:iR(i.op),value:i.value}}}(s):s instanceof Kn?function(i){const r=i.getFilters().map(l=>kE(l));return r.length===1?r[0]:{compositeFilter:{op:rR(i.op),filters:r}}}(s):yt(54877,{filter:s})}function sR(s){const t=[];return s.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function PE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t,i,r,l,h=bt.min(),d=bt.min(),g=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new zr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t){this.yt=t}}function oR(s){const t=tR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Wd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.Cn=new uR}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Qr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Qr.min())}updateCollectionGroup(t,i,r){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class uR{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new De(ne.comparator),h=!l.has(r);return this.index[i]=l.add(r),h}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new De(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UE=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(UE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new to(0)}static cr(){return new to(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="LruGarbageCollector",cR=1048576;function wv([s,t],[i,r]){const l=Dt(s,i);return l===0?Dt(t,r):l}class hR{constructor(t){this.Ir=t,this.buffer=new De(wv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();wv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class fR{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(Sv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){oo(i)?rt(Sv,"Ignoring IndexedDB error during garbage collection: ",i):await ao(i)}await this.Vr(3e5)})}}class dR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next(r=>Math.floor(i/100*r))}nthSequenceNumber(t,i){if(i===0)return X.resolve(ah.ce);const r=new hR(i);return this.mr.forEachTarget(t,l=>r.Ar(l.sequenceNumber)).next(()=>this.mr.pr(t,l=>r.Ar(l))).next(()=>r.maxValue)}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Av)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Av):this.yr(t,i))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,h,d,g,y,v;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,d=Date.now(),this.nthSequenceNumber(t,l))).next(C=>(r=C,g=Date.now(),this.removeTargets(t,r,i))).next(C=>(h=C,y=Date.now(),this.removeOrphanedDocuments(t,r))).next(C=>(v=Date.now(),Ua()<=Nt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${h} targets in `+(y-g)+`ms
	Removed ${C} documents in `+(v-y)+`ms
Total Duration: ${v-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:C})))}}function mR(s,t){return new dR(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.changes=new Hs(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(r=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(r!==null&&xl(r.mutation,l,Yn.empty(),se.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.getLocalViewOfDocuments(t,r,Ot()).next(()=>r))}getLocalViewOfDocuments(t,i,r=Ot()){const l=Vs();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,r).next(h=>{let d=El();return h.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const r=Vs();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,Ot()))}populateOverlays(t,i,r){const l=[];return r.forEach(h=>{i.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(t,l).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,r,l){let h=rr();const d=Il(),g=function(){return Il()}();return i.forEach((y,v)=>{const b=r.get(v.key);l.has(v.key)&&(b===void 0||b.mutation instanceof Gs)?h=h.insert(v.key,v):b!==void 0?(d.set(v.key,b.mutation.getFieldMask()),xl(b.mutation,v,b.mutation.getFieldMask(),se.now())):d.set(v.key,Yn.empty())}),this.recalculateAndSaveOverlays(t,h).next(y=>(y.forEach((v,b)=>d.set(v,b)),i.forEach((v,b)=>g.set(v,new pR(b,d.get(v)??null))),g))}recalculateAndSaveOverlays(t,i){const r=Il();let l=new ce((d,g)=>d-g),h=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(y=>{const v=i.get(y);if(v===null)return;let b=r.get(y)||Yn.empty();b=g.applyToLocalView(v,b),r.set(y,b);const C=(l.get(g.batchId)||Ot()).add(y);l=l.insert(g.batchId,C)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),v=y.key,b=y.value,C=_E();b.forEach(O=>{if(!h.has(O)){const F=SE(i.get(O),r.get(O));F!==null&&C.set(O,F),h=h.add(O)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,C))}return X.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,i,r,l){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):dE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next(h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-h.size):X.resolve(Vs());let g=Dl,y=h;return d.next(v=>X.forEach(v,(b,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),h.get(b)?X.resolve():this.remoteDocumentCache.getEntry(t,b).next(O=>{y=y.insert(b,O)}))).next(()=>this.populateOverlays(t,v,h)).next(()=>this.computeViews(t,y,v,Ot())).next(b=>({batchId:g,changes:yE(b)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next(r=>{let l=El();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const h=i.collectionGroup;let d=El();return this.indexManager.getCollectionParents(t,h).next(g=>X.forEach(g,y=>{const v=function(C,O){return new Fl(O,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(t,v,r,l).next(b=>{b.forEach((C,O)=>{d=d.insert(C,O)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,r,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,h,l))).next(d=>{h.forEach((y,v)=>{const b=v.getKey();d.get(b)===null&&(d=d.insert(b,tn.newInvalidDocument(b)))});let g=El();return d.forEach((y,v)=>{const b=h.get(y);b!==void 0&&xl(b.mutation,v,Yn.empty(),se.now()),ch(i,v)&&(g=g.insert(y,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:yi(l.createTime)}}(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,function(l){return{name:l.name,query:oR(l.bundledQuery),readTime:yi(l.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.overlays=new ce(ht.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Vs();return X.forEach(i,l=>this.getOverlay(t,l).next(h=>{h!==null&&r.set(l,h)})).next(()=>r)}saveOverlays(t,i,r){return r.forEach((l,h)=>{this.St(t,i,h)}),X.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(t,i,r){const l=Vs(),h=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&y.largestBatchId>r&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let h=new ce((v,b)=>v-b);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let b=h.get(v.largestBatchId);b===null&&(b=Vs(),h=h.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const g=Vs(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((v,b)=>g.set(v,b)),!(g.size()>=l)););return X.resolve(g)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new U2(i,r));let h=this.qr.get(i);h===void 0&&(h=Ot(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this.Qr=new De(je.$r),this.Ur=new De(je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new je(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach(r=>this.addReference(r,i))}removeReference(t,i){this.Gr(new je(t,i))}zr(t,i){t.forEach(r=>this.removeReference(r,i))}jr(t){const i=new ht(new ne([])),r=new je(i,t),l=new je(i,t+1),h=[];return this.Ur.forEachInRange([r,l],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ht(new ne([])),r=new je(i,t),l=new je(i,t+1);let h=Ot();return this.Ur.forEachInRange([r,l],d=>{h=h.add(d.key)}),h}containsKey(t){const i=new je(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class je{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ht.comparator(t.key,i.key)||Dt(t.Yr,i.Yr)}static Kr(t,i){return Dt(t.Yr,i.Yr)||ht.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new De(je.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new P2(h,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new je(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),h=l<0?0:l;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Am:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new je(i,0),l=new je(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,l],d=>{const g=this.Xr(d.Yr);h.push(g)}),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new De(Dt);return i.forEach(l=>{const h=new je(l,0),d=new je(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],g=>{r=r.add(g.Yr)})}),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let h=r;ht.isDocumentKey(h)||(h=h.child(""));const d=new je(new ht(h),0);let g=new De(Dt);return this.Zr.forEachWhile(y=>{const v=y.key.path;return!!r.isPrefixOf(v)&&(v.length===l&&(g=g.add(y.Yr)),!0)},d),X.resolve(this.ti(g))}ti(t){const i=[];return t.forEach(r=>{const l=this.Xr(r);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(i.mutations,l=>{const h=new je(l.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Zr=r})}ir(t){}containsKey(t,i){const r=new je(i,0),l=this.Zr.firstAfterOrEqual(r);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(t){this.ri=t,this.docs=function(){return new ce(ht.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),h=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(i))}getEntries(t,i){let r=rr();return i.forEach(l=>{const h=this.docs.get(l);r=r.insert(l,h?h.document.mutableCopy():tn.newInvalidDocument(l))}),X.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let h=rr();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:v,value:{document:b}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||Zw($w(b),r)<=0||(l.has(b.key)||ch(i,b))&&(h=h.insert(b.key,b.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(t,i,r,l){yt(9500)}ii(t,i){return X.forEach(this.docs,r=>i(r))}newChangeBuffer(t){return new AR(this)}getSize(t){return X.resolve(this.size)}}class AR extends gR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)}),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t){this.persistence=t,this.si=new Hs(i=>Rm(i),Im),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Mm,this.targetCount=0,this.ai=to.ur()}forEachTarget(t,i){return this.si.forEach((r,l)=>i(l)),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new to(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,r){let l=0;const h=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),X.waitFor(h).next(()=>l)}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return X.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),X.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach(d=>{h.push(l.markPotentiallyOrphaned(t,d))}),X.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return X.resolve(r)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t,i){this.ui={},this.overlays={},this.ci=new ah(0),this.li=!1,this.li=!0,this.hi=new ER,this.referenceDelegate=t(this),this.Pi=new SR(this),this.indexManager=new lR,this.remoteDocumentCache=function(l){return new bR(l)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new aR(i),this.Ii=new _R(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new vR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new TR(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){rt("MemoryPersistence","Starting transaction:",t);const l=new wR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next(h=>this.referenceDelegate.di(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ai(t,i){return X.or(Object.values(this.ui).map(r=>()=>r.containsKey(t,i)))}}class wR extends Ww{constructor(t){super(),this.currentSequenceNumber=t}}class Vm{constructor(t){this.persistence=t,this.Ri=new Mm,this.Vi=null}static mi(t){return new Vm(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),X.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach(l=>this.fi.add(l.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(h=>this.fi.add(h.toString()))}).next(()=>r.removeTargetData(t,i))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,r=>{const l=ht.fromPath(r);return this.gi(t,l).next(h=>{h||i.removeEntry(l,bt.min())})}).next(()=>(this.Vi=null,i.apply(t)))}updateLimboDocument(t,i){return this.gi(t,i).next(r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Zc{constructor(t,i){this.persistence=t,this.pi=new Hs(r=>n2(r.path),(r,l)=>r.isEqual(l)),this.garbageCollector=mR(this,i)}static mi(t,i){return new Zc(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>i.next(l=>r+l))}wr(t){let i=0;return this.pr(t,r=>{i++}).next(()=>i)}pr(t,i){return X.forEach(this.pi,(r,l)=>this.br(t,r,l).next(h=>h?X.resolve():i(l)))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,d=>this.br(t,d,i).next(g=>{g||(r++,h.removeEntry(d,bt.min()))})).next(()=>h.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),X.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Nc(t.data.value)),i}br(t,i,r){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Ot(),l=Ot();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new km(t,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return yb()?8:t2(en())>0?6:4}()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const h={result:null};return this.ys(t,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(t,i,l,r).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new RR;return this.Ss(t,i,d).next(g=>{if(h.result=g,this.Vs)return this.bs(t,i,d,g.size)})}).next(()=>h.result)}bs(t,i,r,l){return r.documentReadCount<this.fs?(Ua()<=Nt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",La(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ua()<=Nt.DEBUG&&rt("QueryEngine","Query:",La(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ua()<=Nt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",La(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,pi(i))):X.resolve())}ys(t,i){if(dv(i))return X.resolve(null);let r=pi(i);return this.indexManager.getIndexType(t,r).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=Wd(i,null,"F"),r=pi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next(h=>{const d=Ot(...h);return this.ps.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,r).next(y=>{const v=this.Ds(i,g);return this.Cs(i,v,d,y.readTime)?this.ys(t,Wd(i,null,"F")):this.vs(t,v,i,y)}))})))}ws(t,i,r,l){return dv(i)||l.isEqual(bt.min())?X.resolve(null):this.ps.getDocuments(t,r).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,l)?X.resolve(null):(Ua()<=Nt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),La(i)),this.vs(t,d,i,Xw(l,Dl)).next(g=>g))})}Ds(t,i){let r=new De(gE(t));return i.forEach((l,h)=>{ch(t,h)&&(r=r.add(h))}),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,i,r){return Ua()<=Nt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",La(i)),this.ps.getDocumentsMatchingQuery(t,i,Qr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="LocalStore",xR=3e8;class CR{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ce(Dt),this.xs=new Hs(h=>Rm(h),Im),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new yR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ms))}}function NR(s,t,i,r){return new CR(s,t,i,r)}async function jE(s,t){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next(h=>(l=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(r))).next(h=>{const d=[],g=[];let y=Ot();for(const v of l){d.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}for(const v of h){g.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(r,y).next(v=>({Ls:v,removedBatchIds:d,addedBatchIds:g}))})})}function DR(s,t){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const l=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return function(g,y,v,b){const C=v.batch,O=C.keys();let F=X.resolve();return O.forEach(Z=>{F=F.next(()=>b.getEntry(y,Z)).next(it=>{const J=v.docVersions.get(Z);Gt(J!==null,48541),it.version.compareTo(J)<0&&(C.applyToRemoteDocument(it,v),it.isValidDocument()&&(it.setReadTime(v.commitVersion),b.addEntry(it)))})}),F.next(()=>g.mutationQueue.removeMutationBatch(y,C))}(i,r,t,h).next(()=>h.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(g){let y=Ot();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(y=y.add(g.batch.mutations[v].key));return y}(t))).next(()=>i.localDocuments.getDocuments(r,l))})}function zE(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Pi.getLastRemoteSnapshotVersion(i))}function OR(s,t){const i=At(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach((b,C)=>{const O=l.get(C);if(!O)return;g.push(i.Pi.removeMatchingKeys(h,b.removedDocuments,C).next(()=>i.Pi.addMatchingKeys(h,b.addedDocuments,C)));let F=O.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(C)!==null?F=F.withResumeToken(Ke.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,r)),l=l.insert(C,F),function(it,J,_t){return it.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=xR?!0:_t.addedDocuments.size+_t.modifiedDocuments.size+_t.removedDocuments.size>0}(O,F,b)&&g.push(i.Pi.updateTargetData(h,F))});let y=rr(),v=Ot();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,b))}),g.push(MR(h,d,t.documentUpdates).next(b=>{y=b.ks,v=b.qs})),!r.isEqual(bt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(h).next(C=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r));g.push(b)}return X.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,y,v)).next(()=>y)}).then(h=>(i.Ms=l,h))}function MR(s,t,i){let r=Ot(),l=Ot();return i.forEach(h=>r=r.add(h)),t.getEntries(s,r).next(h=>{let d=rr();return i.forEach((g,y)=>{const v=h.get(g);y.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(bt.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):rt(Pm,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",y.version)}),{ks:d,qs:l}})}function VR(s,t){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Am),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function kR(s,t){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let l;return i.Pi.getTargetData(r,t).next(h=>h?(l=h,X.resolve(l)):i.Pi.allocateTargetId(r).next(d=>(l=new zr(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next(()=>l))))}).then(r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r})}async function rm(s,t,i){const r=At(s),l=r.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,d=>r.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!oo(d))throw d;rt(Pm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function Rv(s,t,i){const r=At(s);let l=bt.min(),h=Ot();return r.persistence.runTransaction("Execute query","readwrite",d=>function(y,v,b){const C=At(y),O=C.xs.get(b);return O!==void 0?X.resolve(C.Ms.get(O)):C.Pi.getTargetData(v,b)}(r,d,pi(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next(y=>{h=y})}).next(()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:bt.min(),i?h:Ot())).next(g=>(PR(r,T2(t),g),{documents:g,Qs:h})))}function PR(s,t,i){let r=s.Os.get(t)||bt.min();i.forEach((l,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)}),s.Os.set(t,r)}class Iv{constructor(){this.activeTargetIds=I2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class UR{constructor(){this.Mo=new Iv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Iv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="ConnectivityMonitor";class Cv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(xv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(xv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function sm(){return Ac===null?Ac=function(){return 268435456+Math.round(2147483648*Math.random())}():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="RestConnection",jR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Gc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,h){const d=sm(),g=this.zo(t,i.toUriEncodedString());rt(Od,`Sending RPC '${t}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,h);const{host:v}=new URL(g),b=no(v);return this.Jo(t,g,y,r,b).then(C=>(rt(Od,`Received RPC '${t}' ${d}: `,C),C),C=>{throw $a(Od,`RPC '${t}' ${d} failed with error: `,C,"url: ",g,"request:",r),C})}Ho(t,i,r,l,h,d){return this.Go(t,i,r,l,h)}jo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+so}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,h)=>t[h]=l),r&&r.headers.forEach((l,h)=>t[h]=l)}zo(t,i){const r=jR[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class qR extends zR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,h){const d=sm();return new Promise((g,y)=>{const v=new q0;v.setWithCredentials(!0),v.listenOnce(H0.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Cc.NO_ERROR:const C=v.getResponseJson();rt(Je,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(C)),g(C);break;case Cc.TIMEOUT:rt(Je,`RPC '${t}' ${d} timed out`),y(new st(K.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const O=v.getStatus();if(rt(Je,`RPC '${t}' ${d} failed with status:`,O,"response text:",v.getResponseText()),O>0){let F=v.getResponseJson();Array.isArray(F)&&(F=F[0]);const Z=F?.error;if(Z&&Z.status&&Z.message){const it=function(_t){const dt=_t.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(dt)>=0?dt:K.UNKNOWN}(Z.status);y(new st(it,Z.message))}else y(new st(K.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new st(K.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{rt(Je,`RPC '${t}' ${d} completed.`)}});const b=JSON.stringify(l);rt(Je,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",b,r,15)})}T_(t,i,r){const l=sm(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Q0(),g=F0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const b=h.join("");rt(Je,`Creating RPC '${t}' stream ${l}: ${b}`,y);const C=d.createWebChannel(b,y);this.I_(C);let O=!1,F=!1;const Z=new BR({Yo:J=>{F?rt(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(O||(rt(Je,`Opening RPC '${t}' stream ${l} transport.`),C.open(),O=!0),rt(Je,`RPC '${t}' stream ${l} sending:`,J),C.send(J))},Zo:()=>C.close()}),it=(J,_t,dt)=>{J.listen(_t,ct=>{try{dt(ct)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return it(C,vl.EventType.OPEN,()=>{F||(rt(Je,`RPC '${t}' stream ${l} transport opened.`),Z.o_())}),it(C,vl.EventType.CLOSE,()=>{F||(F=!0,rt(Je,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(C))}),it(C,vl.EventType.ERROR,J=>{F||(F=!0,$a(Je,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new st(K.UNAVAILABLE,"The operation could not be completed")))}),it(C,vl.EventType.MESSAGE,J=>{if(!F){const _t=J.data[0];Gt(!!_t,16349);const dt=_t,ct=dt?.error||dt[0]?.error;if(ct){rt(Je,`RPC '${t}' stream ${l} received error:`,ct);const Lt=ct.status;let Tt=function(S){const I=be[S];if(I!==void 0)return IE(I)}(Lt),jt=ct.message;Tt===void 0&&(Tt=K.INTERNAL,jt="Unknown error status: "+Lt+" with message "+ct.message),F=!0,Z.a_(new st(Tt,jt)),C.close()}else rt(Je,`RPC '${t}' stream ${l} received:`,_t),Z.u_(_t)}}),it(g,G0.STAT_EVENT,J=>{J.stat===Qd.PROXY?rt(Je,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===Qd.NOPROXY&&rt(Je,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Z.__()},0),Z}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(i=>i===t)}}function Md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(s){return new Q2(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(t,i,r=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="PersistentStream";class qE{constructor(t,i,r,l,h,d,g,y){this.Mi=t,this.S_=r,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new BE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(ir(i.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,l])=>{this.D_===i&&this.G_(r,l)},r=>{t(()=>{const l=new st(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)})})}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(l=>{r(()=>this.z_(l))}),this.stream.onMessage(l=>{r(()=>++this.F_==1?this.J_(l):this.onNext(l))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return rt(Nv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget(()=>this.D_===t?i():(rt(Nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HR extends qE{constructor(t,i,r,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=X2(this.serializer,t),r=function(h){if(!("targetChange"in h))return bt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?yi(d.readTime):bt.min()}(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=im(this.serializer),i.addTarget=function(h,d){let g;const y=d.target;if(g=Zd(y)?{documents:J2(h,y)}:{query:W2(h,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=NE(h,d.resumeToken);const v=tm(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(bt.min())>0){g.readTime=$c(h,d.snapshotVersion.toTimestamp());const v=tm(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const r=eR(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=im(this.serializer),i.removeTarget=t,this.q_(i)}}class GR extends qE{constructor(t,i,r,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Z2(t.writeResults,t.commitTime),r=yi(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=im(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map(r=>$2(this.serializer,r))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{}class QR extends FR{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(t,em(i,r),l,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new st(K.UNKNOWN,h.toString())})}Ho(t,i,r,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(t,em(i,r),l,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(K.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class YR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ir(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="RemoteStore";class KR{constructor(t,i,r,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{r.enqueueAndForget(async()=>{Fs(this)&&(rt(Bs,"Restarting streams for network reachability change."),await async function(y){const v=At(y);v.Ea.add(4),await Kl(v),v.Ra.set("Unknown"),v.Ea.delete(4),await gh(v)}(this))})}),this.Ra=new YR(r,l)}}async function gh(s){if(Fs(s))for(const t of s.da)await t(!0)}async function Kl(s){for(const t of s.da)await t(!1)}function HE(s,t){const i=At(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),zm(i)?jm(i):lo(i).O_()&&Lm(i,t))}function Um(s,t){const i=At(s),r=lo(i);i.Ia.delete(t),r.O_()&&GE(i,t),i.Ia.size===0&&(r.O_()?r.L_():Fs(i)&&i.Ra.set("Unknown"))}function Lm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}lo(s).Y_(t)}function GE(s,t){s.Va.Ue(t),lo(s).Z_(t)}function jm(s){s.Va=new q2({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),lo(s).start(),s.Ra.ua()}function zm(s){return Fs(s)&&!lo(s).x_()&&s.Ia.size>0}function Fs(s){return At(s).Ea.size===0}function FE(s){s.Va=void 0}async function XR(s){s.Ra.set("Online")}async function $R(s){s.Ia.forEach((t,i)=>{Lm(s,t)})}async function ZR(s,t){FE(s),zm(s)?(s.Ra.ha(t),jm(s)):s.Ra.set("Unknown")}async function JR(s,t,i){if(s.Ra.set("Online"),t instanceof CE&&t.state===2&&t.cause)try{await async function(l,h){const d=h.cause;for(const g of h.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))}(s,t)}catch(r){rt(Bs,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Jc(s,r)}else if(t instanceof Mc?s.Va.Ze(t):t instanceof xE?s.Va.st(t):s.Va.tt(t),!i.isEqual(bt.min()))try{const r=await zE(s.localStore);i.compareTo(r)>=0&&await function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const b=h.Ia.get(v);b&&h.Ia.set(v,b.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,v)=>{const b=h.Ia.get(y);if(!b)return;h.Ia.set(y,b.withResumeToken(Ke.EMPTY_BYTE_STRING,b.snapshotVersion)),GE(h,y);const C=new zr(b.target,y,v,b.sequenceNumber);Lm(h,C)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(r){rt(Bs,"Failed to raise snapshot:",r),await Jc(s,r)}}async function Jc(s,t,i){if(!oo(t))throw t;s.Ea.add(1),await Kl(s),s.Ra.set("Offline"),i||(i=()=>zE(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{rt(Bs,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await gh(s)})}function QE(s,t){return t().catch(i=>Jc(s,i,t))}async function ph(s){const t=At(s),i=$r(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Am;for(;WR(t);)try{const l=await VR(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,tI(t,l)}catch(l){await Jc(t,l)}YE(t)&&KE(t)}function WR(s){return Fs(s)&&s.Ta.length<10}function tI(s,t){s.Ta.push(t);const i=$r(s);i.O_()&&i.X_&&i.ea(t.mutations)}function YE(s){return Fs(s)&&!$r(s).x_()&&s.Ta.length>0}function KE(s){$r(s).start()}async function eI(s){$r(s).ra()}async function nI(s){const t=$r(s);for(const i of s.Ta)t.ea(i.mutations)}async function iI(s,t,i){const r=s.Ta.shift(),l=Nm.from(r,t,i);await QE(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await ph(s)}async function rI(s,t){t&&$r(s).X_&&await async function(r,l){if(function(d){return j2(d)&&d!==K.ABORTED}(l.code)){const h=r.Ta.shift();$r(r).B_(),await QE(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,l)),await ph(r)}}(s,t),YE(s)&&KE(s)}async function Dv(s,t){const i=At(s);i.asyncQueue.verifyOperationInProgress(),rt(Bs,"RemoteStore received new credentials");const r=Fs(i);i.Ea.add(3),await Kl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await gh(i)}async function sI(s,t){const i=At(s);t?(i.Ea.delete(2),await gh(i)):t||(i.Ea.add(2),await Kl(i),i.Ra.set("Unknown"))}function lo(s){return s.ma||(s.ma=function(i,r,l){const h=At(i);return h.sa(),new HR(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(s.datastore,s.asyncQueue,{Xo:XR.bind(null,s),t_:$R.bind(null,s),r_:ZR.bind(null,s),H_:JR.bind(null,s)}),s.da.push(async t=>{t?(s.ma.B_(),zm(s)?jm(s):s.Ra.set("Unknown")):(await s.ma.stop(),FE(s))})),s.ma}function $r(s){return s.fa||(s.fa=function(i,r,l){const h=At(i);return h.sa(),new GR(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:eI.bind(null,s),r_:rI.bind(null,s),ta:nI.bind(null,s),na:iI.bind(null,s)}),s.da.push(async t=>{t?(s.fa.B_(),await ph(s)):(await s.fa.stop(),s.Ta.length>0&&(rt(Bs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))})),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,i,r,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=h,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,h){const d=Date.now()+r,g=new Bm(t,i,d,l,h);return g.start(r),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qm(s,t){if(ir("AsyncQueue",`${t}: ${s}`),oo(s))return new st(K.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{static emptySet(t){return new Ya(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ht.comparator(i.key,r.key):(i,r)=>ht.comparator(i.key,r.key),this.keyedMap=El(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,r)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ya)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=r.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ya;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.ga=new ce(ht.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal((i,r)=>{t.push(r)}),t}}class eo{constructor(t,i,r,l,h,d,g,y,v){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,r,l,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new eo(t,i,Ya.emptySet(i),d,r,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class oI{constructor(){this.queries=Mv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=At(i),h=l.queries;l.queries=Mv(),h.forEach((d,g)=>{for(const y of g.Sa)y.onError(r)})})(this,new st(K.ABORTED,"Firestore shutting down"))}}function Mv(){return new Hs(s=>mE(s),uh)}async function lI(s,t){const i=At(s);let r=3;const l=t.query;let h=i.queries.get(l);h?!h.ba()&&t.Da()&&(r=2):(h=new aI,r=t.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=qm(d,`Initialization of query '${La(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&Hm(i)}async function uI(s,t){const i=At(s),r=t.query;let l=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function cI(s,t){const i=At(s);let r=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&Hm(i)}function hI(s,t,i){const r=At(s),l=r.queries.get(t);if(l)for(const h of l.Sa)h.onError(i);r.queries.delete(t)}function Hm(s){s.Ca.forEach(t=>{t.next()})}var am,Vv;(Vv=am||(am={})).Ma="default",Vv.Cache="cache";class fI{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new eo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==am.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t){this.key=t}}class $E{constructor(t){this.key=t}}class dI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=gE(t),this.tu=new Ya(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new Ov,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((b,C)=>{const O=l.get(b),F=ch(this.query,C)?C:null,Z=!!O&&this.mutatedKeys.has(O.key),it=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;O&&F?O.data.isEqual(F.data)?Z!==it&&(r.track({type:3,doc:F}),J=!0):this.su(O,F)||(r.track({type:2,doc:F}),J=!0,(y&&this.eu(F,y)>0||v&&this.eu(F,v)<0)&&(g=!0)):!O&&F?(r.track({type:0,doc:F}),J=!0):O&&!F&&(r.track({type:1,doc:O}),J=!0,(y||v)&&(g=!0)),J&&(F?(d=d.add(F),h=it?h.add(b):h.delete(b)):(d=d.delete(b),h=h.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),h=h.delete(b.key),r.track({type:1,doc:b})}return{tu:d,iu:r,Cs:g,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort((b,C)=>function(F,Z){const it=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:J})}};return it(F)-it(Z)}(b.type,C.type)||this.eu(b.doc,C.doc)),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,v=y!==this.Za;return this.Za=y,d.length!==0||v?{snapshot:new eo(this.query,t.tu,h,d,t.mutatedKeys,y===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ov,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const i=[];return t.forEach(r=>{this.Xa.has(r)||i.push(new $E(r))}),this.Xa.forEach(r=>{t.has(r)||i.push(new XE(r))}),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gm="SyncEngine";class mI{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class gI{constructor(t){this.key=t,this.hu=!1}}class pI{constructor(t,i,r,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Hs(g=>mE(g),uh),this.Iu=new Map,this.Eu=new Set,this.du=new ce(ht.comparator),this.Au=new Map,this.Ru=new Mm,this.Vu={},this.mu=new Map,this.fu=to.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yI(s,t,i=!0){const r=nT(s);let l;const h=r.Tu.get(t);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await ZE(r,t,i,!0),l}async function _I(s,t){const i=nT(s);await ZE(i,t,!0,!1)}async function ZE(s,t,i,r){const l=await kR(s.localStore,pi(t)),h=l.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return r&&(g=await vI(s,t,h,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&HE(s.remoteStore,l),g}async function vI(s,t,i,r,l){s.pu=(C,O,F)=>async function(it,J,_t,dt){let ct=J.view.ru(_t);ct.Cs&&(ct=await Rv(it.localStore,J.query,!1).then(({documents:V})=>J.view.ru(V,ct)));const Lt=dt&&dt.targetChanges.get(J.targetId),Tt=dt&&dt.targetMismatches.get(J.targetId)!=null,jt=J.view.applyChanges(ct,it.isPrimaryClient,Lt,Tt);return Pv(it,J.targetId,jt.au),jt.snapshot}(s,C,O,F);const h=await Rv(s.localStore,t,!0),d=new dI(t,h.Qs),g=d.ru(h.documents),y=Yl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),v=d.applyChanges(g,s.isPrimaryClient,y);Pv(s,i,v.au);const b=new mI(t,i,d);return s.Tu.set(t,b),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),v.snapshot}async function EI(s,t,i){const r=At(s),l=r.Tu.get(t),h=r.Iu.get(l.targetId);if(h.length>1)return r.Iu.set(l.targetId,h.filter(d=>!uh(d,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await rm(r.localStore,l.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Um(r.remoteStore,l.targetId),om(r,l.targetId)}).catch(ao)):(om(r,l.targetId),await rm(r.localStore,l.targetId,!0))}async function TI(s,t){const i=At(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Um(i.remoteStore,r.targetId))}async function bI(s,t,i){const r=CI(s);try{const l=await function(d,g){const y=At(d),v=se.now(),b=g.reduce((F,Z)=>F.add(Z.key),Ot());let C,O;return y.persistence.runTransaction("Locally write mutations","readwrite",F=>{let Z=rr(),it=Ot();return y.Ns.getEntries(F,b).next(J=>{Z=J,Z.forEach((_t,dt)=>{dt.isValidDocument()||(it=it.add(_t))})}).next(()=>y.localDocuments.getOverlayedDocuments(F,Z)).next(J=>{C=J;const _t=[];for(const dt of g){const ct=V2(dt,C.get(dt.key).overlayedDocument);ct!=null&&_t.push(new Gs(dt.key,ct,aE(ct.value.mapValue),Ji.exists(!0)))}return y.mutationQueue.addMutationBatch(F,v,_t,g)}).next(J=>{O=J;const _t=J.applyToLocalDocumentSet(C,it);return y.documentOverlayCache.saveOverlays(F,J.batchId,_t)})}).then(()=>({batchId:O.batchId,changes:yE(C)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),function(d,g,y){let v=d.Vu[d.currentUser.toKey()];v||(v=new ce(Dt)),v=v.insert(g,y),d.Vu[d.currentUser.toKey()]=v}(r,l.batchId,i),await Xl(r,l.changes),await ph(r.remoteStore)}catch(l){const h=qm(l,"Failed to persist write");i.reject(h)}}async function JE(s,t){const i=At(s);try{const r=await OR(i.localStore,t);t.targetChanges.forEach((l,h)=>{const d=i.Au.get(h);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Gt(d.hu,14607):l.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))}),await Xl(i,r,t)}catch(r){await ao(r)}}function kv(s,t,i){const r=At(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach((h,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const y=At(d);y.onlineState=g;let v=!1;y.queries.forEach((b,C)=>{for(const O of C.Sa)O.va(g)&&(v=!0)}),v&&Hm(y)}(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function AI(s,t,i){const r=At(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),h=l&&l.key;if(h){let d=new ce(ht.comparator);d=d.insert(h,tn.newNoDocument(h,bt.min()));const g=Ot().add(h),y=new dh(bt.min(),new Map,new ce(Dt),d,g);await JE(r,y),r.du=r.du.remove(h),r.Au.delete(t),Fm(r)}else await rm(r.localStore,t,!1).then(()=>om(r,t,i)).catch(ao)}async function SI(s,t){const i=At(s),r=t.batch.batchId;try{const l=await DR(i.localStore,t);tT(i,r,null),WE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Xl(i,l)}catch(l){await ao(l)}}async function wI(s,t,i){const r=At(s);try{const l=await function(d,g){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let b;return y.mutationQueue.lookupMutationBatch(v,g).next(C=>(Gt(C!==null,37113),b=C.keys(),y.mutationQueue.removeMutationBatch(v,C))).next(()=>y.mutationQueue.performConsistencyCheck(v)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(v,b,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b)).next(()=>y.localDocuments.getDocuments(v,b))})}(r.localStore,t);tT(r,t,i),WE(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Xl(r,l)}catch(l){await ao(l)}}function WE(s,t){(s.mu.get(t)||[]).forEach(i=>{i.resolve()}),s.mu.delete(t)}function tT(s,t,i){const r=At(s);let l=r.Vu[r.currentUser.toKey()];if(l){const h=l.get(t);h&&(i?h.reject(i):h.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function om(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach(r=>{s.Ru.containsKey(r)||eT(s,r)})}function eT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Um(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),Fm(s))}function Pv(s,t,i){for(const r of i)r instanceof XE?(s.Ru.addReference(r.key,t),RI(s,r)):r instanceof $E?(rt(Gm,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||eT(s,r.key)):yt(19791,{wu:r})}function RI(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(rt(Gm,"New document in limbo: "+i),s.Eu.add(r),Fm(s))}function Fm(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ht(ne.fromString(t)),r=s.fu.next();s.Au.set(r,new gI(i)),s.du=s.du.insert(i,r),HE(s.remoteStore,new zr(pi(xm(i.path)),r,"TargetPurposeLimboResolution",ah.ce))}}async function Xl(s,t,i){const r=At(s),l=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach((g,y)=>{d.push(r.pu(y,t,i).then(v=>{if((v||i)&&r.isPrimaryClient){const b=v?!v.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(v){l.push(v);const b=km.As(y.targetId,v);h.push(b)}}))}),await Promise.all(d),r.Pu.H_(l),await async function(y,v){const b=At(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>X.forEach(v,O=>X.forEach(O.Es,F=>b.persistence.referenceDelegate.addReference(C,O.targetId,F)).next(()=>X.forEach(O.ds,F=>b.persistence.referenceDelegate.removeReference(C,O.targetId,F)))))}catch(C){if(!oo(C))throw C;rt(Pm,"Failed to update sequence numbers: "+C)}for(const C of v){const O=C.targetId;if(!C.fromCache){const F=b.Ms.get(O),Z=F.snapshotVersion,it=F.withLastLimboFreeSnapshotVersion(Z);b.Ms=b.Ms.insert(O,it)}}}(r.localStore,h))}async function II(s,t){const i=At(s);if(!i.currentUser.isEqual(t)){rt(Gm,"User change. New user:",t.toKey());const r=await jE(i.localStore,t);i.currentUser=t,function(h,d){h.mu.forEach(g=>{g.forEach(y=>{y.reject(new st(K.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Xl(i,r.Ls)}}function xI(s,t){const i=At(s),r=i.Au.get(t);if(r&&r.hu)return Ot().add(r.key);{let l=Ot();const h=i.Iu.get(t);if(!h)return l;for(const d of h){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function nT(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=JE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=AI.bind(null,t),t.Pu.H_=cI.bind(null,t.eventManager),t.Pu.yu=hI.bind(null,t.eventManager),t}function CI(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=SI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wI.bind(null,t),t}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=mh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return NR(this.persistence,new IR,t.initialUser,this.serializer)}Cu(t){return new LE(Vm.mi,this.serializer)}Du(t){return new UR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class NI extends Wc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof Zc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new fR(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new LE(r=>Zc.mi(r,i),this.serializer)}}class lm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=II.bind(null,this.syncEngine),await sI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new oI}()}createDatastore(t){const i=mh(t.databaseInfo.databaseId),r=function(h){return new qR(h)}(t.databaseInfo);return function(h,d,g,y){return new QR(h,d,g,y)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,l,h,d,g){return new KR(r,l,h,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>kv(this.syncEngine,i,0),function(){return Cv.v()?new Cv:new LR}())}createSyncEngine(t,i){return function(l,h,d,g,y,v,b){const C=new pI(l,h,d,g,y,v);return b&&(C.gu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const r=At(i);rt(Bs,"RemoteStore shutting down."),r.Ea.add(5),await Kl(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lm.provider={build:()=>new lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ir("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class OI{constructor(t,i,r,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=We.UNAUTHENTICATED,this.clientId=bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,async d=>{rt(Zr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(rt(Zr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=qm(i,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Vd(s,t){s.asyncQueue.verifyOperationInProgress(),rt(Zr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener(async l=>{r.isEqual(l)||(await jE(t.localStore,l),r=l)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function Uv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await MI(s);rt(Zr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener(r=>Dv(t.remoteStore,r)),s.setAppCheckTokenChangeListener((r,l)=>Dv(t.remoteStore,l)),s._onlineComponents=t}async function MI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(Zr,"Using user provided OfflineComponentProvider");try{await Vd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await Vd(s,new Wc)}}else rt(Zr,"Using default OfflineComponentProvider"),await Vd(s,new NI(void 0));return s._offlineComponents}async function iT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(Zr,"Using user provided OnlineComponentProvider"),await Uv(s,s._uninitializedComponentsProvider._online)):(rt(Zr,"Using default OnlineComponentProvider"),await Uv(s,new lm))),s._onlineComponents}function VI(s){return iT(s).then(t=>t.syncEngine)}async function Lv(s){const t=await iT(s),i=t.eventManager;return i.onListen=yI.bind(null,t.syncEngine),i.onUnlisten=EI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=_I.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=TI.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="firestore.googleapis.com",zv=!0;class Bv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sT,this.ssl=zv}else this.host=t.host,this.ssl=t.ssl??zv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<cR)throw new st(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Kw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rT(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,l){return r.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class yh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Lw;switch(r.type){case"firstParty":return new qw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=jv.get(i);r&&(rt("ComponentProvider","Removing Datastore"),jv.delete(i),r.terminate())}(this),Promise.resolve()}}function kI(s,t,i,r={}){s=Qa(s,yh);const l=no(t),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(n0(`https://${g}`),i0("Firestore",!0)),h.host!==sT&&h.host!==g&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:g,ssl:l,emulatorOptions:r};if(!Us(y,d)&&(s._setSettings(y),r.mockUserToken)){let v,b;if(typeof r.mockUserToken=="string")v=r.mockUserToken,b=We.MOCK_USER;else{v=lb(r.mockUserToken,s._app?.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new st(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new We(C)}s._authCredentials=new jw(new K0(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new uo(this.firestore,t,this._query)}}class we{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new we(this.firestore,t,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Gl(i,we._jsonSchema))return new we(t,r||null,new ht(ne.fromString(i.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:Se("string",we._jsonSchemaVersion),referencePath:Se("string")};class Fr extends uo{constructor(t,i,r){super(t,i,xm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new we(this.firestore,null,new ht(t))}withConverter(t){return new Fr(this.firestore,t,this._path)}}function PI(s,t,...i){if(s=dn(s),X0("collection","path",t),s instanceof yh){const r=ne.fromString(t,...i);return W_(r),new Fr(s,null,r)}{if(!(s instanceof we||s instanceof Fr))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ne.fromString(t,...i));return W_(r),new Fr(s.firestore,null,r)}}function kd(s,t,...i){if(s=dn(s),arguments.length===1&&(t=bm.newId()),X0("doc","path",t),s instanceof yh){const r=ne.fromString(t,...i);return J_(r),new we(s,null,new ht(r))}{if(!(s instanceof we||s instanceof Fr))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ne.fromString(t,...i));return J_(r),new we(s.firestore,s instanceof Fr?s.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="AsyncQueue";class Hv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BE(this,"async_queue_retry"),this._c=()=>{const r=Md();r&&rt(qv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Md();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Md();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const i=new ks;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!oo(t))throw t;rt(qv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const i=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,ir("INTERNAL UNHANDLED ERROR: ",Gv(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Bm.createAndSchedule(this,t,i,r,h=>this.hc(h));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:Gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Gv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(s){return function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const h of r)if(h in l&&typeof l[h]=="function")return!0;return!1}(s,["next","error","complete"])}class th extends yh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new Hv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Hv(t),this._firestoreClient=void 0,await t}}}function UI(s,t){const i=typeof s=="object"?s:o0(),r=typeof s=="string"?s:Gc,l=fm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const h=ab("firestore");h&&kI(l,...h)}return l}function aT(s){if(s._terminated)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||LI(s),s._firestoreClient}function LI(s){const t=s._freezeSettings(),i=function(l,h,d,g){return new s2(l,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,rT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new OI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jn(Ke.fromBase64String(t))}catch(i){throw new st(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new jn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gl(t,jn._jsonSchema))return jn.fromBase64String(t.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Se("string",jn._jsonSchemaVersion),bytes:Se("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new st(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new st(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new st(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_i._jsonSchemaVersion}}static fromJSON(t){if(Gl(t,_i._jsonSchema))return new _i(t.latitude,t.longitude)}}_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:Se("string",_i._jsonSchemaVersion),latitude:Se("number"),longitude:Se("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,l){if(r.length!==l.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==l[h])return!1;return!0}(this._values,t._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gl(t,vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(i=>typeof i=="number"))return new vi(t.vectorValues);throw new st(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:Se("string",vi._jsonSchemaVersion),vectorValues:Se("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=/^__.*__$/;class zI{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Gs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ql(t,this.data,i,this.fieldTransforms)}}function lT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class Ym{constructor(t,i,r,l,h,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ym({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return eh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(lT(this.Ac)&&jI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class BI{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||mh(t)}Cc(t,i,r,l=!1){return new Ym({Ac:t,methodName:i,Dc:r,path:Ye.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uT(s){const t=s._freezeSettings(),i=mh(s._databaseId);return new BI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function qI(s,t,i,r,l,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,t,i,l);fT("Data must be an object, but it was:",d,r);const g=cT(r,d);let y,v;if(h.merge)y=new Yn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const b=[];for(const C of h.mergeFields){const O=GI(t,C,i);if(!d.contains(O))throw new st(K.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);QI(b,O)||b.push(O)}y=new Yn(b),v=d.fieldTransforms.filter(C=>y.covers(C.field))}else y=null,v=d.fieldTransforms;return new zI(new Ln(g),y,v)}function HI(s,t,i,r=!1){return Km(i,s.Cc(r?4:3,t))}function Km(s,t){if(hT(s=dn(s)))return fT("Unsupported field value:",t,s),cT(s,t);if(s instanceof oT)return function(r,l){if(!lT(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(r,l){const h=[];let d=0;for(const g of r){let y=Km(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}}(s,t)}return function(r,l){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return x2(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=se.fromDate(r);return{timestampValue:$c(l.serializer,h)}}if(r instanceof se){const h=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$c(l.serializer,h)}}if(r instanceof _i)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jn)return{bytesValue:NE(l.serializer,r._byteString)};if(r instanceof we){const h=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Om(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof vi)return function(d,g){return{mapValue:{fields:{[rE]:{stringValue:sE},[Fc]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Sc("VectorValues must only contain numeric values.");return Cm(g.serializer,v)})}}}}}}(r,l);throw l.Sc(`Unsupported field value: ${sh(r)}`)}(s,t)}function cT(s,t){const i={};return J0(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qs(s,(r,l)=>{const h=Km(l,t.mc(r));h!=null&&(i[r]=h)}),{mapValue:{fields:i}}}function hT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof se||s instanceof _i||s instanceof jn||s instanceof we||s instanceof oT||s instanceof vi)}function fT(s,t,i){if(!hT(i)||!$0(i)){const r=sh(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function GI(s,t,i){if((t=dn(t))instanceof Qm)return t._internalPath;if(typeof t=="string")return dT(s,t);throw eh("Field path arguments must be of type string or ",s,!1,void 0,i)}const FI=new RegExp("[~\\*/\\[\\]]");function dT(s,t,i){if(t.search(FI)>=0)throw eh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Qm(...t.split("."))._internalPath}catch{throw eh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function eh(s,t,i,r,l){const h=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new st(K.INVALID_ARGUMENT,g+s+y)}function QI(s,t){return s.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(t,i,r,l,h){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new YI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(gT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class YI extends mT{data(){return super.data()}}function gT(s,t){return typeof t=="string"?dT(s,t):t instanceof Qm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new st(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xm{}class XI extends Xm{}function $I(s,t,...i){let r=[];t instanceof Xm&&r.push(t),r=r.concat(i),function(h){const d=h.filter(y=>y instanceof Zm).length,g=h.filter(y=>y instanceof $m).length;if(d>1||d>0&&g>0)throw new st(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const l of r)s=l._apply(s);return s}class $m extends XI{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new $m(t,i,r)}_apply(t){const i=this._parse(t);return pT(t._query,i),new uo(t.firestore,t.converter,Jd(t._query,i))}_parse(t){const i=uT(t.firestore);return function(h,d,g,y,v,b,C){let O;if(v.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new st(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Yv(C,b);const Z=[];for(const it of C)Z.push(Qv(y,h,it));O={arrayValue:{values:Z}}}else O=Qv(y,h,C)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Yv(C,b),O=HI(g,d,C,b==="in"||b==="not-in");return Ae.create(v,b,O)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Zm extends Xm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Zm(t,i)}_parse(t){const i=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return i.length===1?i[0]:Kn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:(function(l,h){let d=l;const g=h.getFlattenedFilters();for(const y of g)pT(d,y),d=Jd(d,y)}(t._query,i),new uo(t.firestore,t.converter,Jd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Qv(s,t,i){if(typeof(i=dn(i))=="string"){if(i==="")throw new st(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dE(t)&&i.indexOf("/")!==-1)throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(ne.fromString(i));if(!ht.isDocumentKey(r))throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ov(s,new ht(r))}if(i instanceof we)return ov(s,i._key);throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sh(i)}.`)}function Yv(s,t){if(!Array.isArray(s)||s.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function pT(s,t){const i=function(l,h){for(const d of l)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new st(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class ZI{convertValue(t,i="none"){switch(Xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Kr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return qs(t,(l,h)=>{r[l]=this.convertValue(h,i)}),r}convertVectorValue(t){const i=t.fields?.[Fc].arrayValue?.values?.map(r=>ye(r.doubleValue));return new vi(i)}convertGeoPoint(t){return new _i(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(t,i){switch(i){case"previous":const r=lh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const i=Yr(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ne.fromString(t);Gt(PE(r),9688,{name:t});const l=new Ml(r.get(1),r.get(3)),h=new ht(r.popFirst(5));return l.isEqual(i)||ir(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(s,t,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,r}class bl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ps extends mT{constructor(t,i,r,l,h,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(gT("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ps._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ps._jsonSchema={type:Se("string",Ps._jsonSchemaVersion),bundleSource:Se("string","DocumentSnapshot"),bundleName:Se("string"),bundle:Se("string")};class Vc extends Ps{data(t={}){return super.data(t)}}class Ka{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new bl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(r=>{t.call(i,new Vc(this._firestore,this._userDataWriter,r.key,r,new bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const y=new Vc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new bl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const y=new Vc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new bl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,b=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:WI(g.type),doc:y,oldIndex:v,newIndex:b}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ka._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function WI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}Ka._jsonSchemaVersion="firestore/querySnapshot/1.0",Ka._jsonSchema={type:Se("string",Ka._jsonSchemaVersion),bundleSource:Se("string","QuerySnapshot"),bundleName:Se("string"),bundle:Se("string")};class yT extends ZI{constructor(t){super(),this.firestore=t}convertBytes(t){return new jn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,i)}}function Pd(s,t,i){s=Qa(s,we);const r=Qa(s.firestore,th),l=JI(s.converter,t,i);return tx(r,[qI(uT(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Ji.none())])}function Kv(s,...t){s=dn(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Fv(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Fv(t[r])){const y=t[r];t[r]=y.next?.bind(y),t[r+1]=y.error?.bind(y),t[r+2]=y.complete?.bind(y)}let h,d,g;if(s instanceof we)d=Qa(s.firestore,th),g=xm(s._key.path),h={next:y=>{t[r]&&t[r](ex(d,s,y))},error:t[r+1],complete:t[r+2]};else{const y=Qa(s,uo);d=Qa(y.firestore,th),g=y._query;const v=new yT(d);h={next:b=>{t[r]&&t[r](new Ka(d,v,y,b))},error:t[r+1],complete:t[r+2]},KI(s._query)}return function(v,b,C,O){const F=new DI(O),Z=new fI(b,F,C);return v.asyncQueue.enqueueAndForget(async()=>lI(await Lv(v),Z)),()=>{F.Nu(),v.asyncQueue.enqueueAndForget(async()=>uI(await Lv(v),Z))}}(aT(d),g,l,h)}function tx(s,t){return function(r,l){const h=new ks;return r.asyncQueue.enqueueAndForget(async()=>bI(await VI(r),l,h)),h.promise}(aT(s),t)}function ex(s,t,i){const r=i.docs.get(t._key),l=new yT(s);return new Ps(s,l,t._key,r,new bl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){so=l})(io),Xa(new Ls("firestore",(r,{instanceIdentifier:l,options:h})=>{const d=r.getProvider("app").getImmediate(),g=new th(new zw(r.getProvider("auth-internal")),new Hw(d,r.getProvider("app-check-internal")),function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new st(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(v.options.projectId,b)}(d,l),d);return h={useFetchStreams:i,...h},g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Hr(K_,X_,t),Hr(K_,X_,"esm2020")})();const Sc=typeof __app_id<"u"?__app_id:"default-app-id",nx=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{},Xv=typeof __initial_auth_token<"u"?__initial_auth_token:null;let Ud,Ki,Ba;try{Ud=a0(nx),Ki=UI(Ud),Ba=Pw(Ud)}catch(s){console.error("Firebase initialization error:",s)}const Pa=[{id:"q1",type:"multiple-choice",question:"'주식'이란 무엇을 의미하나요?",options:["기업의 소유권을 나타내는 증서","은행에 예치한 예금","외환 거래에 사용되는 통화"],answer:"기업의 소유권을 나타내는 증서",explanation:"주식을 소유하면, 해당 회사의 지분을 보유하게 되며, 주주로서 배당금이나 의결권 등의 권리를 가질 수 있습니다."},{id:"q2",type:"multiple-choice",question:"'PER'이란 무엇을 의미하나요?",options:["부채와 자본의 비율","배당금 지급 비율","주가와 기업 이익의 비율"],answer:"주가와 기업 이익의 비율",explanation:"'PER'은 회사의 순이익에 대비해 주가가 얼마나 높은지를 나타내는 지표입니다."},{id:"q3",type:"multiple-choice",question:"다음 중 인플레이션에 대한 올바른 설명은 무엇인가요?",options:["상품과 서비스의 전반적인 가격 수준이 지속적으로 하락하는 현상","화폐의 구매력이 상승하여 동일한 금액으로 더 많은 상품을 구매할 수 있는 현상","상품과 서비스의 전반적인 가격 수준이 지속적으로 상승하는 현상"],answer:"상품과 서비스의 전반적인 가격 수준이 지속적으로 상승하는 현상",explanation:"인플레이션은 상품과 서비스의 전반적인 가격 수준이 지속적으로 상승하는 현상을 의미합니다."},{id:"q4",type:"multiple-choice",question:"투자 포트폴리오를 구성할 때 분산 투자의 주요 목적은 무엇인가요?",options:["단일 자산에 집중하여 최대한의 수익을 얻기 위해","다양한 자산에 투자하여 위험을 감소시키기 위해","시장의 특정 트렌드를 따라 수익을 극대화하기 위해"],answer:"다양한 자산에 투자하여 위험을 감소시키기 위해",explanation:"분산 투자의 주요 목적은 다양한 자산에 투자하여 위험을 감소시키고 안정적인 수익을 추구하는 것입니다."},{id:"q5",type:"fill-in-the-blank",question:"기업이 투자자에게 이익의 일부를 나눠주기 위해 지급하는 것을 (이)라고 합니다.",options:["금리","이자","지원금","배당금"],answer:"배당금",explanation:"배당금은 주식 투자자들에게 돌아가는 이익의 형태로, 주식의 보유 비율에 따라 지급됩니다."}],ix=()=>{const[s,t]=Kt.useState("splash"),[i,r]=Kt.useState(""),[l,h]=Kt.useState(""),[d,g]=Kt.useState(""),[y,v]=Kt.useState(""),[b,C]=Kt.useState(""),[O,F]=Kt.useState(0),[Z,it]=Kt.useState(null),[J,_t]=Kt.useState(!1),[dt,ct]=Kt.useState(!1),[Lt,Tt]=Kt.useState(0),[jt,V]=Kt.useState(!1),[S,I]=Kt.useState(null),[D,M]=Kt.useState(null),[P,R]=Kt.useState([]),[Oe,le]=Kt.useState(!1),[H,nt]=Kt.useState(!1),[ot,zt]=Kt.useState(""),[x,$]=Kt.useState(180),[et,W]=Kt.useState(!1),[lt,St]=Kt.useState(!1),[mt,de]=Kt.useState(!1),[Ft,An]=Kt.useState(!1),[Xn,Sn]=Kt.useState(!1),[Ti,$n]=Kt.useState("");Kt.useEffect(()=>{if(!Ba||!Ki){console.error("Firebase is not initialized.");return}const te=wS(Ba,async ft=>{if(ft){if(I(ft.uid),Xv&&ft.isAnonymous)try{await bS(Ba,Xv),console.log("Signed in with custom token.")}catch(ie){console.error("Error signing in with custom token:",ie),await U_(Ba),console.log("Signed in anonymously as fallback.")}V(!0)}else try{await U_(Ba),console.log("Signed in anonymously.")}catch(ie){console.error("Error signing in anonymously:",ie)}});return()=>te()},[]),Kt.useEffect(()=>{if(jt&&S&&Ki){const te=kd(Ki,`artifacts/${Sc}/users/${S}/profile`,"userProfile"),ft=Kv(te,mn=>{mn.exists()?M(mn.data()):Pd(te,{name:"",phone:"",nickname:`User_${S.substring(0,6)}`,gender:"",birthdate:"",totalAssets:0,quizProgress:0,quizAccuracy:0,acquiredTitles:[],score:0})},mn=>{console.error("Error fetching user profile:",mn)}),ie=PI(Ki,`artifacts/${Sc}/public/data/rankings`),ar=$I(ie),Wr=Kv(ar,mn=>{const re=mn.docs.map(Mt=>({id:Mt.id,...Mt.data()}));re.sort((Mt,rn)=>(rn.score||0)-(Mt.score||0)),R(re)},mn=>{console.error("Error fetching rankings:",mn)});return()=>{ft(),Wr()}}},[jt,S,Ki]);const Me=te=>{$n(te),Sn(!0),setTimeout(()=>{Sn(!1),$n("")},3e3)},ze=()=>{switch(s){case"splash":t("welcome");break;case"welcome":t("onboardingName");break;case"onboardingName":if(i.trim()===""){Me("이름을 입력해주세요.");return}t("onboardingPhone");break;case"onboardingPhone":if(l.trim()===""){Me("휴대폰 번호를 입력해주세요.");return}t("terms");break;case"terms":if(!lt||!mt){Me("필수 약관에 동의해주세요.");return}t("otp"),nn();break;case"otp":ot==="1234"?(nt(!1),t("profileSetup")):Me("인증번호가 올바르지 않습니다.");break;case"profileSetup":if(d.trim()===""||y.trim()===""||b.trim()===""){Me("모든 프로필 정보를 입력해주세요.");return}co(),t("quizIntro");break;case"quizIntro":t("quiz");break;case"quiz":if(J)O<Pa.length-1?(F(O+1),it(null),_t(!1),ct(!1)):t("quizComplete");else{if(Z===null){Me("답변을 선택해주세요.");return}const te=Pa[O],ft=Z===te.answer;ct(ft),_t(!0),ft&&Tt(ie=>ie+1)}break;case"quizComplete":t("badgeReceive");break;case"badgeReceive":t("dashboard");break;case"dashboard":break;case"profile":break;case"ranking":break;default:t("splash")}},bi=()=>{switch(s){case"onboardingPhone":t("onboardingName");break;case"terms":t("onboardingPhone");break;case"otp":t("terms"),W(!1),$(180);break;case"profileSetup":t("otp");break;case"quizIntro":t("profileSetup");break;case"quiz":O>0?(F(O-1),it(null),_t(!1),ct(!1)):t("quizIntro");break;case"quizComplete":t("quiz");break;case"badgeReceive":t("quizComplete");break;case"profile":case"ranking":case"marketSummary":t("dashboard");break;default:t("splash")}},nn=()=>{$(180),W(!0)};Kt.useEffect(()=>{let te;return et&&x>0?te=setInterval(()=>{$(ft=>ft-1)},1e3):x===0&&(W(!1),Me("인증 시간이 만료되었습니다. 재요청해주세요.")),()=>clearInterval(te)},[et,x]);const co=async()=>{if(!S||!Ki){Me("사용자 인증 정보를 찾을 수 없습니다.");return}const te=kd(Ki,`artifacts/${Sc}/users/${S}/profile`,"userProfile"),ft=kd(Ki,`artifacts/${Sc}/public/data/rankings`,S);try{await Pd(te,{name:i,phone:l,nickname:d,gender:y,birthdate:b,totalAssets:D?.totalAssets||1e6,quizProgress:Pa.length,quizAccuracy:Lt/Pa.length*100,acquiredTitles:D?.acquiredTitles||["첫 도전"],score:Lt*1e4},{merge:!0}),await Pd(ft,{userId:S,nickname:d,score:Lt*1e4,title:"주린이"},{merge:!0}),Me("프로필이 성공적으로 저장되었습니다!")}catch(ie){console.error("Error saving profile or ranking: ",ie),Me("프로필 저장 중 오류가 발생했습니다.")}},Jr=()=>{switch(s){case"splash":return A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white cursor-pointer",onClick:ze,children:[A.jsxs("svg",{width:"200",height:"100",viewBox:"0 0 200 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{d:"M10 50C10 22.3858 32.3858 0 60 0C87.6142 0 110 22.3858 110 50C110 77.6142 87.6142 100 60 100C32.3858 100 10 77.6142 10 50Z",fill:"#66B2FF"}),A.jsx("path",{d:"M90 50C90 22.3858 112.386 0 140 0C167.614 0 190 22.3858 190 50C190 77.6142 167.614 100 140 100C112.386 100 90 77.6142 90 50Z",fill:"#3385FF"}),A.jsx("path",{d:"M100 40C100 17.9086 117.909 0 140 0C162.091 0 180 17.9086 180 40C180 62.0914 162.091 80 140 80C117.909 80 100 62.0914 100 40Z",fill:"#0056B3"})]}),A.jsx("p",{className:"mt-8 text-2xl font-bold text-gray-800",children:"화면을 터치 해주세요"})]});case"welcome":return A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white p-4",children:[A.jsx("div",{className:"bg-gray-100 rounded-full p-8 mb-8 shadow-lg",children:A.jsxs("svg",{width:"100",height:"100",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{d:"M2 6C2 4.89543 2.89543 4 4 4H12C13.1046 4 14 4.89543 14 6V18C14 19.1046 13.1046 20 12 20H4C2.89543 20 2 19.1046 2 18V6Z",fill:"#66B2FF"}),A.jsx("path",{d:"M10 6C10 4.89543 10.8954 4 12 4H20C21.1046 4 22 4.89543 22 6V18C22 19.1046 21.1046 20 20 20H12C10.8954 20 10 19.1046 10 18V6Z",fill:"#3385FF"}),A.jsx("path",{d:"M12 4L12 20",stroke:"#0056B3",strokeWidth:"2",strokeLinecap:"round"})]})}),A.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"주린이"}),A.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"금융공부를 시작해볼게요!"}),A.jsx("button",{className:"w-full max-w-sm bg-blue-600 text-white py-4 rounded-full text-xl font-semibold shadow-lg hover:bg-blue-700 transition-colors",onClick:ze,children:"시작"})]});case"onboardingName":return A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white p-4",children:[A.jsx("div",{className:"w-full flex justify-start mb-8",children:A.jsx("button",{onClick:bi,className:"text-gray-600 text-2xl font-bold",children:"<"})}),A.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"이름을 작성해주세요"}),A.jsx("p",{className:"text-md text-gray-500 mb-8",children:"가입하는 분의 정보로 작성해주세요."}),A.jsx("input",{type:"text",className:"w-full max-w-md p-4 mb-8 border border-gray-300 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"윤창혁",value:i,onChange:ft=>r(ft.target.value)}),A.jsx("button",{className:"w-full max-w-sm bg-blue-600 text-white py-4 rounded-full text-xl font-semibold shadow-lg hover:bg-blue-700 transition-colors",onClick:ze,children:"다음"})]});case"onboardingPhone":return A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white p-4",children:[A.jsx("div",{className:"w-full flex justify-start mb-8",children:A.jsx("button",{onClick:bi,className:"text-gray-600 text-2xl font-bold",children:"<"})}),A.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"휴대폰 번호를 입력해주세요"}),A.jsx("p",{className:"text-md text-gray-500 mb-8",children:"가입하는 분의 정보로 작성해주세요."}),A.jsx("input",{type:"tel",className:"w-full max-w-md p-4 mb-8 border border-gray-300 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"010-1234-1234",value:l,onChange:ft=>h(ft.target.value)}),A.jsx("button",{className:"w-full max-w-sm bg-blue-600 text-white py-4 rounded-full text-xl font-semibold shadow-lg hover:bg-blue-700 transition-colors",onClick:ze,children:"다음"})]});case"terms":return A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white p-4",children:[A.jsx("div",{className:"w-full flex justify-start mb-8",children:A.jsx("button",{onClick:bi,className:"text-gray-600 text-2xl font-bold",children:"<"})}),A.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-8",children:"Plain edu 약관 동의가 필요해요"}),A.jsxs("div",{className:"w-full max-w-md bg-gray-50 p-6 rounded-lg shadow-md",children:[A.jsxs("label",{className:"flex items-center mb-4 text-lg text-gray-700",children:[A.jsx("input",{type:"checkbox",className:"form-checkbox h-5 w-5 text-blue-600 rounded mr-3",checked:lt&&mt,onChange:()=>{const ft=!(lt&&mt);St(ft),de(ft)}}),"서비스 이용약관 전체동의"]}),A.jsxs("label",{className:"flex items-center mb-4 text-gray-700",children:[A.jsx("input",{type:"checkbox",className:"form-checkbox h-5 w-5 text-blue-600 rounded mr-3",checked:lt,onChange:()=>St(!lt)}),"Plain edu 서비스 이용약관 (필수)",A.jsx("span",{className:"ml-auto text-blue-500",children:">"})]}),A.jsxs("label",{className:"flex items-center mb-4 text-gray-700",children:[A.jsx("input",{type:"checkbox",className:"form-checkbox h-5 w-5 text-blue-600 rounded mr-3",checked:mt,onChange:()=>de(!mt)}),"개인정보 처리방침 (필수)",A.jsx("span",{className:"ml-auto text-blue-500",children:">"})]}),A.jsxs("label",{className:"flex items-center text-gray-700",children:[A.jsx("input",{type:"checkbox",className:"form-checkbox h-5 w-5 text-blue-600 rounded mr-3",checked:Ft,onChange:()=>An(!Ft)}),"마케팅 정보 수신 동의 (선택)",A.jsx("span",{className:"ml-auto text-blue-500",children:">"})]})]}),A.jsx("button",{className:"w-full max-w-sm bg-blue-600 text-white py-4 rounded-full text-xl font-semibold shadow-lg hover:bg-blue-700 transition-colors mt-8",onClick:ze,children:"다음"})]});case"otp":return A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white p-4",children:[A.jsx("div",{className:"w-full flex justify-start mb-8",children:A.jsx("button",{onClick:bi,className:"text-gray-600 text-2xl font-bold",children:"<"})}),A.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"인증번호"}),A.jsx("p",{className:"text-md text-gray-500 mb-8",children:"인증번호를 입력해주세요"}),A.jsxs("div",{className:"flex items-center mb-8",children:[A.jsxs("span",{className:"text-xl font-semibold text-gray-700 mr-4",children:[Math.floor(x/60).toString().padStart(2,"0"),":",(x%60).toString().padStart(2,"0")]}),A.jsx("input",{type:"text",maxLength:"4",className:"w-32 p-4 text-center border border-gray-300 rounded-lg text-3xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-500",value:ot,onChange:ft=>zt(ft.target.value)}),A.jsxs("div",{className:"flex ml-4 space-x-2",children:[[...Array(3)].map((ft,ie)=>A.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center text-xl font-bold text-gray-700",children:ot[ie]||""},ie)),A.jsxs("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center text-xl font-bold text-white",children:[ot[3]||"7"," "]})]})]}),A.jsx("button",{className:"bg-gray-200 text-gray-700 py-3 px-6 rounded-full text-lg font-semibold shadow-md hover:bg-gray-300 transition-colors mb-4",onClick:nn,disabled:et,children:"재요청"}),A.jsx("button",{className:"w-full max-w-sm bg-blue-600 text-white py-4 rounded-full text-xl font-semibold shadow-lg hover:bg-blue-700 transition-colors",onClick:ze,children:"다음"})]});case"profileSetup":return A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white p-4",children:[A.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-8",children:"나만의 프로필을 설정해주세요"}),A.jsxs("div",{className:"w-full max-w-md p-6 bg-gray-50 rounded-lg shadow-md",children:[A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block text-gray-700 text-lg font-semibold mb-2",children:"닉네임"}),A.jsx("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"닉네임",value:d,onChange:ft=>g(ft.target.value)})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block text-gray-700 text-lg font-semibold mb-2",children:"성별"}),A.jsxs("div",{className:"flex space-x-4",children:[A.jsxs("label",{className:"flex items-center text-gray-700",children:[A.jsx("input",{type:"radio",name:"gender",value:"남성",checked:y==="남성",onChange:ft=>v(ft.target.value),className:"form-radio h-4 w-4 text-blue-600"}),A.jsx("span",{className:"ml-2",children:"남성"})]}),A.jsxs("label",{className:"flex items-center text-gray-700",children:[A.jsx("input",{type:"radio",name:"gender",value:"여성",checked:y==="여성",onChange:ft=>v(ft.target.value),className:"form-radio h-4 w-4 text-blue-600"}),A.jsx("span",{className:"ml-2",children:"여성"})]})]})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block text-gray-700 text-lg font-semibold mb-2",children:"생년월일"}),A.jsx("input",{type:"date",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:b,onChange:ft=>C(ft.target.value)})]})]}),A.jsx("button",{className:"w-full max-w-sm bg-blue-600 text-white py-4 rounded-full text-xl font-semibold shadow-lg hover:bg-blue-700 transition-colors mt-8",onClick:ze,children:"다음"})]});case"quizIntro":return A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white p-4",children:[A.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:[D?.nickname||i,"님의 금융지식을"]}),A.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"체크해볼게요!"}),A.jsx("button",{className:"w-full max-w-sm bg-blue-600 text-white py-4 rounded-full text-xl font-semibold shadow-lg hover:bg-blue-700 transition-colors",onClick:ze,children:"다음"})]});case"quiz":const te=Pa[O];return A.jsxs("div",{className:"flex flex-col items-center min-h-screen bg-white p-4",children:[A.jsx("div",{className:"w-full flex justify-end mb-4",children:A.jsxs("span",{className:"text-lg font-semibold text-gray-600",children:[O+1," / ",Pa.length]})}),A.jsxs("div",{className:"w-full max-w-md bg-gray-100 rounded-lg p-6 mb-8 shadow-lg",children:[A.jsx("div",{className:"w-full h-40 bg-gray-200 rounded-lg mb-6 flex items-center justify-center",children:A.jsxs("svg",{width:"100",height:"100",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{d:"M19 5H5C3.89543 5 3 5.89543 3 7V17C3 18.1046 3.89543 19 5 19H19C20.1046 19 21 18.1046 21 17V7C21 5.89543 20.1046 5 19 5Z",stroke:"#3385FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),A.jsx("path",{d:"M7 15L10 12L13 15L17 9",stroke:"#66B2FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),A.jsx("circle",{cx:"9",cy:"9",r:"2",fill:"#66B2FF"}),A.jsx("rect",{x:"15",y:"8",width:"2",height:"8",fill:"#0056B3"}),A.jsx("rect",{x:"18",y:"10",width:"2",height:"6",fill:"#0056B3"}),A.jsx("rect",{x:"12",y:"12",width:"2",height:"4",fill:"#0056B3"}),A.jsx("rect",{x:"9",y:"14",width:"2",height:"2",fill:"#0056B3"})]})}),A.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:te.question}),A.jsx("div",{className:"space-y-4",children:te.options.map((ft,ie)=>A.jsx("button",{className:`w-full p-4 rounded-lg border text-left text-lg font-medium transition-colors
                      ${Z===ft?J?dt?"bg-green-100 border-green-500 text-green-800":"bg-red-100 border-red-500 text-red-800":"bg-blue-100 border-blue-500 text-blue-800":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}
                      ${J&&te.answer===ft?"border-green-500 bg-green-100 text-green-800":""}
                    `,onClick:()=>!J&&it(ft),disabled:J,children:ft},ie))})]}),J&&A.jsxs("div",{className:`w-full max-w-md p-4 rounded-lg mt-4 ${dt?"bg-green-500":"bg-red-500"} text-white text-center font-bold text-lg`,children:[dt?"정답입니다":"오답입니다",!dt&&A.jsxs("p",{className:"text-sm mt-2",children:["정답: ",te.answer]}),A.jsx("p",{className:"text-sm mt-2",children:te.explanation})]}),A.jsx("button",{className:"w-full max-w-sm bg-blue-600 text-white py-4 rounded-full text-xl font-semibold shadow-lg hover:bg-blue-700 transition-colors mt-8",onClick:ze,children:"다음"})]});case"quizComplete":return A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white p-4",children:[A.jsx("div",{className:"absolute inset-0 overflow-hidden",children:Array.from({length:50}).map((ft,ie)=>A.jsx("div",{className:"absolute bg-blue-400 rounded-full opacity-70",style:{width:`${Math.random()*10+5}px`,height:`${Math.random()*10+5}px`,top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,animation:`fall ${Math.random()*3+2}s linear infinite`,animationDelay:`-${Math.random()*5}s`,transform:`rotate(${Math.random()*360}deg)`}},ie))}),A.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4 z-10",children:"문제를 모두 풀었어요!"}),A.jsx("p",{className:"text-xl text-gray-600 mb-8 z-10",children:"도전 뱃지를 드릴게요~"}),A.jsx("button",{className:"w-full max-w-sm bg-blue-600 text-white py-4 rounded-full text-xl font-semibold shadow-lg hover:bg-blue-700 transition-colors z-10",onClick:ze,children:"뱃지 받기"}),A.jsx("style",{children:`
              @keyframes fall {
                0% { transform: translateY(-100px) rotate(0deg); opacity: 0; }
                20% { opacity: 1; }
                100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
              }
            `})]});case"badgeReceive":return A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white p-4",children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"첫 도전"}),A.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"금융공부를 시작했어요"}),A.jsx("button",{className:"w-full max-w-sm bg-blue-600 text-white py-4 rounded-full text-xl font-semibold shadow-lg hover:bg-blue-700 transition-colors",onClick:ze,children:"퀴즈 종료"})]});case"dashboard":return A.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-100 p-4 pb-20",children:[A.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"내 금융지식"}),A.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[A.jsxs("p",{className:"text-3xl font-bold text-blue-600 mb-2",children:[D?.totalAssets?.toLocaleString()||"1,000,000","원"]}),A.jsx("p",{className:"text-lg text-green-500 mb-4",children:"일주일 전 대비 +12%"}),A.jsx("div",{className:"w-full h-32 bg-gray-200 rounded-lg flex items-center justify-center text-gray-500"}),A.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mt-2",children:[A.jsx("span",{children:"7일 전"}),A.jsx("span",{children:"5일 전"}),A.jsx("span",{children:"3일 전"}),A.jsx("span",{children:"1일 전"}),A.jsx("span",{children:"현재"})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[A.jsx("button",{className:"bg-blue-600 text-white py-4 rounded-full text-xl font-semibold shadow-lg hover:bg-blue-700 transition-colors",onClick:()=>{F(0),it(null),_t(!1),ct(!1),t("quiz")},children:"퀴즈 풀기"}),A.jsx("button",{className:"bg-green-500 text-white py-4 rounded-full text-xl font-semibold shadow-lg hover:bg-green-600 transition-colors",children:"수익 실현하기"})]}),A.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"원하는 분야 퀴즈 풀기"}),A.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:["반도체","바이오","조선","2차 전지"].map(ft=>A.jsx("button",{className:"bg-white border border-gray-300 py-3 rounded-lg text-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:ft},ft))}),A.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"오늘 장 요약"}),A.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"미국 증시 마감 25.07.23"}),A.jsx("p",{className:"text-gray-700",children:"S&P500 +0.06%, 나스닥 -0.39%"}),A.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"기술주 자금이 경기방어주로 이동하며 혼조세"}),A.jsx("h3",{className:"text-lg font-semibold text-gray-800 mt-4 mb-2",children:"상승 섹터"}),A.jsx("p",{className:"text-green-600",children:"전기차 +4.17%, 헬스케어 +3.20%"}),A.jsx("h3",{className:"text-lg font-semibold text-gray-800 mt-4 mb-2",children:"하락 섹터"}),A.jsx("p",{className:"text-red-600",children:"양자컴퓨터 -1.55%, 반도체 -1.18%"})]}),A.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around py-3 shadow-lg",children:[A.jsxs("button",{onClick:()=>t("dashboard"),className:"flex flex-col items-center text-blue-600",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-home",children:[A.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),A.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),A.jsx("span",{className:"text-xs",children:"홈"})]}),A.jsxs("button",{onClick:()=>t("ranking"),className:"flex flex-col items-center text-gray-500 hover:text-blue-600",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trophy",children:[A.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),A.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),A.jsx("path",{d:"M4 22h16"}),A.jsx("path",{d:"M10 11V7"}),A.jsx("path",{d:"M14 11V7"}),A.jsx("path",{d:"M14 15v-4"}),A.jsx("path",{d:"M10 15v-4"}),A.jsx("path",{d:"M8 22v-4h8v4"}),A.jsx("path",{d:"M12 17v5"}),A.jsx("path",{d:"M12 11h.01"}),A.jsx("path",{d:"M12 15h.01"})]}),A.jsx("span",{className:"text-xs",children:"순위"})]}),A.jsxs("button",{className:"flex flex-col items-center text-gray-500 hover:text-blue-600",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-gem",children:[A.jsx("path",{d:"M6 2L3 6l14 16 3-4L6 2z"}),A.jsx("path",{d:"M11 2L2 6l14 16 9-4L11 2z"})]}),A.jsx("span",{className:"text-xs",children:"프리미엄"})]}),A.jsxs("button",{onClick:()=>t("profile"),className:"flex flex-col items-center text-gray-500 hover:text-blue-600",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-user",children:[A.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),A.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),A.jsx("span",{className:"text-xs",children:"프로필"})]})]})]});case"profile":return A.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-100 p-4 pb-20",children:[A.jsx("div",{className:"w-full flex justify-start mb-4",children:A.jsx("button",{onClick:()=>t("dashboard"),className:"text-gray-600 text-2xl font-bold",children:"<"})}),A.jsxs("div",{className:"flex flex-col items-center bg-white rounded-lg shadow-md p-6 mb-6",children:[A.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-300 mb-4 flex items-center justify-center text-gray-600 text-sm overflow-hidden",children:A.jsx("img",{src:"https://placehold.co/96x96/cccccc/333333?text=Profile",alt:"Profile",className:"w-full h-full object-cover"})}),A.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:D?.nickname||"닉네임 없음"}),A.jsx("p",{className:"text-md text-gray-600 mb-2",children:"다들 성투하세요~"}),A.jsxs("p",{className:"text-lg font-semibold text-blue-600 mb-4",children:["주린이 현재 ",(D?.totalAssets-1e6).toLocaleString()||"0","원 수익"]}),A.jsx("button",{className:"bg-gray-200 text-gray-700 py-2 px-4 rounded-full text-sm font-semibold hover:bg-gray-300 transition-colors",children:"프로필 수정"}),A.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["User ID: ",S]})," "]}),A.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[A.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"퀴즈 진행도"}),A.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-2",children:A.jsx("div",{className:"bg-blue-600 h-4 rounded-full",style:{width:`${D?.quizProgress}%`}})}),A.jsxs("p",{className:"text-md text-gray-600 mb-4",children:["목표까지 ",100-(D?.quizProgress||0),"% 남았어요!"]}),A.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"획득 타이틀"}),A.jsx("div",{className:"flex flex-wrap gap-2",children:D?.acquiredTitles?.map((ft,ie)=>A.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full",children:ft},ie))})]}),A.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[A.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"총 자산"}),A.jsxs("p",{className:"text-2xl font-bold text-blue-600 mb-4",children:[D?.totalAssets?.toLocaleString()||"1,000,000","원"]}),A.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"퀴즈 정답률"}),A.jsxs("p",{className:"text-2xl font-bold text-green-600 mb-4",children:[D?.quizAccuracy?.toFixed(0)||"0","%"]})]}),A.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around py-3 shadow-lg",children:[A.jsxs("button",{onClick:()=>t("dashboard"),className:"flex flex-col items-center text-gray-500 hover:text-blue-600",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-home",children:[A.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),A.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),A.jsx("span",{className:"text-xs",children:"홈"})]}),A.jsxs("button",{onClick:()=>t("ranking"),className:"flex flex-col items-center text-gray-500 hover:text-blue-600",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trophy",children:[A.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),A.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),A.jsx("path",{d:"M4 22h16"}),A.jsx("path",{d:"M10 11V7"}),A.jsx("path",{d:"M14 11V7"}),A.jsx("path",{d:"M14 15v-4"}),A.jsx("path",{d:"M10 15v-4"}),A.jsx("path",{d:"M8 22v-4h8v4"}),A.jsx("path",{d:"M12 17v5"}),A.jsx("path",{d:"M12 11h.01"}),A.jsx("path",{d:"M12 15h.01"})]}),A.jsx("span",{className:"text-xs",children:"순위"})]}),A.jsxs("button",{className:"flex flex-col items-center text-gray-500 hover:text-blue-600",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-gem",children:[A.jsx("path",{d:"M6 2L3 6l14 16 3-4L6 2z"}),A.jsx("path",{d:"M11 2L2 6l14 16 9-4L11 2z"})]}),A.jsx("span",{className:"text-xs",children:"프리미엄"})]}),A.jsxs("button",{onClick:()=>t("profile"),className:"flex flex-col items-center text-blue-600",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-user",children:[A.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),A.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),A.jsx("span",{className:"text-xs",children:"프로필"})]})]})]});case"ranking":return A.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-100 p-4 pb-20",children:[A.jsx("div",{className:"w-full flex justify-start mb-4",children:A.jsx("button",{onClick:()=>t("dashboard"),className:"text-gray-600 text-2xl font-bold",children:"<"})}),A.jsxs("div",{className:"flex justify-around bg-white rounded-t-lg shadow-md mb-4 p-2",children:[A.jsx("button",{className:"py-2 px-4 text-blue-600 font-semibold border-b-2 border-blue-600",children:"전체 랭킹"}),A.jsx("button",{className:"py-2 px-4 text-gray-600 font-semibold",children:"친구 랭킹"}),A.jsx("button",{className:"py-2 px-4 text-gray-600 font-semibold",children:"친구목록"})]}),A.jsxs("div",{className:"bg-white rounded-b-lg shadow-md p-6",children:[A.jsxs("div",{className:"grid grid-cols-3 font-bold text-gray-700 border-b pb-2 mb-4",children:[A.jsx("span",{children:"순위"}),A.jsx("span",{children:"이름"}),A.jsx("span",{children:"점수"})]}),P.map((ft,ie)=>A.jsxs("div",{className:`grid grid-cols-3 items-center py-3 ${ie%2===0?"bg-gray-50":"bg-white"} rounded-lg mb-2`,children:[A.jsxs("span",{className:"text-center font-semibold",children:[ie+1,"위"]}),A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-300 mr-3 overflow-hidden",children:A.jsx("img",{src:"https://placehold.co/40x40/cccccc/333333?text=User",alt:"User",className:"w-full h-full object-cover"})}),A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold text-gray-800",children:ft.nickname}),A.jsx("p",{className:"text-sm text-gray-500",children:ft.title})]})]}),A.jsxs("span",{className:"text-right font-semibold text-blue-600",children:[ft.score?.toLocaleString(),"p"]})]},ft.id))]}),A.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around py-3 shadow-lg",children:[A.jsxs("button",{onClick:()=>t("dashboard"),className:"flex flex-col items-center text-gray-500 hover:text-blue-600",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-home",children:[A.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),A.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),A.jsx("span",{className:"text-xs",children:"홈"})]}),A.jsxs("button",{onClick:()=>t("ranking"),className:"flex flex-col items-center text-blue-600",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trophy",children:[A.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),A.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),A.jsx("path",{d:"M4 22h16"}),A.jsx("path",{d:"M10 11V7"}),A.jsx("path",{d:"M14 11V7"}),A.jsx("path",{d:"M14 15v-4"}),A.jsx("path",{d:"M10 15v-4"}),A.jsx("path",{d:"M8 22v-4h8v4"}),A.jsx("path",{d:"M12 17v5"}),A.jsx("path",{d:"M12 11h.01"}),A.jsx("path",{d:"M12 15h.01"})]}),A.jsx("span",{className:"text-xs",children:"순위"})]}),A.jsxs("button",{className:"flex flex-col items-center text-gray-500 hover:text-blue-600",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-gem",children:[A.jsx("path",{d:"M6 2L3 6l14 16 3-4L6 2z"}),A.jsx("path",{d:"M11 2L2 6l14 16 9-4L11 2z"})]}),A.jsx("span",{className:"text-xs",children:"프리미엄"})]}),A.jsxs("button",{onClick:()=>t("profile"),className:"flex flex-col items-center text-gray-500 hover:text-blue-600",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-user",children:[A.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),A.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),A.jsx("span",{className:"text-xs",children:"프로필"})]})]})]});default:return A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white",children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"페이지를 찾을 수 없습니다."}),A.jsx("button",{className:"mt-8 bg-blue-600 text-white py-3 px-6 rounded-full text-lg font-semibold hover:bg-blue-700 transition-colors",onClick:()=>t("splash"),children:"시작 화면으로 돌아가기"})]})}};return A.jsxs("div",{className:"App font-inter",children:[A.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap",rel:"stylesheet"}),A.jsx("script",{src:"https://cdn.tailwindcss.com"}),Jr(),Xn&&A.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-black text-white px-6 py-3 rounded-full shadow-lg z-50 animate-fade-in-out",children:Ti}),A.jsx("style",{children:`
        @keyframes fadeInOut {
          0%, 100% { opacity: 0; }
          10%, 90% { opacity: 1; }
        }
        .animate-fade-in-out {
          animation: fadeInOut 3s ease-in-out forwards;
        }
      `})]})};Z1.createRoot(document.getElementById("root")).render(A.jsx(Kt.StrictMode,{children:A.jsx(ix,{})}));
